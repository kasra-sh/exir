!function(){var e,t,n,r,o="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},i={};r={kebab:function(e){let t="",n=!1;for(let r=0;r<e.length;r++){let o=e.charAt(r);"_"!==o?(o>="A"&&o<="Z"&&r>0&&!n&&(t+="-"),t+=o.toLowerCase(),n=!1):(t+="-",n=!0)}return t},camel:function(e){let t="",n=!1;for(let r=0;r<e.length;r++){let o=e.charAt(r);"-"===o||"_"===o?n=!0:!0===n?(t+=o.toUpperCase(),n=!1):t+=0===r?o.toLowerCase():o}return t},pascal:function(e){let t="",n=!1;for(let r=0;r<e.length;r++){let o=e.charAt(r);"-"===o||"_"===o?n=!0:!0===n?(t+=o.toUpperCase(),n=!1):t+=0===r?o.toUpperCase():o}return t},snake:function(e){let t="",n=!1;for(let r=0;r<e.length;r++){let o=e.charAt(r);"-"!==o?(o>="A"&&o<="Z"&&r>0&&!n&&(t+="_"),t+=o.toLowerCase(),n=!1):(t+="_",n=!0)}return t}};const{kebab:s}=r;var u,c={};function l(e){return null!==e&&void 0===e}function f(e){return null===e}function a(e){return!l(e)&&!f(e)}function p(e){return"function"==typeof e}function d(e){return null!==e&&"object"==typeof e}function h(e,t,n){return!!a(e)&&(p(n)?n(e[t]):e.hasOwnProperty(t))}c={typeName:function(e){return e.hasOwnProperty("constructor")?e.constructor.name:typeof e},isUnd:l,isNull:f,isVal:a,isNum:function(e){return"number"==typeof e},isStr:function(e){return"string"==typeof e||e instanceof String},isFun:p,isObj:d,isArr:function(e){return e instanceof Array},isPrim:function(e){return a(e)&&!d(e)&&!p(e)||"symbol"==typeof e},isList:function(e){return a(e.length)&&p(e.item)},isMutableList:function(e){return a(e.length)&&p(e.item)&&p(e.add)},isSet:function(e){return e instanceof Set},isMap:function(e){return e instanceof Map},isError:function(e){return e instanceof Error},isEl:function(e){return e instanceof Element||e instanceof HTMLElement||e instanceof Node},isEls:function(e){return e instanceof HTMLCollection||e instanceof NodeList},hasField:h,isEmpty:function(e){return h(e,"length")?e.length<=0:!p(e)&&(!d(e)||Object.keys(e).length<=0)},Enum:function(e){let t=0,n={};for(let r of Object.keys(e))n[n[t]=r]=t++;return n},dict:function(...e){let t={};for(let n=0;n<e.length;n++)n%2==0&&(t[e[n]]=e[n+1]);return t}},o._X_LOOP_BREAK_||(o._X_LOOP_BREAK_=Symbol("BREAK_LOOP"),o._X_ANY_=Symbol("ANY"),o._X_ALL_=Symbol("ALL"));const m=o._X_LOOP_BREAK_,y=o._X_ANY_,b=o._X_ALL_,_=["__proto__","constructor","__defineGetter__","__defineSetter__","prototype"];function E(e,t){if(c.isVal(e))return c.isObj(e)||c.isStr(e)||c.isArr(e)?e[t]:e.item(t)}function g(e,t,n){return!!c.isVal(e)&&(!c.isArr(e)&&c.isObj(e)?e[n]===t:e.indexOf(t)>=0)}function $(e,...t){c.isArr(e)?x(t,(t=>e.push(t))):c.isMutableList(e)&&e.add(t)}function v(e,...t){t=H(t);let n=!1;return x(t,(t=>{let r=e.indexOf(t);r>=0&&(n=!0,e.splice(r,1))})),n}function T(e,t){let n=Object.keys(t);for(let r of n){if(t[r]===y&&e.hasOwnProperty(r))return!0;if(t[r]===e[r])return!0}return!1}function w(e,t){let n=Object.keys(t);for(let r of n)if(t[r]!==y&&t[r]!==e[r])return!1;return!0}function N(e,t=(()=>!0),n=!0){return c.isUnd(e)?t:c.isFun(e)?e:e instanceof RegExp?(t,n,r,o)=>!c.isObj(t)&&e.test(t.toString()):c.isObj(e)?0===Object.keys(e).length?t:n?(t,n,r,o)=>T(t,e):(t,n,r,o)=>w(t,e):(t,n,r,o)=>t===e}function A(e){if(c.isUnd(e))return e=>e;if(c.isFun(e))return e;if(c.isStr(e)){const t=e;e=e=>e[t]}throw Error(`Predicate ${e} cannot be of type ${typeof e}`)}function O(e,t={}){return c.isStr(e)?"":c.isList(e)||c.isArr(e)?[]:c.isObj(e)?c.isEl(e)?3===e.nodeType||8===e.nodeType?document.createTextNode(e.textContent):document.createElement(e.tagName):e.__proto__?Object.create(e.__proto__):{}:t}function S(e,t,n=!1){if(c.isStr(e))return e.concat(t);if(c.isArr(e))return e.concat(t);for(let r of Object.keys(t))e[r]&&!n||(e[r]=t[r]);return e}function x(e,t){if(!c.isVal(e))return-1;if(!c.isArr(e)||!c.isStr(e)||!c.isList(e)){let n=0,r=Object.keys(e);const o=r.length;for(;n<o;n++){const o=r[n];if(t(e[o],o,n,e)===m)return n}return n}const n=e.length;if(c.isArr(e))for(let r=0;r<n;r++){if(t(E(e,r),r,r,e)===m)return r}else for(let r=0;r<n;r++){if(t(e[r],r,r,e)===m)return r}return e.length}function L(e,t,n=[]){if(!c.isArr(e)||!c.isStr(e)){let r=0,o=Object.keys(e);for(let r=o.length-1;r>=0;r--){if(r<n[1])continue;if(r>=n[0])return r;if(t(e[o[r]],o[r],r,e)===m)return r}return r}for(let n=e.length-1;n>=0;n--){if(t(E(e,n),n,n,e)===m)return n}return e.length}function V(e,t){t=N(t,(()=>!0));let n=-1;return x(e,(function(r,o,i){if(n=t(r,o,i,e),!0===n)return n=i,m})),n}function j(e,t){return E(e,V(e,t))}function k(e,t){t=N(t,(()=>!0));let n=-1;return L(e,(function(e,r,o){if(n=t(e,r,o),!0===n)return n=o,m})),n}function C(e,t){return e[k(e,t)]}function M(e,t){let n=N(t),r=!1;return x(e,(function(e,t,o,i){if(r=n(e,t,o,i),!0===r)return m})),r}function P(e,t){t=N(t,(()=>!0));let n=!0;return x(e,(function(e,r,o,i){if(n=t(e,r,o,i),!1===n)return m})),n}function D(e,t,n=!1,r=!1){t=N(t,(()=>!0));let o="";return(n?L:x)(e,(function(n,i,s){t&&t(n,i,s,e)!==r||(o+=n)})),o}function R(e,t,n=!1,r=!1){if(c.isArr(t)){let e=Object.assign({},t);t=r?(t,n)=>!M(e,n):(t,n)=>M(e,n)}else t=N(t,(()=>!0));let o={};const i=Object.keys(e),s=i.length;if(n)for(let n=s-1;n>=0;n--){const s=i[n],u=e[s];t(u,s,n,e)!==r&&(o[s]=u)}else for(let n=0;n<s;n++){const s=i[n],u=e[s];t(u,s,n,e)!==r&&(o[s]=u)}return o}function U(e,t,n=!1,r=!1){if(c.isArr(t)){let e=Object.assign([],t);t=r?(t,n,r)=>!M(e,r):(t,n,r)=>M(e,r)}else t=N(t,(()=>!0));let o=[];const i=e.length;if(n)for(let n=i-1;n>=0;n--){const i=e[n];!t(i,n,n,e)!==r&&o.push(i)}else for(let n=0;n<i;n++){const i=e[n];t(i,n,n,e)!==r&&o.push(i)}return o}function W(e,t,n=!1){return c.isStr(e)?D(e,t,n):c.isArr(e)||c.isList(e)?U(e,t,n):R(e,t,n)}function I(e,t){let n;t=A(t);let r=-1;return x(e,(function(e,o){let i=t(e,o);n?i>=n&&(n=i,r=o):(n=i,r=o)})),r}function F(e,t){let n;t=A(t);let r=-1;return x(e,(function(e,o){let i=t(e,o);n?i<=n&&(n=i,r=o):(n=i,r=o)})),r}function B(e,t,n=!1){return t=N(t,(e=>e)),c.isArr(e)?function(e,t,n=!1){let r=[];const o=e.length;if(n)for(let n=o;n>=0;n--){let o=t(e[n],n,e);if(o===m)break;c.isUnd(o)||r.push(o)}else for(let n=0;n<o;n++){let o=t(e[n],n,e);if(o===m)break;c.isUnd(o)||r.push(o)}return r}(e,t,n):c.isObj(e)?function(e,t,n=!1){let r={};const o=Object.keys(e),i=e.length;if(n)for(let n=i;n>=0;n--){const i=o[n];let s=t(e[i],i,n,e);if(s===m)break;c.isUnd(s)||(r[i]=s)}else for(let n=0;n<i;n++){const i=o[n];let s=t(e[i],i,n,e);if(s===m)break;c.isUnd(s)||(r[i]=s)}return r}(e,t,n):void 0}function H(e,t){let n;return n=c.isStr(e)?"":c.isArr(e)?[]:{},x(e,(function(r,o){let i;t?i=t(r,o,e):!c.isArr(n)&&c.isObj(n)?(i={},i[o]=r):i=r,n=S(n,i)})),n}function K(e,t,n=e){return c.isUnd(t)&&(t=(e,t)=>e+t),x(e,((e,r,o)=>{n=t(n,e,r,o)})),n}function q(e,t,{excludeKeys:n=[],maxDepth:r=999,allowUnsafeProps:o=!1}={excludeKeys:[],maxDepth:999,allowUnsafeProps:!1},i=0){return i>=r||x(t,((s,u)=>{n&&g(n,u)||o&&g(_,u)||(c.isObj(t[u])?e[u]=q(O(t[u]),t[u],{excludeKeys:n,maxDepth:r,depth:i+1}):e[u]=s)})),e}function X(e,t){let n=e;if(c.isStr(e))n=t=>t[e];else if(c.isArr(e))n=t=>K(t,((t,n,r)=>{if(g(e,r))return t+n}),"");else if(!c.isFun(e))throw Error(`${t} key only accepts: String, [String,...], Function`);return n}u={ANY:y,ALL:b,BREAK:m,item:E,contains:g,add:$,remove:v,toggle:function(e,...t){if(0===t.length)return;let n;if(1===(t=H(t)).length)v(e,t)||$(e,t[0]);else{t.push(t[0]);let r=!1;x(e,((o,i)=>{n=t.indexOf(o),n>=0&&t.length>n+1&&(r=!0,e[i]=t[n+1])})),r||e.push(t[0])}},concat:S,emptyOf:O,objMatchOne:T,objMatchAll:w,deepMerge:q,deepClone:function(e,{excludeKeys:t=[],maxDepth:n=999,allowUnsafeProps:r=!1}={excludeKeys:[],maxDepth:999,allowUnsafeProps:!1}){return q(O(e),e,{excludeKeys:t,maxDepth:n,allowUnsafeProps:r})},forN:function(e,t=0,n=0,r=(t<n?1:-1)){if(r>0)for(;t<=n;t+=r)e(t);for(;t>=n;t+=r)e(t)},forEachRange:function(e,t,n=0,r){if(!c.isArr(e)||!c.isStr(e)){let o=Object.keys(e);r=r||o.length-1;for(let i=n;i<=r;i++){if(t(e[o[i]],o[i],i,e)===m)return i}return r}r=r||e.length;for(let o=n;o<r;o++){if(t(E(e,o),o,o,e)===m)return o}return r},forEach:x,forEachRight:L,firstIndex:V,first:j,startsWith:function(e,t){return c.isStr(e)&&c.isStr(t)?0===e.indexOf(t):(t=N(t,(()=>!0)))(j(e))},lastIndex:k,last:C,endsWith:function(e,t){return c.isStr(e)&&c.isStr(t)?e.indexOf(t)===e.length-t.length:(t=N(t,(()=>!0)))(C(e))},reverse:function(e){if(c.isArr(e))return e.reverse();let t="";return L(e,(function(e){t+=e})),t},any:M,all:P,filter:W,filterRight:function(e,t){return W(e,t,!0)},reduce:K,reduceRight:function(e,t,n=e){L(e,((e,r,o)=>{n=t(n,e,r,o)}))},map:B,flatMap:H,keyValuePairs:function(e){let t=[];return x(e,((e,n)=>{t.push(c.dict(n,e))})),t},entries:function(e){let t=[];return x(e,((e,n)=>{t.push([n,e])})),t},maxIndex:I,max:function(e,t){return e[I(e,t)]},minIndex:F,min:function(e,t){return e[F(e,t)]},shuffle:function(e){return Array.prototype.sort.call(e,(()=>Math.random()-.5))},sortAsc:function(e,t,n="en"){let r=t?function(e,r){return(""+t(e)).localeCompare(""+t(r),n)}:void 0;return Array.prototype.sort.call(e,r)},sortDesc:function(e,t,n="en"){let r=t?function(e,r){return(""+t(r)).localeCompare(""+t(e),n)}:void 0;return Array.prototype.sort.call(e,r)},translateObject:function(e,t){c.isArr(t)&&W(e,t);const n=Object.keys(t);let r=W(e,n);for(let e of n)r[t[e]]=r[e],delete r[e];return r},omit:function(e,t,n=!1){return c.isStr(e)?D(e,t,n,!0):c.isArr(e)||c.isList(e)?U(e,t,n,!0):R(e,t,n,!0)},join:function(e,...t){if(0===t.length)return[];if(!P(t,c.isArr))throw Error("Join only accepts arrays of data!");let n=X(e,"Join");const r={};return x(t,(e=>{x(e,(e=>{const t=n(e),o=r[t];r[t]=o?S(o,e):e}))})),r},groupBy:function(e,...t){if(0===t.length)return{};if(!P(t,c.isArr))throw Error("GroupBy only accepts arrays of data!");let n=X(e,"GroupBy");const r={};return x(t,(e=>{x(e,(e=>{const t=n(e),o=r[t];r[t]=o?S(o,e):[e]}))})),r},objectValues:function(e){return Object.values?Object.values(e):B(e,(e=>e))}};const{forEach:z}=u;function G(e){let t=[];return z(e,((e,n)=>{t.push(`${s(n)}: ${e};`)})),t}i={generateStyles:G,generateCss:function(e,t="\n"){return G(e).sort(((e,t)=>e[0].localeCompare(t[0]))).join(t)}};var Y,Z={};function J(){return void 0!==o.window&&void 0!==o.document&&void 0!==o.navigator}J()||(o.HTMLElement=o.HTMLElement?o.HTMLElement:function(){},o.Element=o.Element?o.Element:function(){},o.Node=o.Node?o.Node:function(){},o.HTMLCollection=o.HTMLCollection?o.HTMLCollection:function(){},o.NodeList=o.NodeList?o.NodeList:function(){}),Z={setGlobal:function(e){for(let t of Object.keys(e))o[t]=e[t]},Extension:class{constructor(e){this.types=e,this.types=[],this.pcode="\n"}define(e){if(!e.name){let t=`Function must have a name [Extension.define(f)]\n<<${e}>>`;return console.error(t),`\n/**\n *${t}\n */`}let t="\n";for(let n of this.types)void 0!==n&&(t+=`${n.name||n}.prototype.${e.name} = `);return t+=e.toString()+";\n",this.pcode+=t,t}polyfill(e){if(!e.name){let t=`Extension function must have a name:\n<<${e}>>`;return console.error(t),`\n/**\n *${t}\n */`}let t="\n";for(let n of this.types)t+=`if (${n.name||n}.prototype.${e.name} === undefined) ${n.name||n}.prototype.${e.name} = ${e.toString()};\n`;this.pcode+=t}},isBrowser:J};const{isArr:Q,hasField:ee,isEmpty:te}=c,{contains:ne,forEach:re,filter:oe}=u;var ie;function se(e){return`[${e}] [${function(){let e=new Date;return`${e.getHours()}:${e.getMinutes()}:${e.getSeconds()}:${e.getMilliseconds()}`}()}]`}function ue(e,t){e.reverse(),e.push("display: inline-block; font-weight: bold; color: black","%c"+t),e.reverse()}const ce={TRACE:0,INFO:1,WARN:2,ERROR:3,SILENT:-1},le={LogLevel:ce.TRACE};function fe(e){return le.LogLevel!==ce.SILENT&&le.LogLevel<=e}ie={Config:le,LogLevels:ce,showTrace:function(){le.LogLevel=ce.TRACE},showInfo:function(){le.LogLevel=ce.INFO},showWarn:function(){le.LogLevel=ce.WARN},showError:function(){le.LogLevel=ce.ERROR},silent:function(){le.LogLevel=ce.SILENT},trace:function(...e){fe(ce.TRACE)&&(e.reverse(),e.push(se("🔍 TRACE")),e.reverse(),console.trace.apply(this,e))},info:function(...e){fe(ce.INFO)&&(ue(e,se("🔵 INFO")),console.log.apply(this,e))},warn:function(...e){fe(ce.WARN)&&(ue(e,se("🚨 WARN")),console.warn.apply(this,e))},error:function(...e){fe(ce.ERROR)&&(ue(e,se("💥 ERROR")),console.error.apply(this,e))}};const{error:ae}=ie;var pe;function de(e){let t=e.toString().match(/{[\w\W]*}/);return null===t?e.toString():t[0]}pe={funcBodyEquals:function(e,t){return de(e)===de(t)},throttle:function(e,t){var n=(new Date).getTime();return function(r){(new Date).getTime()-n>=t&&(n=(new Date).getTime(),e.call(this,r))}},debounce:function(e,t){var n=null;function r(...r){clearTimeout(n),n=setTimeout((function(t){return e.apply(t,r)}),t,this)}return r.flush=function(...t){return clearTimeout(n),e.apply(this,t)},r},bindArgs:function(e,t){return function(){return e.apply(this,t)}},once:function(e){var t=!1;return function(){if(!t)return t=!0,e.apply(this,arguments)}}};const{funcBodyEquals:he}=pe;Y={setEvent:function(e,t,n,r){Z.isBrowser()?(Q(t)||(t=ne(t," ")?t.split(" ").Map((e=>e.trim())):[t]),e.__EVENTS__=e.__EVENTS__||{},re(t,(t=>{e.__EVENTS__[t]=e.__EVENTS__[t]||[];let o=function(t){n(t,e)};ee(r,"duplicates",(e=>e))||(e.__EVENTS__[t]=oe(e.__EVENTS__[t],(r=>{if(he(r.l,n))return e.removeEventListener(t,r.f,r.o),!1}))),e.__EVENTS__[t].push({f:o,l:n,o:r}),e.addEventListener(t,o,r)}))):ae("Events are browser only!")},clearEvent:function(e,t){Z.isBrowser()?(Q(t)||(t=ne(t," ")?t.split(" ").Map((e=>e.trim())):[t]),e.__EVENTS__=e.__EVENTS__||{},te(e.__EVENTS__)||re(t,(function(t){e.__EVENTS__[t]=e.__EVENTS__[t]||[],te(e.__EVENTS__[t])||(re(e.__EVENTS__[t],(n=>(e.removeEventListener(t,n.f,n.o),!1))),e.__EVENTS__[t]=[])}))):ae("Events are browser only!")},hasEvent:function(e,t){return e.__EVENTS__&&e.__EVENTS__[t]&&!te(e.__EVENTS__[t])}};const{setEvent:me}=Y,{forEach:ye}=u,{isPrim:be,isArr:_e,isStr:Ee,isVal:ge}=c;function $e(e,t){return ge(e)?Ee(e)?e:_e(e)?e.join(t):i.generateCss(e,t):""}n={randomId:function(){return Date.now().toString(24).slice(2)+Math.random().toString(24).slice(6)},normalize:function e(t,{createText:n,parent:r,empty:o=[],list:i}){if(!(t instanceof Array)){if(null==t)return o;t=[t]}let s=[];const u=t.length;for(let o=0;o<u;o++){let i=t[o];if(null==i||be(i))"symbol"==typeof i&&(i=i.toString()),i=n(""+i),i.$parent=r,s.push(i);else if(i.isNode&&null===i.tag&&(i=i.children||[]),i instanceof Array){i=e(i,{createText:n,parent:r});for(let e=0;e<i.length;e++)i[e].$parent=r,s.push(i[e])}else i.$parent=r,s.push(i)}return 0===s.length&&(s=o),s},setElementProps:function(e,t,n,r){t&&ye(t,((t,n)=>{"style"===n?t=$e(t," "):"className"===n&&(n="class"),e.setAttribute(n,t)})),n&&ye(n,((t,n)=>{r&&(t=t.bind(r)),me(e,n,t)}))},compileProps:function(e){const t={events:{},attrs:{}};return ye(e,((e,n)=>{var r;/on[A-Z]+/.test(n)?t.events[(r=n,r.slice(2).toLowerCase())]=e:t.attrs[n]=e})),t},compileStyles:$e,sameProps:function(e={},t={}){const n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(let r of n)if(t[r]!==e[r])return!1;return!0},randomHexColor:function(){return"#"+Math.random().toString(16).slice(2,8)}};const{normalize:ve}=n;var Te,we;we={FRAG:-1,TEXT:0,NODE:1,VIEW:2};var Ne,Ae,Oe;const{error:Se}=ie;var xe;const{deepClone:Le}=u,{flatMap:Ve}=u,{setElementProps:je,compileProps:ke,normalize:Ce}=n;function Me(e="#text",t,n){if(e=e.toLowerCase(),this.tag=e,this.element=void 0,"#text"===e)return this.$t=we.TEXT,this.isText=!0,this.text=t,void Object.defineProperty(this,"$clone",{value:function(){return Pe(this.text)},configurable:!1,writable:!1,enumerable:!1});this.$t=we.NODE,this.isNode=!0;let r=ke(t||{});this.attrs=r.attrs,this.events=r.events,this.props=r.props,this.children=Ce(n||[],{createText:Pe,parent:this}),this.isEmpty=()=>0===this.children.length,Object.defineProperty(this,"$clone",{value:function(){return new Me(this.tag,Le(this.props||{}),(n||[]).map((e=>e.$clone())))}})}function Pe(e){return new Me("#text",e)}Object.defineProperty(Me.prototype,"$parent",{value:void 0,configurable:!1,writable:!0,enumerable:!1}),Object.defineProperty(Me.prototype,"isEmpty",{get(){return 0===this.children.length}}),Me.prototype.$destroy=function(){this.element.remove()},xe={VNode:Me,TYPE:we,createNode:function(e,t,n){return new Me(e,t,n)},createText:Pe};const{flatMap:De}=u,{createNode:Re}=xe,{normalize:Ue,setElementProps:We}=n,{createText:Ie}=xe;function Fe(e,t,n,r){let o=document.createElement(e);return We(o,t,n,r),o}function Be(e){return document.createTextNode(e)}function He(e,t){if(e.beforeMount)try{e.beforeMount.call(e)}catch(t){setTimeout(Se("("+e.$name+").beforeMount",t))}e.$nodes||e.$renderAndSetNodes(),e.$rootElement=t;let n=e.$nodes.map((n=>n.$isView?He(n,t):Ke(n,e)));return e.Mounted&&setTimeout((function(){try{e.Mounted.call(e)}catch(t){Se("("+e.$name+").Mounted",t)}}),0),e.$isDirty=!1,n}function Ke(e,t){if(e.isText)return e.element=Be(e.text),e.element.__node=e,e.element;if(e.element=Fe(e.tag,e.attrs,e.events,t),e.element.__node=e,!e.isEmpty){let n=e.children.map((n=>qe(n,t,e.element)));HTMLElement.prototype.append.apply(e.element,Ue(n,{createText:Ie,parent:this}))}return e.element}function qe(e,t,n){return e.$isView?He(e,n):Ke(e,t)}Oe={render:function(e,t){if(!t)throw Error("render(): rootElement is undefined");if(t.__app)return void console.error("already rendered");e.$rootElement=t,t.innerHTML="";let n=qe(e,e,t);n instanceof Array||(n=[n]),n=De(n);for(let e=0;e<n.length;e++)Node.prototype.appendChild.call(t,n[e]);t.__app=e},createDom:qe,createNodeDom:Ke,createViewDom:He,createTextDom:Be,createChildrenDom:function(e,t,n){return e.flatMap((e=>qe(e,t,n)))},createElement:Fe};const Xe=Object.seal({queue:[],busy:!1,running:!1,idle:0});var ze;const{clearEvent:Ge,setEvent:Ye}=Y,{forEach:Ze}=u,{compileStyles:Je}=n;function Qe(){if(0===Xe.queue.length)return Xe.idle++,Xe.idle>3?void(Xe.running=!1):void 0;if(Xe.idle=0,!Xe.busy){let e=Xe.queue.shift();Xe.busy=!0,e(),e=null,setTimeout((function(){Xe.busy=!1}))}setTimeout(Qe,20)}ze={patchAttrs:function(e,t,n){const r=Object.keys(e),o=Object.keys(t),i=Object.keys(e);for(let r of i){const o=e[r],i=t[r];if("style"===r){const e=Je(o," ");e!==Je(i," ")&&n.setAttribute("style",e)}else"className"===r?n.setAttribute("class",o):n.setAttribute(r,o)}for(let e of o)r.indexOf(e)<0&&n.removeAttribute(e)},patchEvents:function(e={},t={},n){Ze(t,(function(t,r){e[r]!==t&&Ge(n,r)})),Ze(e,(function(e,t){Ye(n,t,e)}))}},Ae={dispatchTask:function(e){e&&(Xe.queue.push(e),Xe.running||setTimeout(Qe,1))},scheduler:Xe};const{dispatchTask:et,scheduler:tt}=Ae,{createDom:nt,createNodeDom:rt,createViewDom:ot,createChildrenDom:it}=Oe,{error:st}=ie,{patchAttrs:ut,patchEvents:ct}=ze,{createText:lt,createNode:ft}=xe,{normalize:at,sameProps:pt}=n;function dt(e,t,n){if(e.shouldUpdate)try{if(!e.shouldUpdate.call(e,{oldProps:e.props,newProps:t}))return}catch(t){setTimeout(st("("+e.$name+").shouldUpdate",t),0)}else if(!e.$isDirty)return;if(e.beforeUpdate)try{e.beforeUpdate.call(e,t)}catch(t){setTimeout(st("("+e.$name+").Updated",t))}e.$updateWith(t,n);const r=e.$renderNodes();e.$nodes=_t(r,e.$nodes,e,e.$rootElement),e.$isDirty=!1,e.Updated&&setTimeout((function(){try{e.Updated.call(e)}catch(t){st("("+e.$name+").Updated",t)}}),0)}function ht(e,t,n){e.tag===t.tag?(e.element=t.element,e.element.__node=e,t.element=null,pt(t.props,e.props)||(ut(e.attrs,t.attrs,e.element),ct(e.events,t.events,e.element)),e.element||st("Fatal: current node has no element",t,e),_t(e.children,t.children,n,e.element)):(e.element=rt(e,n),t.element.replaceWith(e.element),e.element.__node=e)}function mt(e,t){e.text!==t.text&&(t.element.nodeValue=e.text),e.element=t.element,e.element.__node=e}function yt(e,t,n,r,o,i,s,u,c){let l=!1;if(void 0!==e.props.key){let n=-1;for(let t=o;t<i;t++)if(r[t].props.key===e.props.key){n=t,l=!0;break}n>o&&(!function(e,t){let n=rt(ft("div",{style:"display: none"})),r=t.$isView?t.$elements:[t.element],o=e.$isView?e.$elements:[e.element];r[0].insertAdjacentElement("beforeBegin",n),o[0].replaceWith(...r),n.replaceWith(...o)}(r[n],r[o]),r[o]=r[n],r[n]=t,t=r[o])}if(t.$name===e.$name&&l)dt(t,e.props,e.$children),t.$parent=e.$parent,e.$parent=void 0,n[o]=t;else{let n=t.$destroy(!0);if(e.$isView){let t=ot(e,c);Element.prototype.replaceWith.apply(n,t)}else{let t=rt(e,u);n.replaceWith(t),e.element=t,e.element.__node=e}}}function bt(e,t,n,r){const o=nt(e,n,r);let i;i=t.isNode||t.isText?t.element:t.$destroy(!0),i?(Element.prototype.replaceWith.apply(i,o instanceof Array?o:[o]),e.element=o,e.element.__node=e):console.error("Empty anchor",t)}function _t(e,t,n,r){if(!r)throw Error("patchNodes: rootElement is not defined");let o=e.length,i=t.length,s=o>i,u=s?i:o,c=0;for(;c<u;c++){const o=t[c],s=e[c];if(o.$t===s.$t){if(o.isNode){ht(s,o,n);continue}if(o.isText){mt(s,o);continue}yt(s,o,e,t,c,i,0,n,r)}else bt(s,o,n,r)}if(s){let t=it(e.slice(c),n,r);HTMLElement.prototype.append.apply(r,t)}else if(i>o)for(let e=c;e<i;e++)t[e].$destroy();return e}Ne={patchView:dt,updateView:function(e){et((()=>{dt(e,e.props,e.$children)}),e)}};const{updateView:Et}=Ne,{debounce:gt}=pe,{error:$t}=ie,{randomId:vt,normalize:Tt,sameProps:wt}=n,{createNode:Nt}=xe,{warn:At}=ie,{deepClone:Ot}=u,{createText:St}=xe;function xt(e={}){this.$t=we.VIEW,e.name=e.name||"View::"+vt(),this.$name=e.name,this.$proto=Object.freeze(e);let t=Object.getOwnPropertyNames(e);for(let n=0;n<t.length;n++){const r=t[n];e[r]instanceof Function?this[r]=e[r].bind(this):this[r]=Ot(e[r])}this.props=this.props||{},this.state=this.state||{},this.render||(At("View has no render!"),this.render=()=>""),Object.defineProperty(this,"$elements",{get(){return this.$nodes.flatMap((e=>null==e?[]:e.$isView?e.$elements:e.element))}})}function Lt(e){return Object.prototype.isPrototypeOf.call(xt,e)}Object.defineProperty(xt.prototype,"$parent",{value:void 0,configurable:!1,writable:!0,enumerable:!1}),xt.prototype.$isView=!0,xt.prototype.$clone=function(){return new xt({...this.$proto})},xt.prototype.$updateWith=function(e,t){return e.key&&(this.$key=e.key),this.props={...this.props,...e},this.$children=Tt(t,{createText:St}),this},xt.prototype.$renderNodes=function(){return Tt(this.render({props:this.props,state:this.state}),{createText:St,parent:this,empty:[Nt("slot",{style:"display: none"})]})},xt.prototype.$renderAndSetNodes=function(){if(this.beforeCreate)try{this.beforeCreate()}catch(e){setTimeout($t("("+this.$name+").beforeCreate()",e))}if(this.$nodes=this.$renderNodes(),this.Created)try{this.Created()}catch(e){setTimeout($t("("+this.$name+").Created()",e))}return this},xt.prototype.$destroy=function(e){if(this.beforeDestroy)try{this.beforeDestroy()}catch(e){setTimeout($t("("+this.$name+").beforeDestroy()",e))}let t;for(let e=0;e<this.$nodes.length;e++){let n=this.$nodes[e];n.element?t?n.element.remove():t=n.element:t=t||n.$destroy()}if(e)return t;t&&t.remove()},xt.prototype.$clean=function(){this.$nodes=void 0,this.state=void 0,this.props=void 0},xt.prototype.$update=gt((function(){Et(this)}),20),xt.prototype.setState=function(e){let t=this.state;e.call(this,t),this.$isDirty=!0,this.$update()},Te={View:xt,isViewClass:Lt,getViewInstance:function(e,t){if(Lt(e))return new e(t);if(e instanceof xt)return e;if(e===xt)return new xt(t);throw TypeError("Cannot get view instance of "+e)},createView:function(e){return new xt(e)},renderView:function(e,t,n){return n=Tt(n||[],{createText:St}),e.$children=n,e.$updateWith(t,n),e.$renderAndSetNodes(),e}};const{renderView:Vt}=Te,{createNode:jt,createText:kt}=xe;t={h:function(e,t,...n){return null===e?n||[]:(null==t&&(t={}),e.$isView?e.$clone().$updateWith(t,n):jt(e,t,ve(n,{createText:kt})))},t:function(e){return kt(e)}};const{h:Ct}=t;e={a:function(e,...t){return Ct("a",e,...t)},abbr:function(e,...t){return Ct("abbr",e,...t)},address:function(e,...t){return Ct("address",e,...t)},aside:function(e,...t){return Ct("aside",e,...t)},b:function(e,...t){return Ct("b",e,...t)},bdi:function(e,...t){return Ct("bdi",e,...t)},bdo:function(e,...t){return Ct("bdo",e,...t)},blockquote:function(e,...t){return Ct("blockquote",e,...t)},br:function(e,...t){return Ct("br",e,...t)},button:function(e,...t){return Ct("button",e,...t)},caption:function(e,...t){return Ct("caption",e,...t)},code:function(e,...t){return Ct("code",e,...t)},col:function(e,...t){return Ct("col",e,...t)},colgroup:function(e,...t){return Ct("colgroup",e,...t)},div:function(e,...t){return Ct("div",e,...t)},em:function(e,...t){return Ct("em",e,...t)},embed:function(e,...t){return Ct("embed",e,...t)},fieldset:function(e,...t){return Ct("fieldset",e,...t)},footer:function(e,...t){return Ct("footer",e,...t)},form:function(e,...t){return Ct("form",e,...t)},h1:function(e,...t){return Ct("h1",e,...t)},h2:function(e,...t){return Ct("h2",e,...t)},h3:function(e,...t){return Ct("h3",e,...t)},h4:function(e,...t){return Ct("h4",e,...t)},h5:function(e,...t){return Ct("h5",e,...t)},h6:function(e,...t){return Ct("h6",e,...t)},header:function(e,...t){return Ct("header",e,...t)},hgroup:function(e,...t){return Ct("hgroup",e,...t)},hr:function(e,...t){return Ct("hr",e,...t)},i:function(e,...t){return Ct("i",e,...t)},img:function(e,...t){return Ct("img",e,...t)},input:function(e,...t){return Ct("input",e,...t)},label:function(e,...t){return Ct("label",e,...t)},li:function(e,...t){return Ct("li",e,...t)},mark:function(e,...t){return Ct("mark",e,...t)},nav:function(e,...t){return Ct("nav",e,...t)},ol:function(e,...t){return Ct("ol",e,...t)},optgroup:function(e,...t){return Ct("optgroup",e,...t)},option:function(e,...t){return Ct("option",e,...t)},p:function(e,...t){return Ct("p",e,...t)},pre:function(e,...t){return Ct("pre",e,...t)},progress:function(e,...t){return Ct("progress",e,...t)},q:function(e,...t){return Ct("q",e,...t)},s:function(e,...t){return Ct("s",e,...t)},section:function(e,...t){return Ct("section",e,...t)},select:function(e,...t){return Ct("select",e,...t)},small:function(e,...t){return Ct("small",e,...t)},span:function(e,...t){return Ct("span",e,...t)},strong:function(e,...t){return Ct("strong",e,...t)},sub:function(e,...t){return Ct("sub",e,...t)},sup:function(e,...t){return Ct("sup",e,...t)},table:function(e,...t){return Ct("table",e,...t)},tbody:function(e,...t){return Ct("tbody",e,...t)},td:function(e,...t){return Ct("td",e,...t)},textarea:function(e,...t){return Ct("textarea",e,...t)},tfoot:function(e,...t){return Ct("tfoot",e,...t)},th:function(e,...t){return Ct("th",e,...t)},thead:function(e,...t){return Ct("thead",e,...t)},tr:function(e,...t){return Ct("tr",e,...t)},u:function(e,...t){return Ct("u",e,...t)},ul:function(e,...t){return Ct("ul",e,...t)},h:Ct};const{createDom:Mt}=Oe,{View:Pt,createView:Dt}=Te,{VNode:Rt,createNode:Ut,createText:Wt}=xe,{h:It}=t,{render:Ft}=Oe;var Bt;const{debounce:Ht}=pe,{isVal:Kt}=c,{View:qt}=Te;function Xt(e){var t=e(void 0,{}),n=[];if(!Kt(t))throw TypeError("Store: Initial state is null or undefined, reducer does not return properly on random/empty state");this.subscribe=function(e){n.push(Ht(e,20))},this.unsubscribe=function(e){n.splice(n.indexOf(e),1)},this.getState=function(){return t},this.dispatch=function(r){t=e(t,r),n.forEach((e=>{e(t,r)}))}}function zt(e){return new Xt(e)}Bt={Store:Xt,createStore:zt,createGlobalStore:function(e){qt.prototype.$store=zt(e)},setGlobalStore:function(e){qt.prototype.$store=e}},o.Exir={View:Pt,createView:Dt,VNode:Rt,createNode:Ut,createText:Wt,jsx:It,mount:Ft,createComponent:Pt.create,renderDom:Mt,Store:Bt},o.h=It,o.jsx=It,o.v=e}();
//# sourceMappingURL=global.js.map

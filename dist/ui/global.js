!function(){var t,e,n="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},r={},o={};e={VNODE:0,VIEW:1,TEXT:2};var i,s={};function u(t){return null!==t&&void 0===t}function c(t){return null===t}function f(t){return!u(t)&&!c(t)}function l(t){return"function"==typeof t}function a(t){return null!==t&&"object"==typeof t}function h(t,e,n){return!!f(t)&&(l(n)?n(t[e]):t.hasOwnProperty(e))}s={typeName:function(t){return t.hasOwnProperty("constructor")?t.constructor.name:typeof t},isUnd:u,isNull:c,isVal:f,isNum:function(t){return"number"==typeof t},isStr:function(t){return"string"==typeof t||t instanceof String},isFun:l,isObj:a,isArr:function(t){return t instanceof Array},isPrim:function(t){return f(t)&&!a(t)&&!l(t)||"symbol"==typeof t},isList:function(t){return f(t.length)&&l(t.item)},isMutableList:function(t){return f(t.length)&&l(t.item)&&l(t.add)},isSet:function(t){return t instanceof Set},isMap:function(t){return t instanceof Map},isError:function(t){return t instanceof Error},isEl:function(t){return t instanceof Element||t instanceof HTMLElement||t instanceof Node},isEls:function(t){return t instanceof HTMLCollection||t instanceof NodeList},hasField:h,isEmpty:function(t){return h(t,"length")?t.length<=0:!l(t)&&(!a(t)||Object.keys(t).length<=0)},Enum:function(t){let e=0,n={};for(let r of Object.keys(t))n[n[e]=r]=e++;return n},dict:function(...t){let e={};for(let n=0;n<t.length;n++)n%2==0&&(e[t[n]]=t[n+1]);return e}},n._X_LOOP_BREAK_||(n._X_LOOP_BREAK_=Symbol("BREAK_LOOP"),n._X_ANY_=Symbol("ANY"),n._X_ALL_=Symbol("ALL"));const p=n._X_LOOP_BREAK_,d=n._X_ANY_,$=n._X_ALL_,m=["__proto__","constructor","__defineGetter__","__defineSetter__","prototype"];function _(t,e){if(s.isVal(t))return s.isObj(t)||s.isStr(t)||s.isArr(t)?t[e]:t.item(e)}function E(t,e,n){return!!s.isVal(t)&&(!s.isArr(t)&&s.isObj(t)?t[n]===e:t.indexOf(e)>=0)}function g(t,...e){s.isArr(t)?S(e,(e=>t.push(e))):s.isMutableList(t)&&t.add(e)}function y(t,...e){e=B(e);let n=!1;return S(e,(e=>{let r=t.indexOf(e);r>=0&&(n=!0,t.splice(r,1))})),n}function b(t,e){let n=Object.keys(e);for(let r of n){if(e[r]===d&&t.hasOwnProperty(r))return!0;if(e[r]===t[r])return!0}return!1}function v(t,e){let n=Object.keys(e);for(let r of n)if(e[r]!==d&&e[r]!==t[r])return!1;return!0}function w(t,e=(()=>!0),n=!0){return s.isUnd(t)?e:s.isFun(t)?t:t instanceof RegExp?(e,n,r,o)=>!s.isObj(e)&&t.test(e.toString()):s.isObj(t)?0===Object.keys(t).length?e:n?(e,n,r,o)=>b(e,t):(e,n,r,o)=>v(e,t):(e,n,r,o)=>e===t}function A(t){if(s.isUnd(t))return t=>t;if(s.isFun(t))return t;if(s.isStr(t)){const e=t;t=t=>t[e]}throw Error(`Predicate ${t} cannot be of type ${typeof t}`)}function L(t,e={}){return s.isStr(t)?"":s.isList(t)||s.isArr(t)?[]:s.isObj(t)?s.isEl(t)?3===t.nodeType||8===t.nodeType?document.createTextNode(t.textContent):document.createElement(t.tagName):t.__proto__?Object.create(t.__proto__):{}:e}function N(t,e,n=!1){if(s.isStr(t))return t.concat(e);if(s.isArr(t))return t.concat(e);for(let r of Object.keys(e))t[r]&&!n||(t[r]=e[r]);return t}function S(t,e){if(!s.isVal(t))return-1;if(!s.isArr(t)||!s.isStr(t)||!s.isList(t)){let n=0,r=Object.keys(t);const o=r.length;for(;n<o;n++){const o=r[n];if(e(t[o],o,n,t)===p)return n}return n}const n=t.length;if(s.isArr(t))for(let r=0;r<n;r++){if(e(_(t,r),r,r,t)===p)return r}else for(let r=0;r<n;r++){if(e(t[r],r,r,t)===p)return r}return t.length}function O(t,e,n=[]){if(!s.isArr(t)||!s.isStr(t)){let r=0,o=Object.keys(t);for(let r=o.length-1;r>=0;r--){if(r<n[1])continue;if(r>=n[0])return r;if(e(t[o[r]],o[r],r,t)===p)return r}return r}for(let n=t.length-1;n>=0;n--){if(e(_(t,n),n,n,t)===p)return n}return t.length}function T(t,e){e=w(e,(()=>!0));let n=-1;return S(t,(function(r,o,i){if(n=e(r,o,i,t),!0===n)return n=i,p})),n}function x(t,e){return _(t,T(t,e))}function j(t,e){e=w(e,(()=>!0));let n=-1;return O(t,(function(t,r,o){if(n=e(t,r,o),!0===n)return n=o,p})),n}function V(t,e){return t[j(t,e)]}function C(t,e){let n=w(e),r=!1;return S(t,(function(t,e,o,i){if(r=n(t,e,o,i),!0===r)return p})),r}function R(t,e){e=w(e,(()=>!0));let n=!0;return S(t,(function(t,r,o,i){if(n=e(t,r,o,i),!1===n)return p})),n}function k(t,e,n=!1,r=!1){e=w(e,(()=>!0));let o="";return(n?O:S)(t,(function(n,i,s){e&&e(n,i,s,t)!==r||(o+=n)})),o}function M(t,e,n=!1,r=!1){if(s.isArr(e)){let t=Object.assign({},e);e=r?(e,n)=>!C(t,n):(e,n)=>C(t,n)}else e=w(e,(()=>!0));let o={};const i=Object.keys(t),u=i.length;if(n)for(let n=u-1;n>=0;n--){const s=i[n],u=t[s];e(u,s,n,t)!==r&&(o[s]=u)}else for(let n=0;n<u;n++){const s=i[n],u=t[s];e(u,s,n,t)!==r&&(o[s]=u)}return o}function P(t,e,n=!1,r=!1){if(s.isArr(e)){let t=Object.assign([],e);e=r?(e,n,r)=>!C(t,r):(e,n,r)=>C(t,r)}else e=w(e,(()=>!0));let o=[];const i=t.length;if(n)for(let n=i-1;n>=0;n--){const i=t[n];!e(i,n,n,t)!==r&&o.push(i)}else for(let n=0;n<i;n++){const i=t[n];e(i,n,n,t)!==r&&o.push(i)}return o}function D(t,e,n=!1){return s.isStr(t)?k(t,e,n):s.isArr(t)||s.isList(t)?P(t,e,n):M(t,e,n)}function I(t,e){let n;e=A(e);let r=-1;return S(t,(function(t,o){let i=e(t,o);n?i>=n&&(n=i,r=o):(n=i,r=o)})),r}function U(t,e){let n;e=A(e);let r=-1;return S(t,(function(t,o){let i=e(t,o);n?i<=n&&(n=i,r=o):(n=i,r=o)})),r}function F(t,e,n=!1){return e=w(e,(t=>t)),s.isArr(t)?function(t,e,n=!1){let r=[];const o=t.length;if(n)for(let n=o;n>=0;n--){let o=e(t[n],n,t);if(o===p)break;s.isUnd(o)||r.push(o)}else for(let n=0;n<o;n++){let o=e(t[n],n,t);if(o===p)break;s.isUnd(o)||r.push(o)}return r}(t,e,n):s.isObj(t)?function(t,e,n=!1){let r={};const o=Object.keys(t),i=t.length;if(n)for(let n=i;n>=0;n--){const i=o[n];let u=e(t[i],i,n,t);if(u===p)break;s.isUnd(u)||(r[i]=u)}else for(let n=0;n<i;n++){const i=o[n];let u=e(t[i],i,n,t);if(u===p)break;s.isUnd(u)||(r[i]=u)}return r}(t,e,n):void 0}function B(t,e){let n;return n=s.isStr(t)?"":s.isArr(t)?[]:{},S(t,(function(r,o){let i;e?i=e(r,o,t):!s.isArr(n)&&s.isObj(n)?(i={},i[o]=r):i=r,n=N(n,i)})),n}function K(t,e,n=t){return s.isUnd(e)&&(e=(t,e)=>t+e),S(t,((t,r,o)=>{n=e(n,t,r,o)})),n}function H(t,e,{excludeKeys:n=[],maxDepth:r=999,allowUnsafeProps:o=!1}={excludeKeys:[],maxDepth:999,allowUnsafeProps:!1},i=0){return i>=r||S(e,((u,c)=>{n&&E(n,c)||o&&E(m,c)||(s.isObj(e[c])?t[c]=H(L(e[c]),e[c],{excludeKeys:n,maxDepth:r,depth:i+1}):t[c]=u)})),t}function W(t,e){let n=t;if(s.isStr(t))n=e=>e[t];else if(s.isArr(t))n=e=>K(e,((e,n,r)=>{if(E(t,r))return e+n}),"");else if(!s.isFun(t))throw Error(`${e} key only accepts: String, [String,...], Function`);return n}i={ANY:d,ALL:$,BREAK:p,item:_,contains:E,add:g,remove:y,toggle:function(t,...e){if(0===e.length)return;let n;if(1===(e=B(e)).length)y(t,e)||g(t,e[0]);else{e.push(e[0]);let r=!1;S(t,((o,i)=>{n=e.indexOf(o),n>=0&&e.length>n+1&&(r=!0,t[i]=e[n+1])})),r||t.push(e[0])}},concat:N,emptyOf:L,objMatchOne:b,objMatchAll:v,deepMerge:H,deepClone:function(t,{excludeKeys:e=[],maxDepth:n=999,allowUnsafeProps:r=!1}={excludeKeys:[],maxDepth:999,allowUnsafeProps:!1}){return H(L(t),t,{excludeKeys:e,maxDepth:n,allowUnsafeProps:r})},forN:function(t,e=0,n=0,r=(e<n?1:-1)){if(r>0)for(;e<=n;e+=r)t(e);for(;e>=n;e+=r)t(e)},forEachRange:function(t,e,n=0,r){if(!s.isArr(t)||!s.isStr(t)){let o=Object.keys(t);r=r||o.length-1;for(let i=n;i<=r;i++){if(e(t[o[i]],o[i],i,t)===p)return i}return r}r=r||t.length;for(let o=n;o<r;o++){if(e(_(t,o),o,o,t)===p)return o}return r},forEach:S,forEachRight:O,firstIndex:T,first:x,startsWith:function(t,e){return s.isStr(t)&&s.isStr(e)?0===t.indexOf(e):(e=w(e,(()=>!0)))(x(t))},lastIndex:j,last:V,endsWith:function(t,e){return s.isStr(t)&&s.isStr(e)?t.indexOf(e)===t.length-e.length:(e=w(e,(()=>!0)))(V(t))},reverse:function(t){if(s.isArr(t))return t.reverse();let e="";return O(t,(function(t){e+=t})),e},any:C,all:R,filter:D,filterRight:function(t,e){return D(t,e,!0)},reduce:K,reduceRight:function(t,e,n=t){O(t,((t,r,o)=>{n=e(n,t,r,o)}))},map:F,flatMap:B,keyValuePairs:function(t){let e=[];return S(t,((t,n)=>{e.push(s.dict(n,t))})),e},entries:function(t){let e=[];return S(t,((t,n)=>{e.push([n,t])})),e},maxIndex:I,max:function(t,e){return t[I(t,e)]},minIndex:U,min:function(t,e){return t[U(t,e)]},shuffle:function(t){return Array.prototype.sort.call(t,(()=>Math.random()-.5))},sortAsc:function(t,e,n="en"){let r=e?function(t,r){return(""+e(t)).localeCompare(""+e(r),n)}:void 0;return Array.prototype.sort.call(t,r)},sortDesc:function(t,e,n="en"){let r=e?function(t,r){return(""+e(r)).localeCompare(""+e(t),n)}:void 0;return Array.prototype.sort.call(t,r)},translateObject:function(t,e){s.isArr(e)&&D(t,e);const n=Object.keys(e);let r=D(t,n);for(let t of n)r[e[t]]=r[t],delete r[t];return r},omit:function(t,e,n=!1){return s.isStr(t)?k(t,e,n,!0):s.isArr(t)||s.isList(t)?P(t,e,n,!0):M(t,e,n,!0)},join:function(t,...e){if(0===e.length)return[];if(!R(e,s.isArr))throw Error("Join only accepts arrays of data!");let n=W(t,"Join");const r={};return S(e,(t=>{S(t,(t=>{const e=n(t),o=r[e];r[e]=o?N(o,t):t}))})),r},groupBy:function(t,...e){if(0===e.length)return{};if(!R(e,s.isArr))throw Error("GroupBy only accepts arrays of data!");let n=W(t,"GroupBy");const r={};return S(e,(t=>{S(t,(t=>{const e=n(t),o=r[e];r[e]=o?N(o,t):[t]}))})),r},objectValues:function(t){return Object.values?Object.values(t):F(t,(t=>t))}};const{deepClone:X}=i;function q(t={},n=t){this.$type=e.VIEW,this.$name=this.constructor.name,this.$isView=!0,this.$nodes=void 0,this.$isDirty=!0,this.$raw=!0,this.$constructor=n;let r=Object.getOwnPropertyNames(this.$constructor);for(let t=0;t<r.length;t++){const e=r[t];this.$constructor[e]instanceof Function?this[e]=this.$constructor[e]:this[e]=X(this.$constructor[e])}}function G(t,n={},r){if(this.$type=e.VNODE,this.$tag=t,null===t)this.$frag=!0;else{if("#text"===t)return this.$isText=!0,void(this.$text=n);this.$isNode=!0;let e=G.compileProps(n);this.events=e.events,this.attrs=e.attrs,this.$element=void 0}this.$raw=!0,this.$resetNodes(r)}q.create=function(t,e){let n=new q(e);return e.render||console.warn("render method is not defined"),n.$name=t,n},q.$callRender=function(t){return t.$useStateIndex=0,t.render.call(t,t.props)},o=q,G.create=function(t,e={},...n){return null===e&&(e={}),null===t?new G(t,e,n):t.$isView?t.$createInstance(e,n):t.prototype&&t.prototype instanceof o?(new t).$updateInstance(e,n):!t.$type&&t instanceof Function?o.create(t.name,{render:t}).$createInstance(e,n):G.createTag(t,e,n)},G.createText=function(t){return new G("#text",t)},G.createTag=function(t,e,n){return new G(t,e,n)};const Y=(r=G).create;t={a:function(t,...e){return Y("a",t,...e)},abbr:function(t,...e){return Y("abbr",t,...e)},address:function(t,...e){return Y("address",t,...e)},aside:function(t,...e){return Y("aside",t,...e)},b:function(t,...e){return Y("b",t,...e)},bdi:function(t,...e){return Y("bdi",t,...e)},bdo:function(t,...e){return Y("bdo",t,...e)},blockquote:function(t,...e){return Y("blockquote",t,...e)},br:function(t,...e){return Y("br",t,...e)},button:function(t,...e){return Y("button",t,...e)},caption:function(t,...e){return Y("caption",t,...e)},code:function(t,...e){return Y("code",t,...e)},col:function(t,...e){return Y("col",t,...e)},colgroup:function(t,...e){return Y("colgroup",t,...e)},div:function(t,...e){return Y("div",t,...e)},em:function(t,...e){return Y("em",t,...e)},embed:function(t,...e){return Y("embed",t,...e)},fieldset:function(t,...e){return Y("fieldset",t,...e)},footer:function(t,...e){return Y("footer",t,...e)},form:function(t,...e){return Y("form",t,...e)},h1:function(t,...e){return Y("h1",t,...e)},h2:function(t,...e){return Y("h2",t,...e)},h3:function(t,...e){return Y("h3",t,...e)},h4:function(t,...e){return Y("h4",t,...e)},h5:function(t,...e){return Y("h5",t,...e)},h6:function(t,...e){return Y("h6",t,...e)},header:function(t,...e){return Y("header",t,...e)},hgroup:function(t,...e){return Y("hgroup",t,...e)},hr:function(t,...e){return Y("hr",t,...e)},i:function(t,...e){return Y("i",t,...e)},img:function(t,...e){return Y("img",t,...e)},input:function(t,...e){return Y("input",t,...e)},label:function(t,...e){return Y("label",t,...e)},li:function(t,...e){return Y("li",t,...e)},mark:function(t,...e){return Y("mark",t,...e)},nav:function(t,...e){return Y("nav",t,...e)},ol:function(t,...e){return Y("ol",t,...e)},optgroup:function(t,...e){return Y("optgroup",t,...e)},option:function(t,...e){return Y("option",t,...e)},p:function(t,...e){return Y("p",t,...e)},pre:function(t,...e){return Y("pre",t,...e)},progress:function(t,...e){return Y("progress",t,...e)},q:function(t,...e){return Y("q",t,...e)},s:function(t,...e){return Y("s",t,...e)},section:function(t,...e){return Y("section",t,...e)},select:function(t,...e){return Y("select",t,...e)},small:function(t,...e){return Y("small",t,...e)},span:function(t,...e){return Y("span",t,...e)},strong:function(t,...e){return Y("strong",t,...e)},sub:function(t,...e){return Y("sub",t,...e)},sup:function(t,...e){return Y("sup",t,...e)},table:function(t,...e){return Y("table",t,...e)},tbody:function(t,...e){return Y("tbody",t,...e)},td:function(t,...e){return Y("td",t,...e)},textarea:function(t,...e){return Y("textarea",t,...e)},tfoot:function(t,...e){return Y("tfoot",t,...e)},th:function(t,...e){return Y("th",t,...e)},thead:function(t,...e){return Y("thead",t,...e)},tr:function(t,...e){return Y("tr",t,...e)},u:function(t,...e){return Y("u",t,...e)},ul:function(t,...e){return Y("ul",t,...e)},e:Y};var Z;const{isArr:z,isStr:J,isVal:Q}=s;var tt;function et(t){return`[${t}] [${function(){let t=new Date;return`${t.getHours()}:${t.getMinutes()}:${t.getSeconds()}:${t.getMilliseconds()}`}()}]`}function nt(t,e){t.reverse(),t.push("display: inline-block; font-weight: bold; color: black","%c"+e),t.reverse()}const rt={TRACE:0,INFO:1,WARN:2,ERROR:3,SILENT:-1},ot={LogLevel:rt.TRACE};function it(t){return ot.LogLevel!==rt.SILENT&&ot.LogLevel<=t}tt={Config:ot,LogLevels:rt,showTrace:function(){ot.LogLevel=rt.TRACE},showInfo:function(){ot.LogLevel=rt.INFO},showWarn:function(){ot.LogLevel=rt.WARN},showError:function(){ot.LogLevel=rt.ERROR},silent:function(){ot.LogLevel=rt.SILENT},trace:function(...t){it(rt.TRACE)&&(t.reverse(),t.push(et("🔍 TRACE")),t.reverse(),console.trace.apply(this,t))},info:function(...t){it(rt.INFO)&&(nt(t,et("🔵 INFO")),console.log.apply(this,t))},warn:function(...t){it(rt.WARN)&&(nt(t,et("🚨 WARN")),console.warn.apply(this,t))},error:function(...t){it(rt.ERROR)&&(nt(t,et("💥 ERROR")),console.error.apply(this,t))}};const{info:st,warn:ut,error:ct}=tt,{forEach:ft}=i;var lt,at={};function ht(){return void 0!==n.window&&void 0!==n.document&&void 0!==n.navigator}ht()||(n.HTMLElement=n.HTMLElement?n.HTMLElement:function(){},n.Element=n.Element?n.Element:function(){},n.Node=n.Node?n.Node:function(){},n.HTMLCollection=n.HTMLCollection?n.HTMLCollection:function(){},n.NodeList=n.NodeList?n.NodeList:function(){}),at={setGlobal:function(t){for(let e of Object.keys(t))n[e]=t[e]},Extension:class{constructor(t){this.types=t,this.types=[],this.pcode="\n"}define(t){if(!t.name){let e=`Function must have a name [Extension.define(f)]\n<<${t}>>`;return console.error(e),`\n/**\n *${e}\n */`}let e="\n";for(let n of this.types)void 0!==n&&(e+=`${n.name||n}.prototype.${t.name} = `);return e+=t.toString()+";\n",this.pcode+=e,e}polyfill(t){if(!t.name){let e=`Extension function must have a name:\n<<${t}>>`;return console.error(e),`\n/**\n *${e}\n */`}let e="\n";for(let n of this.types)e+=`if (${n.name||n}.prototype.${t.name} === undefined) ${n.name||n}.prototype.${t.name} = ${t.toString()};\n`;this.pcode+=e}},isBrowser:ht};const{isArr:pt,hasField:dt,isEmpty:$t}=s,{contains:mt,forEach:_t,filter:Et}=i,{error:gt}=tt;var yt;function bt(t){let e=t.toString().match(/{[\w\W]*}/);return null===e?t.toString():e[0]}yt={funcBodyEquals:function(t,e){return bt(t)===bt(e)},throttle:function(t,e){var n=(new Date).getTime();return function(r){(new Date).getTime()-n>=e&&(n=(new Date).getTime(),t.call(this,r))}},debounce:function(t,e){var n=null;function r(...r){clearTimeout(n),n=setTimeout((function(e){return t.apply(e,r)}),e,this)}return r.flush=function(...e){return clearTimeout(n),t.apply(this,e)},r},bindArgs:function(t,e){return function(){return t.apply(this,e)}},once:function(t){var e=!1;return function(){if(!e)return e=!0,t.apply(this,arguments)}}};const{funcBodyEquals:vt}=yt;lt={setEvent:function(t,e,n,r){at.isBrowser()?(pt(e)||(e=mt(e," ")?e.split(" ").Map((t=>t.trim())):[e]),t.__EVENTS__=t.__EVENTS__||{},_t(e,(e=>{t.__EVENTS__[e]=t.__EVENTS__[e]||[];let o=function(e){n(e,t)};dt(r,"duplicates",(t=>t))||(t.__EVENTS__[e]=Et(t.__EVENTS__[e],(r=>{if(vt(r.l,n))return t.removeEventListener(e,r.f,r.o),!1}))),t.__EVENTS__[e].push({f:o,l:n,o:r}),t.addEventListener(e,o,r)}))):gt("Events are browser only!")},clearEvent:function(t,e){at.isBrowser()?(pt(e)||(e=mt(e," ")?e.split(" ").Map((t=>t.trim())):[e]),t.__EVENTS__=t.__EVENTS__||{},$t(t.__EVENTS__)||_t(e,(function(e){t.__EVENTS__[e]=t.__EVENTS__[e]||[],$t(t.__EVENTS__[e])||(_t(t.__EVENTS__[e],(n=>(t.removeEventListener(e,n.f,n.o),!1))),t.__EVENTS__[e]=[])}))):gt("Events are browser only!")},hasEvent:function(t,e){return t.__EVENTS__&&t.__EVENTS__[e]&&!$t(t.__EVENTS__[e])}};const{setEvent:wt}=lt;var At,Lt={};At={kebab:function(t){let e="",n=!1;for(let r=0;r<t.length;r++){let o=t.charAt(r);"_"!==o?(o>="A"&&o<="Z"&&r>0&&!n&&(e+="-"),e+=o.toLowerCase(),n=!1):(e+="-",n=!0)}return e},camel:function(t){let e="",n=!1;for(let r=0;r<t.length;r++){let o=t.charAt(r);"-"===o||"_"===o?n=!0:!0===n?(e+=o.toUpperCase(),n=!1):e+=0===r?o.toLowerCase():o}return e},pascal:function(t){let e="",n=!1;for(let r=0;r<t.length;r++){let o=t.charAt(r);"-"===o||"_"===o?n=!0:!0===n?(e+=o.toUpperCase(),n=!1):e+=0===r?o.toUpperCase():o}return e},snake:function(t){let e="",n=!1;for(let r=0;r<t.length;r++){let o=t.charAt(r);"-"!==o?(o>="A"&&o<="Z"&&r>0&&!n&&(e+="_"),e+=o.toLowerCase(),n=!1):(e+="_",n=!0)}return e}};const{kebab:Nt}=At,{forEach:St}=i;function Ot(t){let e=[];return St(t,((t,n)=>{e.push(`${Nt(n)}: ${t};`)})),e}Lt={generateStyles:Ot,generateCss:function(t,e="\n"){return Ot(t).sort(((t,e)=>t[0].localeCompare(e[0]))).join(e)}};var Tt={};const{deepClone:xt,forEach:jt}=i;var Vt;const{isArr:Ct,isStr:Rt,isVal:kt}=s,{forEach:Mt}=i;function Pt(t){return/on[A-Z]+/.test(t)}function Dt(t){return t.slice(2).toLowerCase()}Vt={isEventPropKey:Pt,normalizeEventName:Dt,randomId:function(){return Date.now().toString(24).slice(2)+Math.random().toString(24).slice(6)},randomHexColor:function(){return"#"+Math.random().toString(16).slice(2,8)},compileProps:function(t){const e={events:{},attrs:{}};return Mt(t,((t,n)=>{Pt(n)?e.events[Dt(n)]=t:e.attrs[n]=t})),e},compileStyles:function(t,e){return kt(t)?Rt(t)?t:Ct(t)?t.join(e):Lt.generateCss(t,e):""},sameProps:function(t={},e={}){const n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(let r of n)if(e[r]!==t[r])return!1;return!0}};const{isEventPropKey:It,normalizeEventName:Ut}=Vt;var Ft;const{isPrim:Bt,isVal:Kt}=s,{error:Ht}=tt;function Wt(t,e,n){e.attrs&&ft(e.attrs,((e,n)=>{var r,o;"style"===n?(o=" ",e=Q(r=e)?J(r)?r:z(r)?r.join(o):Lt.generateCss(r,o):""):"className"===n&&(n="class"),t.setAttribute(n,e)})),e.events&&ft(e.events,((e,r)=>{n&&(e=e.bind(n)),wt(t,r,e)}))}function Xt(t,e){let n=[];for(let r=0;r<t.$count;r++){const o=t.$nodes[r];if(o.$isText)n.push(Gt(o));else{let r;if(o.$raw&&o.$render(o,o.$view),o.$isView)o.$dispatchLifeCycle("onCreate",o.props),r=qt(o,t.$element||e),o.$dispatchLifeCycle("onMount",o.props);else{if(!o.$isNode)throw ct("Illegal node",o),Error("Illegal child node");r=Yt(o)}r instanceof Array?r.forEach((t=>n.push(t))):n.push(r)}}return n}function qt(t,e,n=!1){t.$raw&&t.$render(t.$parent,t.$view);let r=Xt(t,e),o=t.$parent?void 0:e;return t.$single&&(o=r[0]),o&&!t.$single&&(r.forEach((t=>o.append(t))),r=[o],o.__view__=t),t.$element=o,t.$rootElement=t.$rootElement||e||t.$parent&&t.$parent.$element||t.$parent&&t.$parent.$rootElement,t.$rootElement?(t.$element===e?st("Parent is the same element"):e?r.forEach((t=>e.append(t))):r.forEach((e=>t.$rootElement.append(e))),t.$rootElement.__view__=t):st("no root",t),t.$isDirty=!1,t.$element||r}function Gt(t){let e=document.createTextNode(t.$text);return t.$element=e,e.__node__=t,e}function Yt(t,e,n){let r;if(t||console.trace(t),t.$isText)return Gt(t);if(t.$isNode||t.$frag&&e){let o;n?(o=e.id,r=e):r=document.createElement(t.$tag),Wt(r,t,t.$view),o&&(r.id=o),r.__node__=t,t.$element=r;let i=Xt(t,r);try{i.forEach((t=>{try{r.append(t)}catch(e){console.error(t,e)}}))}catch(e){console.error(t,e)}return r}if(t instanceof Array&&(t=Tt.create(null,void 0,t)).$render(),t.$frag){if(e){return Xt(t,e).forEach((t=>{e.append(t)})),e}return ut("Rendering fragment without rootElement",t),Xt(t)}t.$dispatchLifeCycle("onCreate",t.props);let o=qt(t,e);return t.$dispatchLifeCycle("onMount",t.props),o}Ft=function t(e=[],n,i,s=!1){let u=[];e instanceof Array||(e=[e]);try{for(let c=0;c<e.length;c++){let f=e[c];if(Kt(f)||(f=""+f),Bt(f)){let t=r.createText(f.toString());t.$parent=n,u.push(t)}else if(f.$isView)u.push(s?f.$render(n,f):f);else if(f.$frag&&(f=f.$nodes),f instanceof Array){let e=t(f,n,i,s);for(let t=0;t<e.length;t++)u.push(s?e[t].$render(n,i):e[t])}else!f.$isView&&f instanceof Function?(f=o.create(f.name,{render:f}),f.$parent=n):f.$isNode||(f=r.createText(""+f),f.$parent=n),u.push(s?f.$render(n,i):f)}return u}catch(t){return Ht(t),[]}},r.compileProps=function(t){const e={events:{},attrs:{}};return jt(t,((t,n)=>{It(n)?e.events[Ut(n)]=t:e.attrs[n]=t})),e},r.prototype.$render=function(t,e){this.$parent=t,this.$view=e;for(let t=0;t<this.$count;t++){let n=this.$nodes[t];if(n.$isText)n.$parent=this;else try{n=n.$render(this,e)}catch(t){console.error(t,n)}}return this.$raw=!1,this},r.prototype.$resetNodes=function(t){try{this.$nodes=Ft(t,this,this.$view,!1)}catch(t){console.log(t,this.$nodes)}this.$count=this.$nodes.length,(this.$empty=0===this.$count)?1===this.$count&&(this.$single=!0):this.$first=this.$nodes[0]},r.prototype.$removeDom=function(t){t||this.$element.remove(),this.$isText||this.$nodes.forEach((e=>e.$removeDom(t)))},r.prototype.$clone=function(t,e){return r.createTag(this.$tag,{attrs:xt(this.attrs),events:this.events},this.$nodes.map((t=>t.$clone(this,e)))).$render(t,e)},r.prototype.$ref=function(t){this.$refs||(this.$refs={});let e=this.$refs[t];if(this.attrs&&this.attrs.ref===t)return this;if(this.$nodes)for(let n=0;n<this.$nodes.length&&void 0===e;n++)e=this.$nodes[n].$ref(t);return e},Tt=r,Z={renderDom:Yt,renderDomView:qt};const{renderDom:Zt}=Z;var zt;const{renderDom:Jt}=Z;zt=function(t,e){if(!e)throw Error("mount: target element is undefined");t.$isNode||(t=r.create(t).$render()),Jt(t,e,!0)},n.Exir={View:o,VNode:Tt,jsx:Tt.create,mount:zt,createComponent:o.create,render:Zt},n.h=Tt.create,n.jsx=Tt.create,n.v=t}();
//# sourceMappingURL=global.js.map

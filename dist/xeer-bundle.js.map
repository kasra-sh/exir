{"mappings":"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","sources":["./home/blkr/src/js/xeer-js/node_modules/.pnpm/@parcel/scope-hoisting@2.0.0-beta.1/node_modules/@parcel/scope-hoisting/lib/helpers.js","./core/types.js","./core/logging.js","./core/scope.js","./core/stream.js","./core/cases.js","./core/strings.js","./core/index.js","./dom/query.js","./dom/event.js","./dom/classes.js","./dom/attributes.js","./dom/position.js","./dom/append.js","./dom/patch.js","./dom/index.js","./http/request.js","./http/response.js","./http/methods.js","./http/ajax.js","./http/client.js","./http/index.js","./index.js","./xeer-bundle.js","./experimental/vm/vnode.js","./experimental/vm/vdom.js","./node_modules/kenpo-js/src/lexer/StringReader.js","./node_modules/kenpo-js/src/lexer/Tokenizer.js","./template/fmt.js","./ext/stream.ext.js","./ext/dom.ext.js"],"sourcesContent":[null,"let T = {};\n\nT.isUnd = function (x) {\n    return x!==null && x === undefined;\n}\n\nT.isNull = function (x) {\n    return x === null;\n}\n\nT.isVal = function (x) {\n    return !T.isUnd(x) && !T.isNull(x);\n}\n\nT.isNum = function (x) {\n    return typeof x === \"number\";\n}\n\nT.isStr = function (x) {\n    return typeof x === \"string\" || x instanceof String;\n}\n\nT.isFun = function (x) {\n    return typeof x === \"function\";\n}\n\nT.isObj = function (x) {\n    return typeof x === \"object\";\n}\n\nT.isArr = function (x) {\n    return x instanceof Array\n}\n\nT.isPrim = function (x) {\n    return T.isVal(x) && !T.isObj(x) && !T.isFun(x);\n}\n\nT.isList = function (x) {\n    return T.isVal(x.length) && T.isFun(x.item)\n}\n\nT.isMutableList = function (x) {\n    return T.isVal(x.length) && T.isFun(x.item) && T.isFun(x.add)\n}\n\nT.isEl = function (x) {\n    return x instanceof Element || x instanceof HTMLElement || x instanceof Node;\n}\n\nT.isEls = function (x) {\n    return x instanceof HTMLCollection || x instanceof NodeList;\n}\n\nT.hasField = function hasField(obj, field, pred) {\n    if (!T.isVal(obj)) return undefined;\n    if (T.isFun(pred)) {\n        return pred(obj[field]);\n    }\n    return obj.hasOwnProperty(field);\n}\n\nT.isEmpty = function (x) {\n    if (T.hasField(x, 'length')) return x.length <= 0;\n    if (T.isFun(x)) return false;\n    if (T.isObj(x)) return Object.keys(x).length <= 0\n    return true;\n}\n\n/**\n *\n * @param src {Object | String[]}\n * @return {(array)}\n * @constructor\n */\nT.Enum = function (src) {\n    let c = 0;\n    let MAP = {};\n    for (let i of Object.keys(src)) {\n        MAP[MAP[c] = i] = c++;\n    }\n    return MAP;\n}\n\nT.Set = class {\n    items = [];\n\n    constructor(items) {\n        this.items = items\n    }\n\n    static of(src) {\n        return new T.Set(src)\n    }\n\n    add(item) {\n        if (this.items.indexOf(item)<0) {\n            this.items.push(item)\n        }\n    }\n\n    contains(item) {\n        return this.items.indexOf(item)>=0\n    }\n\n    remove(item) {\n        this.items.splice(this.items.indexOf(item), 1);\n    }\n}\n\nT.dict = function (...args) {\n    let o = {};\n    for (let i=0;i<args.length; i++) {\n        if (i%2!==0) continue;\n        o[args[i]] = args[i+1]\n    }\n    return o;\n}\n\nmodule.exports = T;","const T = require(\"./types\");\nlet X = {};\nfunction __logtime__() {\n    let t = new Date();\n    return `${t.getHours()}:${t.getMinutes()}:${t.getSeconds()}:${t.getMilliseconds()}`;\n}\n\nfunction logTitle(flag) {\n    return `[${flag}] [${__logtime__()}]`;\n}\n\nfunction prepareLog(args, lt) {\n    args.reverse();\n    args.push(\"display: inline-block; font-weight: bold; color: black\", \"%c\"+lt);\n    args.reverse();\n}\n\nX.Level = T.Enum({TRACE:0, INFO:0, WARN:0, ERROR:0, SILENT:0});\nX.LogLevel = X.Level.TRACE;\n\nX.showTrace = function () {X.LogLevel = X.Level.TRACE;}\nX.showInfo = function () {X.LogLevel = X.Level.INFO;}\nX.showWarn = function () {X.LogLevel = X.Level.WARN;}\nX.showError = function () {X.LogLevel = X.Level.ERROR;}\nX.silent = function () {X.LogLevel = X.Level.SILENT;}\nfunction lvl(l) {\n    return X.LogLevel !== X.Level.SILENT && X.LogLevel <= l\n}\nX.trace = function (...args) {\n    if (!lvl(X.Level.TRACE)) return;\n    args.reverse();\n    args.push(logTitle(\"X-TRACE\"));\n    args.reverse();    // args.push(\"\\n\");\n    console.trace.apply(X, args);\n}\n\nX.info = function (...args) {\n    if (!lvl(X.Level.INFO)) return;\n    prepareLog(args, logTitle(\"X-INFO\"));\n    console.log.apply(X, args);\n}\n\nX.warn = function (...args) {\n    if (!lvl(X.Level.WARN)) return;\n    prepareLog(args, logTitle(\"X-WARN\"));\n    console.warn.apply(X, args);\n}\n\nX.error = function (...args) {\n    if (!lvl(X.Level.ERROR)) return;\n    prepareLog(args, logTitle(\"X-ERROR\"));\n    console.error.apply(X, args);\n}\n\nmodule.exports = X;","const Log = require(\"./logging\")\nfunction merge(src, target) {\n    for (let k of Object.keys(src)) {\n        if ((!src[k] instanceof Array) && (typeof src[k] === \"object\")) {\n            if (!target.hasOwnProperty(k)) target[k] = {}\n            merge(src[k], target[k]);\n        } else\n            target[k] = src[k]\n    }\n    return target;\n}\nfunction mergeAll(...obj) {\n    let res = {};\n    for (let k of Object.keys(obj)) {\n        merge(obj[k], res);\n    }\n    return res;\n}\nfunction setGlobal(obj) {\n    merge(obj, global);\n}\n\nclass Extension {\n    types = []\n    pcode = \"\\n\"\n\n    constructor(types) {\n        this.types = types;\n    }\n\n    /**\n     *\n     * @param namedFunc {Function}\n     * @return {string}\n     */\n    define(namedFunc) {\n        if (!namedFunc.name) {\n            let err = `Function must have a name [Extension.define(f)]\\n<<${namedFunc}>>`;\n            Log.error(err);\n            return `\\n/**\\n *${err}\\n */`;\n        }\n        let code = \"\\n\";\n        for (let p of this.types) {\n            if (p !== undefined)\n                code += `${p.name || p}.prototype.${namedFunc.name} = `;\n        }\n        code += namedFunc.toString() + \";\\n\";\n\n        this.pcode += code;\n\n        return code\n    }\n\n    polyfill(namedFunc) {\n        if (!namedFunc.name) {\n            let err = `Extension function must have a name:\\n<<${namedFunc}>>`;\n            Log.error(err);\n            return `\\n/**\\n *${err}\\n */`;\n        }\n        let code = \"\\n\";\n        for (let p of this.types) {\n            code += `if (${p.name || p}.prototype.${namedFunc.name} === undefined) ${p.name || p}.prototype.${namedFunc.name} = ${namedFunc.toString()};\\n`;\n        }\n        this.pcode += code;\n    }\n}\n\nfunction isBrowser() {\n    return global.window !== undefined && global.document !== undefined && global.navigator !== undefined\n}\n\nif (!isBrowser()) {\n// -------------\n    global.HTMLElement = !global.HTMLElement? function HTMLElement(){}: global.HTMLElement\n    global.Element = !global.Element? function Element(){}: global.Element\n    global.Node = !global.Node? function Node(){}: global.Node\n    global.HTMLCollection = !global.HTMLCollection? function HTMLCollection(){}: global.HTMLCollection\n    global.NodeList = !global.NodeList? function NodeList(){}: global.NodeList\n// -------------\n}\n\nmodule.exports = {merge, mergeAll, setGlobal, Proto: Extension, isBrowser}","const {merge, mergeAll} = require(\"./scope\");\nconst T = require(\"./types\");\n\nlet S = {};\n\nif (!global._X_LOOP_BREAK_) {\n    global._X_LOOP_BREAK_ = Symbol(\"BREAK_LOOP\");\n    global._X_ANY_ = Symbol(\"ANY\");\n    global._X_ALL_ = Symbol(\"ALL\");\n}\n\nS.BREAK = global._X_LOOP_BREAK_;\nS.ANY = global._X_ANY_;\nS.ALL = global._X_ALL_;\n\nS.item = function item(s, i) {\n    if (!T.isVal(s)) return undefined;\n    if (T.isObj(s)) return s[i]\n    if (T.isStr(s)) return s[i]\n    if (T.isArr(s)) return s[i]\n    else return s.item(i)\n}\n\nS.contains = function contains(s, v, k) {\n    if (!T.isArr(s) && T.isObj(s)) return s[k] === v;\n    return s.indexOf(v)>=0;\n}\n\nS.add = function add(src, ...v) {\n    if (T.isArr(src)) {\n        S.ForEach(v, (vi)=>src.push(vi))\n        // src.push(v);\n    } else if (T.isMutableList(src)) {\n        src.add(v);\n    }\n}\n\nS.remove = function remove(src, ...it) {\n    it = S.FlatMap(it);\n    let any = false;\n    S.ForEach(it, (item)=> {\n        let idx = src.indexOf(item);\n        if (idx>=0) {\n            any = true\n            src.splice(idx, 1);\n        }\n    });\n\n    return any;\n}\n\nS.toggle = function toggle(src, ...c) {\n    if (c.length===0) return;\n    c = S.FlatMap(c);\n    let idx = undefined;\n    if (c.length===1){\n        if (!S.remove(src, c)) {\n            S.add(src, c[0])\n        }\n    } else {\n        c.push(c[0]);\n        let any = false;\n        S.ForEach(src, (cl, i)=> {\n            idx = c.indexOf(cl);\n            if (idx>=0 && c.length>(idx+1)) {\n                any = true;\n                src[i] = c[idx+1]\n            }\n        });\n        if (!any) {\n            src.push(c[0])\n        }\n    }\n}\n\nS.objMatchOne = function objMatchOne(o, match) {\n    let m = Object.keys(match);\n    for (let k of m) {\n        // if (!T.isObj(o[k])) continue;\n        if (match[k] === S.ANY && o.hasOwnProperty(k)) return true;\n        if (match[k] === o[k]) return true;\n    }\n    return false\n}\n\nS.objMatchAll = function objMatchAll(o, match) {\n    let m = Object.keys(match);\n    for (let k of m) {\n        // if (!T.isObj(o[k])) return false;\n        if (match[k] === S.ANY) continue;\n        if (match[k] !== o[k]) return false\n    }\n    return true\n}\n\nfunction funOrEq(f, def, inc = true) {\n    if (T.isUnd(f)) return def;\n    if (T.isFun(f)) return f;\n    else if (f instanceof RegExp) return (v)=>!T.isObj(v)?f.test(v.toString()):false;\n    else if (T.isObj(f)) {\n        if (Object.keys(f).length===0) return def;\n        return inc?(v)=>S.objMatchOne(v, f):(v)=>S.objMatchAll(v, f);\n    }\n    else return (v)=>v===f;\n}\n\nS.DeepClone = function (src, opt={skips:[], maxLevel: 999}, lvl=0) {\n    if (lvl>=opt.maxLevel) return src;\n    let cl = T.isArr(src)?[]:{};\n    for (let k in src) {\n        if (src.hasOwnProperty(k)) {\n            if (opt.skips && S.contains(opt.skips, k)) continue;\n            let val = src[k];\n            if (!T.isPrim(val)) {\n                val = S.DeepClone(val, opt, lvl++);\n            }\n            if (T.isArr(cl)) {\n                cl.push(val);\n            } else {\n                cl[k] = val;\n            }\n        }\n    }\n    return cl;\n}\n\nS.DeepConcat = function (o1, o2) {\n    if (T.isStr(o1)) {\n        return o1.concat(o2);\n    }\n    if (T.isArr(o1)) {\n        return o1.concat(o2);\n    }\n    let d = o1;\n    for (let k of Object.keys(o2)) {\n        if (T.isArr(o2[k])){\n            if (!T.isVal(o1[k])) o1[k] = [];\n            S.DeepConcat(o1[k], o2[k]);\n        } else if(T.isObj(o2[k])) {\n            if (!T.isVal(o1[k])) o1[k] = {};\n            S.DeepConcat(o1[k], o2[k])\n        } else\n            d[k] = o2[k];\n    }\n    return d\n}\n\nS.ForRange = function (src, func, start = 0, end) {\n    if (!T.isArr(src) || !T.isStr(src)) {\n        let keys = Object.keys(src);\n        end = end || keys.length -1\n        for (let i=start; i<=end; i++) {\n            let r = func(src[keys[i]], keys[i], i, src);\n            if (r === S.BREAK) return i;\n        }\n        return end;\n    }\n    end = end || src.length;\n    for (let i = start; i < end; i++) {\n        let r = func(S.item(src,i), i, i, src);\n        if (r === S.BREAK) return i;\n    }\n    return end\n}\n\nS.ForEach = function (src, func) {\n    if (!T.isVal(src)) return -1;\n    if (!T.isArr(src) || !T.isStr(src) || !T.isList(src)) {\n        let i = 0;\n        let keys = Object.keys(src);\n        const len = keys.length;\n        for (; i<len; i++) {\n            // let r = ;\n            const k = keys[i], v=src[k];\n            if (func(v, k, i, src) === S.BREAK) return i;\n        }\n        return i;\n    }\n    const len = src.length;\n    if (!T.isArr(src)) {\n        for (let i = 0; i < len; i++) {\n            const v = src[i];\n            let r = func(v, i, i, src);\n            if (r === S.BREAK) return i;\n        }\n    } else {\n        for (let i = 0; i < len; i++) {\n            const v = S.item(src,i);\n            let r = func(v, i, i, src);\n            if (r === S.BREAK) return i;\n        }\n    }\n    return src.length\n}\n\nS.ForEachRTL = function (src, func, range=[]) {\n    if (!T.isArr(src) || !T.isStr(src)) {\n        let i = 0;\n        let keys = Object.keys(src);\n        for (let i=keys.length-1; i>=0; i--) {\n            if (i<range[1]) continue;\n            if (i>=range[0]) return i;\n            let r = func(src[keys[i]], keys[i], i, src);\n            if (r === S.BREAK) return i;\n        }\n        return i;\n    }\n    for (let i=src.length-1; i>=0; i--) {\n        let r = func(S.item(src, i), i, i, src);\n        if (r === S.BREAK) return i;\n    }\n    return src.length\n}\n\nS.ArrayForEach = function (src, func) {\n    let arr = Array.from(src);\n    let rev = S.ForEach(arr, func);\n    return rev < arr.length ? arr.slice(0, rev) : arr;\n}\n\nS.ArrayForEachRTL = function (src, func) {\n    let arr = Array.from(src);\n    let rev = S.ForEachRTL(arr, func);\n    return rev < arr.length ? arr.slice(0, rev) : arr;\n}\n\nS.First = function (src, func) {\n    // if (!func) return item(src, 0);\n    func = funOrEq(func,()=>true);\n    let r;\n    S.ForEach(src, function (v,k,i) {\n        r = func(v, k, i);\n        if (r === true) {\n            r = v;\n            return S.BREAK;\n        }\n    })\n    return r;\n}\n\nS.StartsWith = function(src, func) {\n    func = funOrEq(func,()=>true);\n    return func(S.First(src))\n}\n\nS.Last = function (src, func) {\n    func = funOrEq(func, ()=>true);\n    let r;\n    S.ForEachRTL(src, function (v,k,i) {\n        r = func(v, k, i);\n        if (r === true) {\n            r = v;\n            return S.BREAK;\n        }\n    })\n    return r;\n}\n\nS.EndsWith = function(src, func) {\n    func = funOrEq(func,()=>true);\n    return func(S.Last(src))\n}\n\nS.Reverse = function (src) {\n    if (T.isArr(src)) return src.reverse();\n    let rev = \"\";\n    S.ForEachRTL(src, function (it) {\n        rev+=it;\n    });\n    return rev;\n}\n\n/**\n *\n * @param src\n * @param func\n * @return {boolean}\n * @constructor\n */\nS.Any = function (src, func) {\n    // if (!func){\n    //     if (T.isArr(src) || T.isStr(src)) return src.length>0;\n    //     return Object.keys(src).length>0;\n    // }\n    let fn = funOrEq(func);\n    let r = false;\n    S.ForEach(src, function (v, k, i, src) {\n        r = fn(v, k, i, src);\n        if (r === true) return S.BREAK;\n    });\n    return r;\n}\n\nS.All = function (src, func) {\n    func = funOrEq(func, ()=>true);\n    let r = true;\n    S.ForEach(src, function (v, k, i, src) {\n        r = func(v, k, i, src);\n        if (r === false) return S.BREAK;\n    })\n    return r;\n}\n\nfunction filterS(src, pred, right = false){\n    pred = funOrEq(pred, ()=>true);\n    let res = \"\";\n    let loop = right? S.ForEachRTL: S.ForEach;\n    loop(src, function (v, k, i) {\n        if (!pred || pred(v, k, i, src) === true) res += v;\n    });\n    return res;\n}\n\nfunction filterO(src, pred, right = false){\n    if (T.isArr(pred)) {\n        let a = S.DeepClone(pred);\n        pred = (v, k, i)=>{\n            return S.Any(a, k);\n        }\n    } else\n        pred = funOrEq(pred,  ()=>true);\n    let res = {};\n    let loop = right? S.ForEachRTL: S.ForEach;\n    loop(src, function (v, k, i) {\n        if (pred(v, k, i, src) === true) res[k] = v;\n    });\n    return res;\n}\n\nfunction filterA(src, pred, right= false) {\n    if (T.isArr(pred)) {\n        let a = S.DeepClone(pred)\n        pred = (v, k, i, src)=>S.Any(a, i);\n    } else\n        pred = funOrEq(pred,  ()=>true);\n    let res = [];\n    const len = src.length;\n    if (!right) {\n        for (let i = 0; i < len; i++) {\n            const v = src[i]\n            if (pred(v, i, i, src) === true) {\n                res.push(v);\n            }\n        }\n    }else {\n        for (let i = len; i >= 0; i--) {\n            const v = src[i]\n            if (pred(v, i, i, src) === true) {\n                res.push(v);\n            }\n        }\n    }\n    return res;\n}\n\nS.Filter = function (src, pred, right = false) {\n    if (T.isStr(src)) return filterS(src, pred, right);\n    if (T.isArr(src) || T.isList(src)) return filterA(src, pred, right);\n    return filterO(src, pred, right);\n};\n\nS.FilterRTL = function (src, func) {\n    return S.Filter(src, func, true);\n};\n\nfunction mapA(src, func, right = false) {\n    let res = [];\n    let loop = right? S.ForEachRTL: S.ForEach;\n    loop(src, function (a, i) {\n        let r = func(a, i, src);\n        if (!T.isUnd(r))\n            res.push(r);\n    });\n    return res;\n}\n\nfunction mapO(src, func, right = false) {\n    let res = {};\n    let loop = right? S.ForEachRTL: S.ForEach;\n    loop(src, function (v, k, i) {\n        let r = func(v, k, i, src);\n        if (!T.isUnd(r))\n            res[k] = r\n    });\n    return res;\n}\n\nS.Map = function (src, func, right = false) {\n    func = funOrEq(func,(v)=>v);\n    if (T.isArr(src)) return mapA(src, func);\n    else if (T.isObj(src)) return mapO(src, func);\n}\n\nS.FlatMap = function (src, func) {\n    let res;\n    if (T.isStr(src)) res = \"\"\n    else if (T.isArr(src)) res = []\n    else res = {};\n    S.ForEach(src, function (a, i) {\n        let f;\n        if (!!func) {\n            f = func(a, i, src);\n        } else {\n            if (!T.isArr(res) && T.isObj(res)) {\n                f = {};\n                f[i] = a;\n            } else {\n                f = a\n            }\n        }\n        res = S.DeepConcat(res, f);\n    });\n    return res;\n}\n\nS.keyValuePairs = function (object) {\n    let entries = [];\n    S.ForEach(object, (v, k)=> {\n        entries.push(T.dict(k, v));\n    });\n    return entries;\n}\n\nS.entries = function (object) {\n    let entries = [];\n    S.ForEach(object, (v, k)=> {\n        entries.push([k, v]);\n    });\n    return entries;\n}\n\nS.spread = merge;\n\nS.mergeAll = mergeAll;\n\nS.startsWith = function (str, s) {\n    return str.indexOf(s) === 0;\n}\n\nS.endsWith = function (str, s) {\n    return str.indexOf(s) === str.length-1;\n}\n\nmodule.exports = S;","function kebab(name) {\n    let kb = \"\";\n    let pres = false;\n    for (let i=0;i<name.length; i++) {\n        let c = name.charAt(i);\n        if (c === '_') {\n            kb += '-';\n            pres = true;\n            continue;\n        }\n        if (c >= 'A' && c <= 'Z') {\n            if (i>0 && !pres) {\n                kb+='-';\n            }\n        }\n        kb+=c.toLowerCase();\n        pres = false;\n    }\n    return kb;\n}\n\nfunction snake(name) {\n    let snk = \"\";\n    let pres = false;\n    for (let i=0;i<name.length; i++) {\n        let c = name.charAt(i);\n        if (c === '-') {\n            snk += '_';\n            pres = true;\n            continue;\n        }\n        if (c >= 'A' && c <= 'Z') {\n            if (i>0 && !pres) {\n                snk+='_';\n            }\n        }\n        snk+=c.toLowerCase();\n        pres = false;\n    }\n    return snk;\n}\n\nfunction camel(name) {\n    let cml = \"\";\n    let pres = false;\n    for (let i=0;i<name.length; i++) {\n        let c = name.charAt(i);\n        if (c === '-' || c === '_') {\n            pres = true;\n        } else if (pres === true) {\n            cml+=c.toUpperCase();\n            pres = false;\n        } else {\n            if (i === 0) {\n                cml += c.toLowerCase();\n            } else {\n                cml += c;\n            }\n        }\n    }\n    return cml;\n}\n\nfunction pascal(name) {\n    let psc = \"\";\n    let pres = false;\n    for (let i=0;i<name.length; i++) {\n        let c = name.charAt(i);\n        if (c === '-' || c === '_') {\n            pres = true;\n        } else if (pres === true) {\n            psc+=c.toUpperCase();\n            pres = false;\n        } else {\n            if (i === 0) {\n                psc += c.toUpperCase();\n            } else {\n                psc += c;\n            }\n        }\n    }\n    return psc;\n}\n\nmodule.exports = {kebab, camel, pascal, snake}","const S = {};\n\n// const numRegex = /^0[xXbB][\\daAbBcCdDeEfF]+$|^\\d*\\.?\\d+$/\nS.numRegex = /0[xXbB][\\daAbBcCdDeEfF]+|\\d*\\.?\\d+/\nS.getNumberRegex = /(0[xXbB][\\daAbBcCdDeEfF]+|\\d*\\.?\\d+)([a-zA-Z]+)/g\n\nS.isNumeric = function (s) {\n    return S.numRegex.test(s)\n}\n\nS.getNumeric = function (s) {\n    let all = s.matchAll(S.getNumberRegex);\n    let arr = [];\n    do {\n        let m = all.next();\n        if (m.done) break;\n        arr.push(m);\n    } while (true);\n    return arr;\n}\n\nmodule.exports = S;","const scope = require('./scope');\nmodule.exports = scope.mergeAll(\n    require('./stream'),\n    require('./logging'),\n    require('./types'),\n    require('./cases'),\n    require('./strings')\n);\n","const T = require(\"../core/types\");\nconst L = require(\"../core/logging\");\nlet X = {};\nX.$DOC = global.document || {};\nX.$BODY = X.$DOC.body || {};\nX.$HEAD = X.$DOC.head || {};\n\nX.$ = function (q, root = document) {\n    if (T.isEl(q)) return Array.of(q);\n    if (T.isEls(q)) return q;\n    if (!T.isStr(q)) {\n        L.error(`Query is not string nor element X.$(${q})`);\n        return null;\n    }\n    if (!T.isEl(root)) {\n        L.error(`Query root is not a node!\\t[X.$(${q}, ${root})]`);\n        return null;\n    }\n    return Array.from(root.querySelectorAll(q));\n}\n\nX.$$ = function (q, root = document) {\n    if (T.isEl(q)) return q;\n    if (!T.isStr(q)) {\n        L.error(`Query is not string nor element X.$$(${q})`);\n        return null;\n    }\n    if (!T.isEl(root)) {\n        L.error(`Query root is not a node!\\t[X.$(${q}, ${root})]`);\n        return null;\n    }\n    return Array.of(root.querySelector(q));\n}\n\nmodule.exports = X;","const scope = require(\"../core/scope\");\nconst T = require(\"../core/types\");\nconst I = require(\"../core/stream\");\nconst L = require(\"../core/logging\");\n\n/**\n *\n * @param target {Node|Element}\n * @param event {String|Array}\n * @param listener {Function}\n * @param options {AddEventListenerOptions}\n */\nfunction setEvent(target, event, listener, options) {\n    if (!scope.isBrowser()) {\n        L.error(\"Events are browser only!\");\n        return\n    }\n    if (!T.isArr(event)) {\n        if (I.contains(event,' ')) {\n            event = event.split(' ').Map((it)=>it.trim())\n        } else\n            event = [event];\n    }\n    target.__EVENTS__ = target.__EVENTS__ || {};\n    I.ForEach(event,function (ev) {\n        target.__EVENTS__[ev] = target.__EVENTS__[ev] || [];\n        let f = function (e) {\n            listener(e, target);\n        };\n        if (!T.hasField(options, 'duplicates', (a)=>a)) {\n            // console.log('removing dups')\n            target.__EVENTS__[ev] = I.Filter(target.__EVENTS__[ev],(fl)=> {\n                if (T.funcEqual(fl.l, listener)) {\n                    target.removeEventListener(ev, fl.f, fl.o);\n                    return false\n                } else {\n                    console.log('notEqual',fl.l.toString(), listener.toString())\n                }\n            });\n        }\n\n        target.__EVENTS__[ev].push({f:f, l:listener, o: options});\n        target.addEventListener(ev, f, options);\n    });\n}\n\nfunction clearEvent(target, event) {\n    if (!scope.isBrowser()) {\n        L.error(\"Events are browser only!\");\n        return\n    }\n    if (!T.isArr(event)) {\n        if (I.contains(event,' ')) {\n            event = event.split(' ').Map((it)=>it.trim())\n        } else\n            event = [event];\n    }\n    target.__EVENTS__ = target.__EVENTS__ || {};\n    if (T.isEmpty(target.__EVENTS__)) return;\n    I.ForEach(event,function (ev) {\n        target.__EVENTS__[ev] = target.__EVENTS__[ev] || [];\n        if (T.isEmpty(target.__EVENTS__[ev])) return;\n\n        I.ForEach(target.__EVENTS__[ev],(fl)=> {\n            target.removeEventListener(ev, fl.f, fl.o);\n            return false\n        });\n        target.__EVENTS__[ev] = [];\n\n    });\n}\n\nmodule.exports = {setEvent, clearEvent};","const S = require(\"../core/scope\");\nconst T = require(\"../core/types\");\nconst I = require(\"../core/stream\");\n\nclass Classes {\n    static split(className) {\n        return className.trim().replace(/\\s+/,' ').split(' ');\n    }\n    constructor(e) {\n        this.element = e;\n        Object.defineProperty(this, 'items', {\n            get() {\n                return this.classes;\n            },\n            set(v) {\n                let upd = false;\n                if (this.classes) upd = true;\n                if (!T.isVal(v) || T.isEmpty(v)) this.classes = [];\n                else if (T.isArr(v)) this.classes = v;\n                else if (T.isStr(v)) this.classes = Classes.split(v);\n                else if (v instanceof DOMTokenList) this.classes = Array.from(v);\n                if (upd)\n                    this.__update__();\n            }\n        });\n        this.items = e.getAttribute('class');\n    }\n\n    static of(e) {\n        return new Classes(e)\n    }\n\n    __update__() {\n        this.element.setAttribute('class', this.classes.join(' '))\n    }\n\n    contains(...c) {\n        c = I.FlatMap(c);\n        return I.All(c, (it)=>I.contains(this.classes, it));\n    }\n\n    add(...c) {\n        c = I.FlatMap(c);\n        I.ForEach(c, (it)=>{\n            if (!this.contains(it)) {\n                this.classes.push(it.toString());\n            }\n        });\n        this.__update__();\n    }\n\n    remove(...c) {\n        c = I.FlatMap(c);\n        let l = this.classes.length;\n        this.classes = I.Filter(this.classes, (it)=>{\n            return !I.Any(c, (ci) => ci.endsWith('*')?it.startsWith(ci.replace('*','')):it===ci);\n        });\n        this.__update__();\n        return l !== this.classes.length\n    }\n\n    toggle(...c) {\n        I.toggle(this.classes, c);\n        this.__update__();\n    }\n}\nObject.seal(Classes);\n\nfunction cls(e) {\n    return Classes.of(e);\n}\n\nfunction addClass(e, ...c) {\n    Classes.of(e).add(c);\n}\n\nfunction removeClass(e, ...c) {\n    Classes.of(e).remove(c);\n}\n\nfunction hasClass(e, ...c) {\n    Classes.of(e).contains(c);\n}\n\nfunction toggleClass(e, ...c) {\n    Classes.of(e).toggle(c);\n}\n\nmodule.exports = {Classes, cls, addClass, hasClass, removeClass, toggleClass}","const I = require(\"../core/stream\")\nconst T = require(\"../core/types\")\n\nfunction getAttributes(e) {\n    let atr = {};\n    I.ForEach(e.getAttributeNames(), (n) => atr[n] = e.getAttribute(n));\n    return atr;\n}\n\nfunction hasAttr(a, v) {\n    if (this.element.hasAttribute(a)) {\n        if (v) return this.element.getAttribute(a) === v\n        return true\n    }\n\n    return false\n}\n\nfunction getAttr(e, a) {\n    return e.getAttribute(a)\n}\n\nfunction setAttr(e, a, v) {\n    if (T.isArr(a)) {\n        I.ForEach(a, (n) => this.set(n, v))\n    } else if (T.isObj(a)) {\n        I.ForEach(a, (v, k) => this.set(k, v))\n    } else {\n        e.setAttribute(a, v);\n    }\n}\n\nclass Attributes {\n    constructor(e) {\n        this.element = e;\n    }\n\n    keys() {\n        return this.element.getAttributeNames()\n    }\n\n    all() {\n        return getAttributes(this.element);\n    }\n\n    set(a, v) {\n        setAttr(this.element, a, v);\n        return this;\n    }\n\n    get(a) {\n        return getAttr(this.element, a)\n    }\n\n    has(a, v) {\n        return hasAttr(a, v);\n    }\n\n    remove(a) {\n        this.set(a, undefined);\n    }\n}\n\nfunction attrs(e) {\n    return new Attributes(e)\n}\n\nmodule.exports = {getAttributes, Attributes, getAttr, hasAttr, setAttr, attrs}","let E = {};\n\nfunction left(e) {\n    return e.offset\n}\nfunction leftW(e) {\n    return e.clientLeft\n}\nfunction width(e) {\n    return e.offsetWidth\n}\nfunction widthW(e) {\n    return e.clientWidth\n}\nfunction right(e) {\n    return left(e) + width(e)\n}\nfunction rightW(e) {\n    return leftW(e) + widthW(e)\n}\n\nmodule.exports = {left, width, right}","function append(parent, ...elements) {\n    window.dispatchEvent(new CustomEvent(\"x.dom.append\", {detail: {parent, elements}}))\n    parent.append(elements);\n}\n\nmodule.exports = {append}","const {isVal, isObj, isEl, hasField} = require(\"../core/types\");\nconst {ForEach} = require(\"../core/stream\");\nconst {setAttr} = require(\"./attributes\");\nconst {cls} = require(\"./classes\");\nconst {error} = require(\"../core/logging\");\n\nfunction patch(node, object) {\n    if (!isVal(node)) {\n        error(`Node is ${node}`);\n        return;\n    }\n    if (!isEl(node)) {\n        error(`\"${node}\" is not Element or Node`);\n        return;\n    }\n    if (hasField(object, 'attr')) {\n        if (isObj(object['attr'])) {\n            ForEach(object['attr'], (v, k)=>{\n                setAttr(node, k, v);\n            })\n        }\n    }\n    if (hasField(object, 'cls')) {\n        if (isObj(object['cls'])) {\n            let c = cls(node);\n            ForEach(object['cls'], (v, k)=>{\n                c[k](v);\n            })\n        }\n    }\n    if (hasField(object, 'prop')) {\n        if (isObj(object['prop'])) {\n            ForEach(object['prop'], (v, k)=>{\n                node[k] = v;\n            })\n        }\n    }\n}\n\nmodule.exports = {patch}","const scope = require('../core/scope');\nmodule.exports = scope.mergeAll(\n    require('./query'),\n    require('./event'),\n    require('./classes'),\n    require('./attributes'),\n    require('./position'),\n    require('./append'),\n    require('./patch')\n);","const T = require(\"../core/types\");\nlet R = {};\n\nR.HttpContent = class {\n    type\n    data\n    constructor(type, data) {\n        this.type = type;\n        this.data = data;\n    }\n};\n\nR.HttpRq = class {\n    setMethod(m) {\n        this.method = m.toUpperCase();\n    };\n    setUrl(u) {\n        this.url = encodeURI(u);\n    };\n    setArg(n, v) {\n        this.args[n] = v;\n    };\n    buildUrlEncoded(args) {\n        let ue = \"\";\n        args = args || this.args;\n\n        let argNames = Object.keys(args);\n        if (argNames.length>0) {\n            for (let i = 0; i < argNames.length; i++) {\n                ue += encodeURIComponent(argNames[i]) + '=' + encodeURIComponent(args[argNames[i]]);\n                if (i < argNames.length - 1) {\n                    ue += '&';\n                }\n            }\n        }\n        return ue;\n    };\n    setHeader(n, v) {\n        this.headers[n] = v.toString();\n    };\n\n    getHeader(n) {\n        return this.headers[n];\n    };\n    setContent(contentType, data) {\n        this.content.type = contentType.toLowerCase();\n        this.content.data = data;\n    };\n\n    jsonContent(data) {\n        let str = \"\";\n        if (typeof data === \"string\") {\n            str = data;\n        } else {\n            str = JSON.stringify(data);\n        }\n        this.setContent('json', str);\n        this.setHeader('Content-Type', 'application/json');\n    };\n\n    xmlContent(data) {\n        if (T.isStr(data))\n            this.setContent('xml', data);\n        else this.setContent('xml', data.outerHTML);\n        this.setHeader('Content-Type', 'application/xml');\n    };\n    /**\n     *\n     * @param form {string} form id\n     */\n    formContent(form) {\n        //TODO make form data from element id\n        let formElement = (form);\n        let frm = new FormData(formElement);\n        this.formMultiPartContent(frm);\n    };\n\n    /**\n     * @param frm {FormData} custom form data object\n     */\n    formMultiPartContent(frm) {\n        this.setContent('form_multipart', frm);\n        // this.setHeader('Content-Type', 'multipart/form-data; boundary=' + frm.boundary)\n    };\n\n    // application/x-www-form-urlencoded\n    formUrlEncodedContent(data) {\n        this.setContent('form_urlencoded', this.buildUrlEncoded(data));\n        this.setHeader('Content-Type', 'application/x-www-form-urlencoded');\n    };\n\n    /**\n     *\n     * @param method {'GET'|'POST'|'PUT'|'DELETE'|'PATCH'|'OPTIONS'?}\n     * @param url {String?}\n     * @param args {{name: value}?}\n     * @param headers {{name: value}?}\n     * @param content {R.HttpContent?}\n     */\n    constructor(method, url, args, headers, content) {\n        this.args = args || {};\n        this.headers = headers || {};\n        this.content = content || new R.HttpContent('#urlencoded', {});\n\n        this.setMethod(method);\n\n        this.setUrl(url);\n    }\n\n};\n\nmodule.exports = R;\n","require(\"../core/types\");\nclass HttpRs {\n    json\n    xml\n    constructor(xhr) {\n        this.xhr = xhr\n        this.status = {\n            code: xhr.status,\n            text: xhr.statusText\n        };\n        this.headers = xhr.getAllResponseHeaders();\n        this.contentLength = xhr.response.length || 0;\n        this.data = xhr.response;\n        if (xhr.responseType === 'text' || xhr.responseType === '')\n            this.text = xhr.responseText;\n        Object.defineProperty(this, 'json', {\n            get() {\n                try {\n                    if (!xhr.responseJSON) {\n                        xhr.responseJSON = JSON.parse(this.xhr.responseText);\n                    }\n                } catch (e) {\n                    console.log(e);\n                }\n                return xhr.responseJSON\n            }\n        });\n\n        Object.defineProperty(this, 'xml', {\n            get() {\n                try {\n                    if (!xhr.responseXML) {\n                        let parser = new DOMParser();\n                        xhr.responseXML = parser.parseFromString(self.text,\"text/xml\");\n                    }\n                }catch (e) {\n                    console.log(e)\n                }\n\n                return xhr.responseXML;\n            }\n        })\n    }\n\n}\nmodule.exports = {HttpRs};","const Ajax = require(\"./ajax\").Ajax;\nconst Rq = require(\"./request\");\nlet Http = {}\n// Http.Ajax = Ajax;\n/**\n *\n * @param method {'GET' | 'POST' | 'PUT' | 'DELETE' | 'PATCH' | 'OPTIONS'}\n * @param url {String}\n * @param params Object\n * @param headers Object\n * @param content {{type: ('json', 'urlencoded', 'form', '*'), data: Object|String}}\n * @param callbacks {{success:Function?, fail: Function?, progress: Function?, prepare: Function?,\n * uploadProgress: Function?, uploadFinish: Function?}}\n * @return {Ajax}\n */\nHttp.makeHttpRequest = function (method, url, params, headers, content, callbacks) {\n    let ajax = new Ajax(method.toUpperCase(), url, params, headers);\n    if (content && content.type) {\n        if (content.type.toLowerCase() === 'json') {\n            ajax.jsonData(content.data);\n        } else if (content.type.toLowerCase() === 'urlencoded') {\n            ajax.urlEncodedData(content.data);\n        } else if (content.type.toLowerCase() === 'form') {\n            ajax.formData(content.data);\n        } else {\n            ajax.Rq.setContent(content.type, content.data);\n        }\n    }\n    callbacks.success && ajax.onSuccess(callbacks.success);\n    callbacks.fail && ajax.onFail(callbacks.fail);\n    callbacks.progress && ajax.onProgress(callbacks.progress);\n    callbacks.prepare && (ajax.preparedCallback = callbacks.prepare);\n    callbacks.uploadProgress && (ajax.uploadProgressCallback = callbacks.uploadProgress);\n    callbacks.uploadFinish && (ajax.uploadFinishCallback = callbacks.uploadFinish);\n    return ajax;\n};\n/**\n *\n * @param opts {{method, url, args, headers, type, data, success, fail, progress, prepare, uploadProgress, uploadFinish}}\n * @return {Ajax}\n */\nHttp.makeRequest = function(opts) {\n    return Http.makeHttpRequest(opts.method || 'OPTIONS', opts.url, opts.args, opts.headers, new Rq.HttpContent(opts.type, opts.data), {\n        success: opts.success,\n        fail: opts.fail,\n        progress: opts.progress,\n        prepare: opts.prepare,\n        uploadProgress: opts.uploadProgress,\n        uploadFinish: opts.uploadFinish\n    })\n};\n\nHttp.makePromise = function(r, resolved = null, params = null) {\n    return new Promise((res, rej) => {\n        r.onSuccess(()=>{\n            if (resolved)\n                try {\n                    resolved(params);\n                } catch (e) {}\n            return res(r)\n        });\n        r.onFail(()=>rej(r));\n    })\n}\n\n/**\n *\n * @param opts {{method, url, args, headers, type, data, success, fail, progress, prepare, finish, uploadProgress, uploadFinish}}\n * @return {Promise<any>}\n */\nHttp.sendRequest = async function sendRequest(opts) {\n    let r = Http.makeRequest(opts);\n    r.send(opts.finish);\n    return await Http.makePromise(r);\n}\n\nHttp.Get = function (url, params){\n    return new Ajax('GET', url, params);\n};\n\nHttp.Post = function (url, params){\n    return new Ajax('POST', url, params);\n};\n\nHttp.Delete = function (url, params){\n    return new Ajax('DELETE', url, params);\n};\n\nHttp.Put = function (url, params){\n    return new Ajax('PUT', url, params);\n};\n\nHttp.Patch = function (url, params){\n    return new Ajax('PATCH', url, params);\n};\n\n/**\n * {@inheritDoc REST.sendRequest}\n * @return {Promise<*>}\n */\nHttp.sendGet = function (opt) {\n    opt.method = 'GET';\n    opt.type = undefined;\n    opt.data = undefined;\n    return Http.sendRequest(opt)\n};\n\nHttp.sendDelete = function (opt) {\n    opt.method = 'DELETE';\n    return Http.sendRequest(opt)\n};\n\nHttp.sendPost = function (opt) {\n    opt.method = 'POST';\n    return Http.sendRequest(opt)\n};\n\nHttp.sendPut = function (opt) {\n    opt.method = 'PUT';\n    return Http.sendRequest(opt)\n};\n\nHttp.sendPatch = function (opt) {\n    opt.method = 'PATCH';\n    return Http.sendRequest(opt)\n};\n\nmodule.exports = Http;","const Rq = require(\"./request\");\nconst Rs = require(\"./response\");\nconst T = require(\"../core/types\");\nconst I = require(\"../core/stream\");\nclass Ajax {\n    Rq = {}\n    Rs = {}\n    constructor(m, url, params={}, headers={}, content=new Rq.HttpContent())  {\n        if (m instanceof Rq.HttpRq) {\n            this.Rq = m\n        } else {\n            this.Rq = new Rq.HttpRq(m, url, params, headers, content);\n        }\n        // Fields\n        this.Rs = {readyState: 0};\n        this.xhr = new XMLHttpRequest();\n        // Events\n        this.preparedCallback = function (rq) {\n            // to be overridden\n        };\n\n        this.progressCallback = function (ev, rq) {\n            // to be overridden\n        };\n\n        this.uploadProgressCallback = function (xhr) {\n        };\n\n        this.successCallback = function (rq, rs) {\n            // to be overridden\n            // console.log('REQUEST:', rq, 'RESPONSE:', rs)\n        };\n        this.uploadFinishCallback = function (xhr) {\n\n        };\n        this.failCallback = function (rq, rs) {\n            // to be overridden\n            // console.log('REQUEST:', rq, 'RESPONSE:', rs)\n        };\n        Object.defineProperty(this, 'xhr', {enumerable: false})\n        // Object.seal(this);\n    }\n\n    // Methods\n    header (n, v) {\n        this.Rq.setHeader(n, v);\n        return this;\n    };\n\n    headers (hdrs={}) {\n        I.ForEach(hdrs, (v, k) =>{\n            this.Rq.setHeader(k, v);\n        });\n        return this;\n    };\n\n    onSuccess (callbackRqRs) {\n        this.successCallback = callbackRqRs;\n        return this;\n    };\n\n    onUploadSuccess (callbackRqRs) {\n        this.uploadFinishCallback = callbackRqRs;\n        return this;\n    };\n\n    onFail (callbackRqRs) {\n        this.failCallback = callbackRqRs;\n        return this;\n    };\n\n    onProgress (callbackRqRs) {\n        this.progressCallback = callbackRqRs;\n        return this;\n    };\n\n    onUploadProgress (callbackRqRs) {\n        this.uploadProgressCallback = callbackRqRs;\n        return this;\n    };\n\n    withContent(content) {\n        this.Rq.setContent(content.type, content.data);\n    }\n\n    xmlData (data) {\n        this.Rq.xmlContent(data);\n        return this;\n    }\n\n    formData (form) {\n        this.Rq.formContent(form);\n        return this;\n    };\n\n    jsonData (data) {\n        this.Rq.jsonContent(data);\n        return this;\n    };\n\n    urlEncodedData (data) {\n        this.Rq.formUrlEncodedContent(data);\n        return this;\n    };\n\n    _prepare (reset) {\n        if (this.isPrepared && !reset) {\n            // self.onprepare && self.onprepare(self.Rq);\n            return this\n        }\n\n        // prepare url\n        let url = this.Rq.url;\n\n        if (this.Rq.args && !T.isEmpty(this.Rq.args)) {\n            url.indexOf('?')>=0 || (url += '?');\n            url += this.Rq.buildUrlEncoded();\n        }\n        reset && (this.xhr = new XMLHttpRequest());\n        this.xhr.open(this.Rq.method, url);\n\n        // prepare headers\n        for (let h in this.Rq.headers) {\n            if (this.Rq.headers.hasOwnProperty(h))\n            this.xhr.setRequestHeader(h, this.Rq.headers[h]);\n        }\n\n        this.isPrepared = true;\n        this.preparedCallback && this.preparedCallback(this.Rq);\n        // preparedCallback && preparedCallback();\n        return this;\n    };\n\n    send (finishCallback) {\n        this._prepare();\n        let ajax = this;\n        let xhr = this.xhr;\n        this.xhr.onreadystatechange = function (ev) {\n\n            // onloadend\n            if (xhr.readyState === 4) {\n                let callback;\n                if (xhr.status >= 200 && xhr.status <= 399) {\n                    callback = ajax.successCallback;\n                } else {\n                    callback = ajax.failCallback;\n                }\n                ajax.Rs = new Rs.HttpRs(xhr);\n                finishCallback && finishCallback(ajax.Rq, ajax.Rs, ajax.xhr);\n                callback && callback(ajax.Rq, ajax.Rs, ajax.xhr);\n            }\n        };\n        this.xhr.onprogress = function (ev) {\n            ajax.progressCallback && ajax.progressCallback(ev, ajax);\n        };\n\n        this.xhr.upload.onprogress = function (ev) {\n            ajax.uploadProgressCallback && ajax.uploadProgressCallback(ev, ajax);\n        };\n\n        this.xhr.upload.onloadend = function (ev) {\n            ajax.uploadFinishCallback && ajax.uploadFinishCallback(ev, ajax);\n        };\n\n        try {\n            this.xhr.send(this.Rq.content.data);\n        } catch (e) {\n            this.onFail(e);\n        }\n\n        return ajax;\n    }\n}\n\nmodule.exports = {Ajax: Ajax};","const http = require('./methods');\nconst {startsWith, endsWith, contains, All, Filter, ForEach} = require('../core/stream');\n\nclass InterceptorStore {\n    all = []\n    use(interceptor) {\n        this.all.push(interceptor);\n    }\n}\n\nclass XHttpClient {\n    host = \"\"\n    __queue = []\n    __sending = []\n    __interval\n    __timeBetween\n    __ratePerMinute\n    __lastRequestTime\n    interceptors = {\n        request : new InterceptorStore(),\n        response: new InterceptorStore()\n    }\n\n    constructor(host = '' ,{ratePerMinute = 300}={}) {\n        if (endsWith(host, '/')) {\n            host = host.split('').splice(host.length-1).join()\n        }\n        this.host = host\n        this.__ratePerMinute = ratePerMinute\n        this.__timeBetween = 60000/ratePerMinute\n        this.__lastRequestTime = new Date().getTime() - this.__timeBetween;\n    }\n\n    _intervalSend(client) {\n        if (client.__queue.length === 0) {\n            clearInterval(client.__interval);\n            client.__interval = undefined;\n            return;\n        }\n        let now = new Date().getTime();\n        if (now - client.__lastRequestTime > client.__timeBetween) {\n            let ajax = client.__queue.pop().send();\n            client.__sending.push(ajax);\n            client.__lastRequestTime = now;\n        }\n    }\n\n    _addRequest(ajax, {responseType, cancelToken}) {\n        this.__queue.push(ajax);\n        if (!this.__interval) {\n            this.__interval = setInterval(this._intervalSend, 1, this);\n        }\n        ajax.cancelToken = cancelToken;\n        console.log(responseType)\n        if (responseType) ajax.xhr.responseType = responseType;\n        return http.makePromise(ajax, ({client, request}) => {\n            let rqi = client.__sending.indexOf(request);\n            if (rqi >= 0) {\n                client.__sending.splice(rqi);\n            }\n        }, {client: this, request: ajax});\n    }\n\n    send(ajax) {\n        this._addRequest(ajax)\n    }\n\n    _contentRequest(method, route, {params, headers, content,responseType, cancelToken}) {\n        if (!startsWith(route, '/') && route.length > 1) {\n            route = '/' + route;\n        }\n        return this._addRequest(\n            method(this.host+route, params || {})\n                .headers(headers || {})\n                .withContent(content || {type: '', data: ''})\n        , {responseType,cancelToken})\n    }\n\n    get(route, {params, headers, responseType, cancelToken}={}) {\n        if (!startsWith(route, '/') && route.length > 1) {\n            route = '/' + route;\n        }\n        return this._addRequest(http.Get(this.host+route, params).headers(headers), {responseType, cancelToken});\n    }\n\n    post(route, {params, headers, content,responseType, cancelToken}={}) {\n        return this._contentRequest(http.Post, route, {params, headers, content,responseType, cancelToken});\n    }\n\n    put(route, {params, headers, content,responseType, cancelToken}={}) {\n        return this._contentRequest(http.Put, route, {params, headers, content,responseType, cancelToken});\n    }\n\n    patch(route, {params, headers, content,responseType, cancelToken}={}) {\n        return this._contentRequest(http.Patch, route, {params, headers, content,responseType, cancelToken});\n    }\n\n    delete(route, {params, headers, content,responseType, cancelToken}={}) {\n        return this._contentRequest(http.Delete, route, {params, headers, content,responseType, cancelToken});\n    }\n\n    cancel(token) {\n        this.__queue = Filter(this.__queue, (a)=>a.cancelToken !== token);\n        let sending = Filter(this.__sending, (a)=>a.cancelToken === token);\n        ForEach(sending, (ajax)=>{\n            try {\n                ajax.xhr.abort();\n            } catch (e) {\n                console.log(e)\n            }\n        });\n\n        this.__sending = Filter(this.__sending, (a)=>a.cancelToken !== token);\n    }\n}\n\nmodule.exports = {XHttpClient}","let request = require('./request');\nlet response = require('./response');\nlet ajax = require('./ajax');\nlet methods = require('./methods');\nlet client = require('./client');\nmodule.exports = {\n    ...request,\n    ...response,\n    ...ajax,\n    ...methods,\n    ...client\n}","const core = require('./core');\nconst dom = require('./dom');\nconst http = require('./http');\nmodule.exports = {\n    ...core,\n    ...dom,\n    ...http\n}","const scope = require(\"./core/scope\");\n\nscope.setGlobal(require(\"./index\"))\nscope.setGlobal(require(\"./experimental/vm/vnode\"))\nscope.setGlobal(require(\"./experimental/vm/vdom\"))\n\nrequire(\"./ext/stream.ext\");\nrequire(\"./ext/dom.ext\");","const I = require(\"../../core/stream\");\nconst T = require(\"../../core/types\");\nconst Case = require(\"../../core/cases\");\nconst Dom = require(\"../../dom\")\n\n/**\n * @property tag\n * @property id\n * @property cls\n * @property attrs\n * @property props\n * @property text\n * @property nodes\n */\nclass VNode {\n    __x__ = {};\n    tag;\n    nodes = [];\n    constructor(tag = '#TEXT') {\n        this.tag = tag.toUpperCase();\n    }\n    get isText() {\n        return this.tag === '#TEXT';\n    }\n\n    get $first() {\n        return this.nodes[0];\n    }\n\n    get $text() {\n        if (this.isText) return this.text;\n        return (this.$first&&this.$first.isText)?this.$first.text:undefined;\n    }\n\n    set $text(v) {\n        if (this.isText) {\n            this.text = v;\n        } else {\n            if (this.$text) {\n                this.$first.$text = v;\n            } else {\n                this.text = v;\n            }\n        }\n    }\n\n    remove() {\n        if (this.parent) {\n            this.parent.nodes.splice(this.parent.nodes.indexOf(this),1);\n            this.parent = undefined;\n        }\n    }\n\n    child(vnode) {\n        this.nodes.push(vnode);\n        return this;\n    }\n\n    static create(type, attrs, ...children) {\n        if (children[0] instanceof Array) {\n            children = children[0]\n        }\n        children = I.Map(children,(ch)=>T.isStr(ch)?VNode.createText(ch):ch);\n        let vn = new VNode(type);\n        vn.attrs = attrs;\n        vn.nodes = children;\n        return vn;\n    }\n\n    static createText(text) {\n        let vn = new VNode();\n        vn.text = text;\n        return vn;\n    }\n\n    static toElement(vn) {\n        if (vn.tag === \"#TEXT\") {\n            return document.createTextNode(vn.text);\n        }\n\n        let e = document.createElement(vn.tag);\n        vn.id && (e.id = vn.id);\n        vn.attrs && I.ForEach(vn.attrs,function (a, k, atr) {\n            if (k === \"style\" && !T.isStr(a)) {\n                let ns = \"\";\n                I.ForEach(a,(v, k) => {\n                    ns += `${Case.kebab(k)}: ${v};`;\n                    // ns[k.toKebab()] = v;\n                });\n                e.setAttribute(k, ns);\n\n            } else {\n                e.setAttribute(k, a);\n            }\n        });\n        vn.props && I.ForEach(vn.props,function (p, i, prp) {\n            e[p] = prp[p];\n        });\n        I.ForEach(vn.nodes,function (n) {\n            Dom.Append(e, VNode.toElement(n));\n        });\n        return e\n    }\n\n    static from(element, parentVNode) {\n        let vnd = new VNode();\n        if (element === undefined) return vnd;\n        if (T.isVal(element.id) && element.id.trim() !== \"\") {\n            vnd.id = element.id;\n        }\n        if (T.isVal(element.tagName)) {\n            vnd.tag = element.nodeName\n        }\n        if (element.nodeType === 3) {\n            vnd.text = element.nodeValue;\n            if (vnd.text.trim() === \"\") vnd.tag = null;\n            return vnd;\n        }\n\n        if (element.tagName && element.attributes.length > 1 || element.attributes.length > 0) {\n            vnd.attrs = {};\n            let atrs = vnd.attrs;\n            I.ForEach(element.attributes, function (kv) {\n                if (kv.name === \"id\") return vnd;\n                atrs[kv.name] = kv.value;\n            });\n        }\n        if (vnd.attrs && vnd.attrs[\"class\"])\n            vnd.cls = element.cls().items();\n\n        for (let k in element) {\n            if (!element.hasOwnProperty(k)) continue;\n            vnd.props || (vnd.props = {});\n            vnd.props[k] = element[k]\n        }\n\n        // vnd.relQuery = X.queryOf(element, element.parentElement);\n        let nds = vnd.nodes;\n        I.ForEach(element.childNodes, function (nd) {\n            if (nd.nodeType === 8) return;\n            let cvnd = VNode.from(nd, vnd);\n            if (T.isNull(cvnd.tag)) return;\n            Object.defineProperty(cvnd, 'parent', {value: vnd})\n            nds.push(cvnd);\n        });\n        if (vnd.nodes[0] && vnd.nodes[0].tag === \"#TEXT\") {\n            vnd.text = vnd.nodes[0].text\n        }\n        return vnd;\n    }\n}\n\nfunction ve(a1, ...a) {\n    let vn = new VNode();\n    vn.tag = \"\";\n    a1 = a1.trim();\n    let cs = I.contains(a1,\"#\");\n    let cd = I.contains(a1,\".\");\n    if (cd || cs) {\n        let sp = a1.split('#');\n        if (cs) {\n            vn.tag = sp[0].toUpperCase();\n            if (!cd) {\n                vn.id = a1.split(\"#\")[1];\n            }\n        }\n        if (cd) {\n            let ic = (sp.length>1?sp[1]:sp[0]).split(\".\");\n            if (!cs) {\n                vn.tag = ic[0].toUpperCase();\n            } else {\n                vn.id = ic[0];\n            }\n            vn.cls = ic.slice(1);\n            // add classes to attributes\n            // if (!vn.attrs) vn.attrs = {};\n            // vn.attrs['class'] = '.'+vn.cls.join(' .');\n        }\n    } else {\n        vn.tag = a1.toUpperCase();\n    }\n    if (vn.tag === \"\" || vn.tag === undefined)\n        vn.tag = \"DIV\";\n    if (a.length>0) {\n        let atid = 0;\n        if (!a[0].hasOwnProperty(\"__x__\") && !T.isStr(a[0])) {\n            vn.attrs = a[0];\n            atid ++;\n        }\n        if (T.isArr(a[0])) {\n            vn.nodes = a[0];\n        } else if (!a[0].hasOwnProperty(\"__x__\") && !T.isStr(a[0])) {\n            vn.attrs = a[0];\n            if (T.isArr(a[1])) {\n                vn.nodes = a[1];\n            } else\n                vn.nodes = a.slice(1);\n        } else {\n            vn.nodes = a;\n        }\n        I.ForEach(vn.nodes,(n, i)=>{\n            vn.nodes[i] = T.isStr(n)?vt(n): n;\n            Object.defineProperty(vn.nodes[i], \"parent\", {value: vn});\n        });\n    }\n\n    return vn;\n}\n\nfunction vt(text) {\n    let vn = new VNode();\n    vn.text = text;\n    return vn;\n}\n\nmodule.exports = {VNode, ve, vt}","const {VNode} = require(\"./vnode\")\nconst {ForEach, contains} = require(\"../../core/stream\");\nconst T = require(\"../../core/types\");\nconst {compile} = require(\"../../template/fmt\").Fmt;\nconst L = require(\"../../core/logging\");\nconst {$,$$} = require(\"../../dom\");\n\nclass ObjPatch {\n    /**\n     * @param op {'+', '-', '*'} Operation\n     * @param tg {'p', 'c', 'a'} Target\n     * @param k {String} Key\n     * @param v {Object?} Value\n     */\n    constructor(op, tg, k, v) {\n        this.op = op\n        this.tg = tg\n        this.k = k\n        this.v = v\n    }\n}\n\n/**\n * @deprecated\n */\nclass View {\n    constructor(el) {\n        this.root = el;\n        this.vroot = VNode.from(el);\n    }\n\n    static create = function (e) {\n        if ($$(e).length > 1) {\n            L.warn(`VDom root query yielded multiple elements, first one is selected!\\tVDom.create('${e}')`)\n        }\n        let el = $$(e);\n        if (!T.isEl(el)) {\n            L.error(`VDom root invalid or not found!\\tVDom.create(${e})`);\n            return null;\n        }\n        return new View(el);\n    }\n}\n\n/**\n * @deprecated\n * @type {{bindList: ViewBinder.bindList, bindNode: (function(VNode, Object): VNode), _relKey: (function(*, *): *), defineProp: ViewBinder.defineProp, prepareModel: ViewBinder.prepareModel}}\n */\nconst ViewBinder = {\n    _relKey: function (key, root) {\n        return root !== \"\" ? root + \".\" + key : key\n    },\n    defineProp: function (obj, key, root) {\n        let self = this;\n        let pv = obj[key];\n        Object.defineProperty(obj, key, {\n            set: function (v) {\n                this[\"$_\" + key] = v;\n                window.dispatchEvent(new CustomEvent(\"model.setval\", {detail: {targetKey: self._relKey(key, root)}}));\n            },\n            get: function () {\n                return this[\"$_\" + key]\n            }\n        });\n        obj[key] = pv;\n    },\n    /**\n     *\n     * @param obj {Object}\n     * @param root {String}\n     */\n    prepareModel: function (obj, root = \"\") {\n        let self = this;\n        console.log(\"PREP MODEL\", obj, root);\n        let keys = Object.keys(obj);\n        for (let k of keys) {\n            let ok = obj[k];\n            if (!T.isObj(ok) && !T.isFun(ok)) {\n                L.error(k);\n                this.defineProp(obj, k, root);\n            } else if (T.isArr(ok)) {\n                L.warn(k);\n                ForEach(ok,(o) => this.prepareModel(ok, self._relKey(k, root)));\n            } else if (T.isObj(ok)) {\n                L.warn(k);\n                this.prepareModel(ok, self._relKey(k, root));\n            }\n        }\n    },\n    /**\n     *\n     * @param node {VNode}\n     * @param model {Object}\n     *\n     * @return {VNode}\n     */\n    bindNode: function (node, model) {\n        node.__x__.deps = [];\n        if (node.text) {\n            let c = compile(node.text);\n            if (c.props.length > 0) {\n                ForEach(c.props,function (pi) {\n                    let prop = c.parts[pi].prop;\n                    if (!T.hasField(model, prop)) L.warn(`View property/method is not defined in Model!\\t{${prop}}`);\n                    node.__x__.deps.push(prop);\n                });\n            }\n        }\n        return node\n    },\n\n    /**\n     * Binds list to model\n     *\n     * @param parentNode {VNode}\n     * @param model {Object}\n     * @return {VNode}\n     */\n    bindList: function (parentNode, model) {\n        let xf = parentNode.attrs[\"x-for\"].trim();\n        console.log(xf);\n    }\n}\n\ncmpO = function (o1, o2) {\n    let patches = [];\n    let k1 = Object.keys(o1);\n    let k2 = Object.keys(o2);\n    for (let k of k2) {\n        if (!contains(k1, k)) {\n            patches.push(new ObjPatch('+', 'p', k));\n        }\n    }\n    for (let k of k1) {\n        if (!contains(k2, k)) {\n            patches.push(new ObjPatch('-', 'p', k));\n        } else {\n            if (o1[k] !== o2[k]) patches.push(new ObjPatch('*', 'p', k, o2[k]))\n        }\n    }\n    return patches;\n};\n\nmodule.exports = {View, ViewBinder, ObjPatch}","function max2(a, b) {\n    return a > b ? a : b\n}\n\nfunction min2(a, b) {\n    return a > b ? b : a\n}\nlet SR = function (str) {\n    var _ = this;\n    _.mrk = 0;\n    _.pos = 0;\n    _.marked = \"\";\n    _.readCount = function () {\n        return _.pos - _.mrk;\n    }\n\n    _.hasPrev = function () {\n        return _.readCount() > 1;\n    }\n\n    _.prev = function () {\n        return str.charAt(max2(_.pos - 2, _.mark));\n    }\n\n    _.avail = function () {\n        return _.pos < str.length\n    }\n\n    _.mark = function (i) {\n        i = i || _.pos;\n        _.mrk = i;\n        _.marked = \"\";\n    }\n\n    _.rewind = function () {\n        _.marked = \"\"\n        _.pos = min2(max2(_.mrk, 0), max2(_.pos, 0))\n    }\n\n    _.pushBack = function (n) {\n        _.marked = _.marked.slice(0, max2(_.readCount() - n, 0));\n        if (_.pos - n >= 0) _.pos -= n\n    }\n\n    _.prevMatch = function (c) {\n        if (_.hasPrev()) {\n            if (_.prev() === c) {\n                return true\n            }\n        }\n        return false\n    }\n\n    _.readNext = function () {\n        _.pos += 1;\n        if (str.length < _.pos) {\n            return '\\0';\n        }\n        _.marked += str[_.pos - 1];\n        return str[_.pos - 1]\n    }\n\n    _.getCurrentString = function () {\n        return _.marked\n    }\n}\nmodule.exports = SR;","const Reader = require(\"./StringReader\");\n\nArray.prototype.sortByDescending = function (func) {\n    for (let j=0;j<this.length; j++) {\n        let fin = true;\n        for (let i=1;i<this.length; i++) {\n            let a = func(this[i-1]);\n            let b = func(this[i]);\n            if (a<b) {\n                fin = false;\n                let t = this[i];\n                this[i] = this[i-1];\n                this[i-1] = t;\n            }\n        }\n        if (fin) {\n            break;\n        }\n    }\n    return this;\n};\nArray.prototype.minIndexBy = function(func) {\n    let mx = func(this[0], 0, this);\n    let index = 0;\n    this.forEach((function (i, ix, items) {\n        let x = func(i, ix, items);\n        if (x<mx) {\n            mx = x;\n            index = ix;\n        }\n    }));\n    return index;\n};\nArray.prototype.minBy = function (func) {\n    return this[this.minIndexBy(func)];\n}\nArray.prototype.maxIndexBy = function(func) {\n    let mx = func(this[0], 0, this);\n    let index = 0;\n    this.forEach((function (i, ix, items) {\n        let x = func(i, ix, items);\n        if (x>mx) {\n            mx = x;\n            index = ix;\n        }\n    }));\n    return index;\n};\nArray.prototype.maxBy = function (func) {\n    return this[this.maxIndexBy(func)];\n}\nvar DefTokenTypes = {\n    EOF: -1,\n    NONE: 0,\n    WHITESPACE: 1,\n    SYMBOL: 2,\n    LITERAL: 3,\n    WORD: 4,\n    str: function (i) {\n        for (let k of Object.keys(this)) {\n            if (this[k]===i) return k\n        }\n        return null;\n    }\n}\n\n/**\n *\n * @param opt {{symbols:String[]?,\n * literals: {begin:String,end:String[]|String,name:String?,multiline:Boolean=true}[]?,\n * preScanners:[{scan,result}]?,\n * postScanners:[{scan,result}]?}}\n * @param code {String?}\n * @constructor\n */\nfunction Tokenizer(opt, code) {\n    opt = opt || {};\n    code = code || \"\";\n    var _ = this;\n    _.reader = new Reader(code);\n    _.continueWith = function (code) {\n        _.reader = null;\n        _.reader = new Reader(code);\n    }\n    _.reset = function (code) {\n        _.continueWith(code);\n        _.tokens = [];\n    }\n    _.postScanners = opt.postScanners || [];\n    _.preScanners = opt.preScanners || [];\n    _.syms = opt.symbols || [];\n    _.lits = opt.literals || [];\n    // console.log(opt, _.syms)\n    _.lits.forEach(function (l) {\n        _.syms.push(l.begin);\n    });\n    _.syms = _.syms.sortByDescending(function (it) {\n        return it.length\n    });\n    _.isWhite = function (c) {\n        return [' ', '\\r', '\\n', '\\t'].indexOf(c)>=0;\n    }\n    _.maxSymLen = _.syms.maxBy(function (i) {\n        return i.length\n    }).length;\n    // for (let x of _.syms) {\n    //     if (x.length>_.maxSymLen) _.maxSymLen = x.length;\n    // }\n    _.skips = [];\n    _.match = [];\n    _.scanSymbol = function (sym) {\n        var rd = _.reader;\n        var step = 0;\n        sym = sym || _.syms;\n        _.skips = [];\n        _.match = [];\n        while (rd.avail() && step < _.maxSymLen) {\n            let c = rd.readNext();\n            for (let i = 0; i < sym.length; i++) {\n                if (_.skips.indexOf(i)>=0) continue;\n                if (sym[i][step] === c) {\n                    if (sym[i].length - 1 === step) {\n                        _.match.push(i);\n                    }\n                    continue;\n                }\n                _.skips.push(i);\n            }\n\n\n            if (sym.length - _.skips.length === 0) {\n                if (_.match.length > 0) {\n                    // let mml = _.match.min();\n                    let mml = Math.min.apply(this,_.match);\n                    _.reader.pushBack(_.reader.readCount() - sym[mml].length);\n                    return true\n                }\n                return false\n            }\n            step++;\n        }\n        if (sym.length - _.skips.length === 1) {\n            return _.match.length>0;\n        }\n        return false\n    }\n    _.scanWhitespace = function () {\n        let readWhite = false;\n        while (_.reader.avail()) {\n            let c = _.reader.readNext();\n            if (_.isWhite(c)) {\n                readWhite = true;\n            } else {\n                _.reader.pushBack(1);\n                return readWhite\n            }\n        }\n        return readWhite;\n    }\n    _.scanLiteral = function (lt) {\n        let minSize = lt.end.minBy(function (it) {\n            return it.length\n        }).length || 0;\n\n        while (_.reader.avail()) {\n            let c = _.reader.readNext()\n            if (_.reader.readCount() >= minSize) {\n                for (let ei = 0; ei < lt.end.length; ei++) {\n                    let e = lt.end[ei];\n                    if (_.reader.getCurrentString().endsWith(e)) {\n                        if (!_.reader.getCurrentString().endsWith(lt.escape + e))\n                            return e\n                    }\n                }\n            }\n            if (!lt.multiline) {\n                if (c === '\\n') {\n                    if (!_.reader.prevMatch(lt.escape)) {\n                        if (_.reader.prevMatch('\\r')) {\n                            if (!_.reader.prevMatch(lt.escape)) {\n                                _.reader.pushBack(2)\n                                return false\n                                // continue;\n                            }\n                        } else {\n                            _.reader.pushBack()\n                            return false\n                        }\n                    }\n                }\n            }\n\n        }\n        return lt.multiline\n    }\n\n    _.getToken = function (white = false, types) {\n        while (true) {\n            _.reader.mark();\n            for (let preS = 0; preS < _.preScanners.length; preS++) {\n                const preScanner = _.preScanners[preS];\n                if (preScanner.scan) {\n                    const st = preScanner.scan(_.reader);\n                    if (st) {\n                        if ((!types) || (types && types.indexOf(st)>=0))\n                            return preScanner.result(_.reader);\n                        else {\n                            _.reader.mark();\n                            break;\n                        }\n                    } else {\n                        _.reader.rewind();\n                    }\n                }\n            }\n            if (_.scanWhitespace()) {\n                if ((!types) || (types && types.indexOf(DefTokenTypes.WHITESPACE)>=0))\n                    if (white) {\n                        return {\n                            index: _.reader.mrk,\n                            type: DefTokenTypes.WHITESPACE,\n                            text: _.reader.getCurrentString()\n                        };\n                    } else {\n                        _.reader.mark();\n                    }\n                else continue\n            } else {\n                _.reader.rewind();\n            }\n            if (_.scanSymbol()) {\n                let sym = _.reader.getCurrentString();\n                let lit = _.lits.find(function (it) {\n                    return it.begin === sym\n                });\n\n                if (lit) {\n                    let __lt;\n                    if ((__lt = _.scanLiteral(lit))) {\n                        if ((!types) || (types && types.indexOf(DefTokenTypes.LITERAL)>=0))\n                        {\n                            return {\n                                name: lit.name,\n                                index: _.reader.mrk,\n                                type: DefTokenTypes.LITERAL,\n                                text: _.reader.getCurrentString(),\n                                begin: lit.begin,\n                                end: __lt === true ? \"\" : __lt,\n                                getContent: function () {\n                                    return this.text.slice(this.begin.length, this.text.length - this.end.length);\n                                }\n                            }\n                        }else continue\n                    } else {\n                        _.reader.rewind();\n                    }\n                } else {\n                    if ((!types) || (types && types.indexOf(DefTokenTypes.SYMBOL)>=0))\n                        return {\n                            index: _.reader.mrk,\n                            type: DefTokenTypes.SYMBOL,\n                            text: sym\n                        }\n                    else continue\n                }\n            } else {\n                _.reader.rewind();\n            }\n            if (_.reader.avail()) {\n                for (let postS = 0; postS < _.postScanners.length; postS++) {\n                    let scanner = _.postScanners[postS];\n                    if (scanner.scan) {\n                        let s = scanner.scan(_.reader);\n                        if (s) {\n                            if ((!types) || (types && types.indexOf(s)>=0))\n                                return scanner.result(_.reader);\n                        } else {\n                            _.reader.rewind();\n                        }\n                    }\n                }\n                let next = _.reader.readNext();\n                if ((!types) || (types && types.indexOf(DefTokenTypes.NONE)>=0))\n                    return {\n                        index: _.reader.mrk,\n                        type: DefTokenTypes.NONE,\n                        text: next\n                    };\n                else {\n                    continue;\n                }\n            } else {\n                return {\n                    index: -1,\n                    type: DefTokenTypes.EOF,\n                    text: null\n                }\n            }\n        }\n    }\n    _.tokens = []\n    _.getAlltokens = function (white, types) {\n        let t;\n        do {\n            t = _.getToken(white, types);\n            if (t.text != null) {\n                _.tokens.push(t);\n            }\n        } while (t.text != null);\n        return _.tokens\n    }\n}\nmodule.exports = {Tokenizer: Tokenizer, TokenType: DefTokenTypes, StringReader: Reader};","const T = require(\"../core/types\")\nconst I = require(\"../core/stream\");\nconst Lex = require(\"kenpo-js/src/lexer/Tokenizer\"),\n    Tokenizer = Lex.Tokenizer,\n    TokenType = Lex.TokenType;\n\nlet fmt = {};\nfmt.stringValue = function (pv) {\n    if (T.isObj(pv)) {\n        return JSON.stringify(pv)\n    }\n    return pv;\n}\nfmt.tokenizer = new Tokenizer({\n    symbols: [],\n    literals: [\n        {\n            begin: \"{{\",\n            end: [\"}}\"],\n            multiline: false\n        }\n    ],\n    preScanners: [\n        {\n            scan: function (reader) {\n                let f = false;\n                while (reader.avail()) {\n                    if (reader.readNext() === \"{\") {\n                        reader.pushBack(1);\n                        break\n                    } else {\n                        f = true;\n                    }\n                }\n                return f ? TokenType.WORD : false\n            },\n            result: function (reader) {\n                return {\n                    index: reader.mrk,\n                    type: TokenType.WORD,\n                    text: reader.getCurrentString()\n                }\n            }\n        }\n    ]\n});\n\nfmt.getProp = function (obj, prop) {\n    let pts = prop.split(\".\");\n    let res = obj;\n    for (let i=0; i<pts.length; i++) {\n        if (res.hasOwnProperty(pts[i])){\n            res = res[pts[i]];\n        }\n        else{\n            res = undefined;\n            break;\n        }\n    }\n    return res\n};\n\nfmt.hasProp = function (obj, prop) {\n    let pts = prop.split(\".\");\n    let res = obj;\n    for (let i=0; i<pts.length; i++) {\n        if (!fmt.isVal(res) || !res.hasOwnProperty(pts[i])) {\n            return false;\n        }\n        res = res[pts[i]];\n    }\n    return true;\n};\n\nfmt.compile = function (val) {\n    if (val.trim() === \"\") {\n        return {\n            props: [],\n            parts: [val]\n        };\n    }\n    fmt.tokenizer.reset(val);\n    let parts = [];\n    let t;\n    let props = [];\n    while ((t = fmt.tokenizer.getToken(true)).type !== TokenType.EOF) {\n        if (t.type === TokenType.LITERAL) {\n            let tc = t.getContent();\n            props.push(parts.length);\n            parts.push({\n                prop: tc\n            })\n        }\n        else {\n            parts.push({\n                text: t.text\n            })\n        }\n    }\n    return {\n        props: props,\n        parts: parts\n    };\n};\n\nfmt.render = function (temp, data) {\n    let render = \"\";\n    for (let i=0; i<temp.parts.length; i++) {\n        if (temp.parts[i].prop) {\n            render+= fmt.stringValue(fmt.getProp(data, temp.parts[i].prop.trim())) || \"\";\n        } else {\n            render+=temp.parts[i].text;\n        }\n    }\n    return render\n};\n//\n// Fmt.render = function (template, properties) {\n//     return Fmt.renderTemplate(Fmt.compile(template), properties)\n// }\n\nmodule.exports = {Fmt: fmt}","const I = require(\"../core/stream\");\nconst T = require(\"../core/types\");\nconst L = require(\"../core/logging\");\n\nArray.prototype.$contains = Object.prototype.$contains = String.prototype.$contains = HTMLCollection.prototype.$contains = NodeList.prototype.$contains = function $contains(x) {\n    return this.$any(x);\n};\n\nArray.prototype.$in = Object.prototype.$in = String.prototype.$in = HTMLCollection.prototype.$in = NodeList.prototype.$in = function $in(x) {\n    return x.$any(this)\n};\n\nArray.prototype.$startsWith = Object.prototype.$startsWith = String.prototype.$startsWith = HTMLCollection.prototype.$startsWith = NodeList.prototype.$startsWith = function $startsWith(x) {\n    return I.StartsWith(this, x)\n};\n\nArray.prototype.$each = Object.prototype.$each = String.prototype.$each = HTMLCollection.prototype.$each = NodeList.prototype.$each = function $each(func) {\n    return I.ForEach(this, func);\n};\n\nArray.prototype.$forEach = Object.prototype.$forEach = String.prototype.$forEach = HTMLCollection.prototype.$forEach = NodeList.prototype.$forEach = function $forEach(func) {\n    return I.ForEach(this, func);\n};\n\nArray.prototype.$loopArray = Object.prototype.$loopArray = String.prototype.$loopArray = HTMLCollection.prototype.$loopArray = NodeList.prototype.$loopArray = function $loopArray(func) {\n    return I.ArrayForEach(this, func);\n};\n\nif (Array.prototype.$first === undefined) Array.prototype.$first = function $first(func) {\n    return I.First(this, func);\n};\nif (Object.prototype.$first === undefined) Object.prototype.$first = function $first(func) {\n    return I.First(this, func);\n};\nif (String.prototype.$first === undefined) String.prototype.$first = function $first(func) {\n    return I.First(this, func);\n};\nif (HTMLCollection.prototype.$first === undefined) HTMLCollection.prototype.$first = function $first(func) {\n    return I.First(this, func);\n};\nif (NodeList.prototype.$first === undefined) NodeList.prototype.$first = function $first(func) {\n    return I.First(this, func);\n};\n\nif (Array.prototype.$last === undefined) Array.prototype.$last = function $last(func) {\n    return I.Last(this, func);\n};\nif (Object.prototype.$last === undefined) Object.prototype.$last = function $last(func) {\n    return I.Last(this, func);\n};\nif (String.prototype.$last === undefined) String.prototype.$last = function $last(func) {\n    return I.Last(this, func);\n};\nif (HTMLCollection.prototype.$last === undefined) HTMLCollection.prototype.$last = function $last(func) {\n    return I.Last(this, func);\n};\nif (NodeList.prototype.$last === undefined) NodeList.prototype.$last = function $last(func) {\n    return I.Last(this, func);\n};\n\nArray.prototype.$any = Object.prototype.$any = String.prototype.$any = HTMLCollection.prototype.$any = NodeList.prototype.$any = function $any(func) {\n    return I.Any(this, func);\n};\n\nArray.prototype.$all = Object.prototype.$all = String.prototype.$all = HTMLCollection.prototype.$all = NodeList.prototype.$all = function $all(func) {\n    return I.All(this, func);\n};\n\nArray.prototype.$filter = Object.prototype.$filter = String.prototype.$filter = HTMLCollection.prototype.$filter = NodeList.prototype.$filter = function $filter(f) {\n    return I.Filter(this, f);\n};\n\nArray.prototype.$filterRight = Object.prototype.$filterRight = String.prototype.$filterRight = HTMLCollection.prototype.$filterRight = NodeList.prototype.$filterRight = function $filterRight(f) {\n    return I.FilterRTL(this, f);\n};\n\nif (Array.prototype.$map === undefined) Array.prototype.$map = function $map(f) {\n    return I.Map(this, f);\n};\nif (Object.prototype.$map === undefined) Object.prototype.$map = function $map(f) {\n    return I.Map(this, f);\n};\nif (String.prototype.$map === undefined) String.prototype.$map = function $map(f) {\n    return I.Map(this, f);\n};\nif (HTMLCollection.prototype.$map === undefined) HTMLCollection.prototype.$map = function $map(f) {\n    return I.Map(this, f);\n};\nif (NodeList.prototype.$map === undefined) NodeList.prototype.$map = function $map(f) {\n    return I.Map(this, f);\n};\n\nif (Array.prototype.$flatMap === undefined) Array.prototype.$flatMap = function $flatMap(f) {\n    return I.FlatMap(this, f);\n};\nif (Object.prototype.$flatMap === undefined) Object.prototype.$flatMap = function $flatMap(f) {\n    return I.FlatMap(this, f);\n};\nif (String.prototype.$flatMap === undefined) String.prototype.$flatMap = function $flatMap(f) {\n    return I.FlatMap(this, f);\n};\nif (HTMLCollection.prototype.$flatMap === undefined) HTMLCollection.prototype.$flatMap = function $flatMap(f) {\n    return I.FlatMap(this, f);\n};\nif (NodeList.prototype.$flatMap === undefined) NodeList.prototype.$flatMap = function $flatMap(f) {\n    return I.FlatMap(this, f);\n};\n\n\nArray.prototype.$toEnum = Object.prototype.$toEnum = function $toEnum() {\n    return T.Enum(this);\n};\n","const I = require(\"../core/stream\");\nconst T = require(\"../core/types\");\nconst L = require(\"../core/logging\");\nconst DOM = require(\"../dom\");\n\nHTMLElement.prototype.$class = Element.prototype.$class = Node.prototype.$class = function $class() {\n    return DOM.cls(this)\n};\n\nHTMLElement.prototype.$addClass = Element.prototype.$addClass = Node.prototype.$addClass = function $addClass(c) {return DOM.addClass(this, c)};\n\nHTMLElement.prototype.$removeClass = Element.prototype.$removeClass = Node.prototype.$removeClass = function $removeClass(c) {return DOM.removeClass(this, c)};\n\nHTMLElement.prototype.$toggleClass = Element.prototype.$toggleClass = Node.prototype.$toggleClass = function $toggleClass(c) {return DOM.toggleClass(this, c)};\n\nHTMLElement.prototype.$hasClass = Element.prototype.$hasClass = Node.prototype.$hasClass = function $hasClass(c) {return DOM.hasClass(this, c)};\n\nHTMLElement.prototype.$attrs = Element.prototype.$attrs = Node.prototype.$attrs = function $attrs() {return DOM.attrs(this)};\n\nHTMLElement.prototype.$setAttr = Element.prototype.$setAttr = Node.prototype.$setAttr = function $setAttr(a, v) {DOM.setAttr(this, a, v)};\n\nHTMLElement.prototype.$setAttr = Element.prototype.$setAttr = Node.prototype.$setAttr = function $setAttr(a, v) {DOM.setAttr(this, a, v)};\n\nHTMLElement.prototype.$event = Element.prototype.$event = Node.prototype.$event = function $event(names, func, opt) {\n    DOM.setEvent(this, names, func, opt);\n};\n\nHTMLElement.prototype.$clearEvent = Element.prototype.$clearEvent = Node.prototype.$clearEvent = function $clearEvent(names) {\n    DOM.clearEvent(this, names);\n};\n\n\nArray.prototype.$addClass = HTMLCollection.prototype.$addClass = NodeList.prototype.$addClass = function $addClass(c) {\n    I.ForEach(this, (e)=>DOM.addClass(e, c))\n};\n\nArray.prototype.$removeClass = HTMLCollection.prototype.$removeClass = NodeList.prototype.$removeClass = function $removeClass(c) {\n    I.ForEach(this, (e)=>DOM.removeClass(e, c))\n};\n\nArray.prototype.$toggleClass = HTMLCollection.prototype.$toggleClass = NodeList.prototype.$toggleClass = function $toggleClass(c) {\n    I.ForEach(this, (e)=>DOM.toggleClass(e, c))\n};\n\nArray.prototype.$haveClass = HTMLCollection.prototype.$haveClass = NodeList.prototype.$haveClass = function $haveClass(c) {\n    return I.All(this, (e)=>DOM.hasClass(e, c));\n};\n\nArray.prototype.$setAttr = HTMLCollection.prototype.$setAttr = NodeList.prototype.$setAttr = function $setAttr(a, v) {\n    I.ForEach(this, (e)=>DOM.setAttr(e, a, v));\n};\n\nArray.prototype.$haveAttr = HTMLCollection.prototype.$haveAttr = NodeList.prototype.$haveAttr = function $haveAttr(a, v) {\n    I.All(this, (e)=>DOM.hasAttr(e, a, v));\n};\n\nArray.prototype.$event = HTMLCollection.prototype.$event = NodeList.prototype.$event = function $event(names, func, opt) {\n    I.ForEach(this, function (e) {\n        DOM.setEvent(e, names, func, opt);\n    });\n};\n\nArray.prototype.$clearEvent = HTMLCollection.prototype.$clearEvent = NodeList.prototype.$clearEvent = function $clearEvent(names) {\n    I.ForEach(this, function (e) {\n        DOM.clearEvent(e, names);\n    });\n};\n"],"names":["$parcel$global","globalThis","self","window","global","T","x","undefined","isUnd","isNull","String","Array","isVal","isObj","isFun","length","item","add","Element","HTMLElement","Node","HTMLCollection","NodeList","obj","field","pred","hasOwnProperty","hasField","Object","keys","src","c","MAP","i","Set","constructor","items","this","[object Object]","indexOf","push","contains","remove","splice","dict","args","o","$cd000c0b0de95e1fc0ea59f47f2728ec$exports","X","logTitle","flag","concat","t","Date","getHours","getMinutes","getSeconds","getMilliseconds","__logtime__","prepareLog","lt","reverse","lvl","l","LogLevel","Level","SILENT","merge","target","k","Enum","TRACE","INFO","WARN","ERROR","showTrace","showInfo","showWarn","showError","silent","trace","console","apply","info","log","warn","error","$b212dc91f6ff6885de812665bd7$exports","isBrowser","document","navigator","$dbe0a6dd8fb827003f69e6865cdeb2$exports","mergeAll","res","setGlobal","Proto","types","$dbe0a6dd8fb827003f69e6865cdeb2$var$_defineProperty","define","namedFunc","name","err","code","p","toString","pcode","polyfill","S","funOrEq","f","def","inc","RegExp","v","test","objMatchOne","objMatchAll","_X_LOOP_BREAK_","Symbol","_X_ANY_","_X_ALL_","BREAK","ANY","ALL","s","isStr","isArr","ForEach","vi","isMutableList","it","FlatMap","any","idx","toggle","cl","match","m","DeepClone","opt","skips","maxLevel","val","isPrim","DeepConcat","o1","o2","d","ForRange","func","start","end","isList","len","ForEachRTL","range","ArrayForEach","arr","from","rev","slice","ArrayForEachRTL","First","r","StartsWith","Last","EndsWith","Reverse","Any","fn","All","Filter","right","filterS","a","filterA","filterO","FilterRTL","Map","mapA","mapO","keyValuePairs","object","entries","spread","startsWith","str","endsWith","$e83f6ba0fd1534d04cbf911cd28f06b9$exports","$ff239101c8a6db4974707f82027f10a$exports","kebab","kb","pres","charAt","toLowerCase","camel","cml","toUpperCase","pascal","psc","snake","snk","numRegex","all","matchAll","getNumberRegex","next","done","$a934e0514979e925d22d3dd965e43db5$exports","$aee7d03cb1542b391af79058eb3a56$exports","$DOC","$BODY","body","$HEAD","head","$","q","root","isEl","of","isEls","querySelectorAll","$$","querySelector","$ed20c6398b41d0439c5322c65acc1c77$exports","$c80c2b03c1b4c132a53b7c9037547433$exports","setEvent","event","listener","options","split","trim","__EVENTS__","ev","e","fl","funcEqual","removeEventListener","addEventListener","clearEvent","isEmpty","Classes","className","replace","element","defineProperty","get","classes","set","upd","DOMTokenList","__update__","getAttribute","setAttribute","join","ci","seal","$b6edef16801da9771ce029702ca68$exports","cls","addClass","hasClass","removeClass","toggleClass","getAttributes","atr","getAttributeNames","n","hasAttr","hasAttribute","getAttr","setAttr","Attributes","has","$cb3a860278ba2f970c6b587102b$exports","attrs","left","offset","width","offsetWidth","$ffd2143adc55ce205451cf0b4e541371$exports","$d81b557d125dbbec890009f7c8fc0$exports","append","parent","elements","dispatchEvent","CustomEvent","detail","$d7216786481c1e2c575e6a37e3f2f8b6$exports","patch","node","$ea07bfbd36669e78fc84a2ca$exports","R","HttpContent","type","data","$f4f1be7c306af5ad85c926e5e08c09a$var$_defineProperty","HttpRq","setMethod","method","setUrl","u","url","encodeURI","setArg","buildUrlEncoded","ue","argNames","encodeURIComponent","setHeader","headers","getHeader","setContent","contentType","content","jsonContent","JSON","stringify","xmlContent","outerHTML","formContent","form","frm","FormData","formMultiPartContent","formUrlEncodedContent","$f4f1be7c306af5ad85c926e5e08c09a$exports","$f56f893d8ee8ce1311b00a29$exports","HttpRs","xhr","$f56f893d8ee8ce1311b00a29$var$_defineProperty","status","text","statusText","getAllResponseHeaders","contentLength","response","responseType","responseText","responseJSON","parse","responseXML","parser","DOMParser","parseFromString","Ajax","$b3bd3c84e5116430ae138856fb1d15f0$exports","params","$b3bd3c84e5116430ae138856fb1d15f0$var$_defineProperty","Rq","Rs","readyState","XMLHttpRequest","preparedCallback","rq","progressCallback","uploadProgressCallback","successCallback","rs","uploadFinishCallback","failCallback","enumerable","header","hdrs","onSuccess","callbackRqRs","onUploadSuccess","onFail","onProgress","onUploadProgress","withContent","xmlData","formData","jsonData","urlEncodedData","_prepare","reset","isPrepared","open","h","setRequestHeader","send","finishCallback","ajax","onreadystatechange","callback","onprogress","upload","onloadend","Http","callbacks","success","fail","progress","prepare","uploadProgress","uploadFinish","opts","makeHttpRequest","resolved","Promise","rej","async","makeRequest","finish","makePromise","sendRequest","$c4bc813cd745b14500f65ba2bb96ecc$exports","InterceptorStore","$d9188a3dcaab413330c12db6fffa6a4b$var$_defineProperty","use","interceptor","$d9188a3dcaab413330c12db6fffa6a4b$exports","XHttpClient","host","ratePerMinute","request","__ratePerMinute","__timeBetween","__lastRequestTime","getTime","_intervalSend","client","__queue","clearInterval","__interval","now","pop","__sending","_addRequest","cancelToken","setInterval","rqi","_contentRequest","route","Get","post","Post","put","Put","Patch","delete","Delete","cancel","token","sending","abort","$d13451ea0187d14520d2276d3651e5$exports","$e9f631429e549796830b53fa7980f9$exports","VNode","tag","$f0a7591fc95587ec737d1e76f8cfed6a$var$_defineProperty","isText","$first","nodes","$text","child","vnode","children","ch","createText","vn","createTextNode","createElement","id","ns","props","prp","Append","toElement","parentVNode","vnd","tagName","nodeName","nodeType","nodeValue","attributes","atrs","kv","value","nds","childNodes","nd","cvnd","vt","$f0a7591fc95587ec737d1e76f8cfed6a$exports","ve","a1","cs","cd","sp","ic","atid","max2","b","$ad38fb10032be916aa912e73778e$exports","_","mrk","pos","marked","readCount","hasPrev","prev","mark","avail","rewind","pushBack","prevMatch","readNext","getCurrentString","prototype","sortByDescending","j","fin","minIndexBy","mx","index","forEach","ix","minBy","maxIndexBy","maxBy","DefTokenTypes","EOF","NONE","WHITESPACE","SYMBOL","LITERAL","WORD","Tokenizer","$b2adc9226764e20405e27de41a89d$exports","reader","continueWith","tokens","postScanners","preScanners","syms","symbols","lits","literals","begin","isWhite","maxSymLen","scanSymbol","sym","rd","step","mml","Math","min","scanWhitespace","readWhite","scanLiteral","minSize","ei","escape","multiline","getToken","white","preS","preScanner","scan","st","result","lit","find","__lt","getContent","postS","scanner","getAlltokens","TokenType","StringReader","fmt","pv","tokenizer","getProp","prop","pts","hasProp","compile","parts","tc","render","temp","stringValue","$d911dd64d34ef450f063bd10865f48cc$exports","Fmt","ObjPatch","op","tg","View","el","vroot","cmpO","patches","k1","k2","$b243658b376dce7c577cb6e9d846f$exports","ViewBinder","_relKey","key","defineProp","targetKey","prepareModel","ok","bindNode","model","__x__","deps","pi","bindList","parentNode","xf","$contains","$any","$in","$startsWith","$each","$forEach","$loopArray","$last","$all","$filter","$filterRight","$map","$flatMap","$toEnum","$class","$addClass","$removeClass","$toggleClass","$hasClass","$attrs","$setAttr","$event","names","$clearEvent","$haveClass","$haveAttr"],"version":3,"file":"xeer-bundle.js.map"}
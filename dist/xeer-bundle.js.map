{"mappings":"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","sources":["./home/blkr/src/js/xeer-js/node_modules/.pnpm/@parcel/scope-hoisting@2.0.0-beta.1/node_modules/@parcel/scope-hoisting/lib/helpers.js","./core/types.js","./core/logging.js","./core/scope.js","./core/stream.js","./core/cases.js","./core/strings.js","./core/queryable.js","./core/functions.js","./core/index.js","./dom/classes.js","./dom/query.js","./dom/event.js","./dom/attributes.js","./dom/position.js","./dom/append.js","./dom/patch.js","./dom/styles.js","./dom/index.js","./http/request.js","./http/response.js","./http/methods.js","./http/ajax.js","./http/client.js","./http/index.js","./index.js","./xeer-bundle.js","./ext/stream.ext.js","./ext/dom.ext.js","./vm/app.js","./vm/vnode.js","./vm/index.js"],"sourcesContent":[null,"function isUnd(x) {\n    return x !== null && x === undefined;\n}\n\nfunction isNull(x) {\n    return x === null;\n}\n\nfunction isVal(x) {\n    return !isUnd(x) && !isNull(x);\n}\n\nfunction isNum(x) {\n    return typeof x === \"number\";\n}\n\nfunction isStr(x) {\n    return typeof x === \"string\" || x instanceof String;\n}\n\nfunction isFun(x) {\n    return typeof x === \"function\";\n}\n\nfunction isObj(x) {\n    return typeof x === \"object\";\n}\n\nfunction isArr(x) {\n    return x instanceof Array\n}\n\nfunction isPrim(x) {\n    return isVal(x) && !isObj(x) && !isFun(x);\n}\n\nfunction isList(x) {\n    return isVal(x.length) && isFun(x.item)\n}\n\nfunction isMutableList(x) {\n    return isVal(x.length) && isFun(x.item) && isFun(x.add)\n}\n\nfunction isEl(x) {\n    return x instanceof Element || x instanceof HTMLElement || x instanceof Node;\n}\n\nfunction isEls(x) {\n    return x instanceof HTMLCollection || x instanceof NodeList;\n}\n\nfunction hasField(obj, field, pred) {\n    if (!isVal(obj)) return undefined;\n    if (isFun(pred)) {\n        return pred(obj[field]);\n    }\n    return obj.hasOwnProperty(field);\n}\n\nfunction isEmpty(x) {\n    if (hasField(x, 'length')) return x.length <= 0;\n    if (isFun(x)) return false;\n    if (isObj(x)) return Object.keys(x).length <= 0\n    return true;\n}\n\n/**\n *\n * @param src {Object | String[]}\n * @return {(array)}\n * @constructor\n */\nfunction Enum(src) {\n    let c = 0;\n    let MAP = {};\n    for (let i of Object.keys(src)) {\n        MAP[MAP[c] = i] = c++;\n    }\n    return MAP;\n}\n\nclass Set {\n    items = [];\n\n    constructor(items) {\n        this.items = items\n    }\n\n    static of(src) {\n        return new Set(src)\n    }\n\n    add(item) {\n        if (this.items.indexOf(item) < 0) {\n            this.items.push(item)\n        }\n    }\n\n    contains(item) {\n        return this.items.indexOf(item) >= 0\n    }\n\n    remove(item) {\n        this.items.splice(this.items.indexOf(item), 1);\n    }\n}\n\nfunction dict(...args) {\n    let o = {};\n    for (let i = 0; i < args.length; i++) {\n        if (i % 2 !== 0) continue;\n        o[args[i]] = args[i + 1]\n    }\n    return o;\n}\n\nmodule.exports = {\n    isUnd, isNull, isVal,\n    isNum, isStr, isFun,\n    isObj, isArr, isPrim,\n    isList, isMutableList,\n    isEl, isEls, hasField,\n    isEmpty, Enum, Set, dict\n};","const T = require(\"./types\");\n\nfunction __logtime__() {\n    let t = new Date();\n    return `${t.getHours()}:${t.getMinutes()}:${t.getSeconds()}:${t.getMilliseconds()}`;\n}\n\nfunction logTitle(flag) {\n    return `[${flag}] [${__logtime__()}]`;\n}\n\nfunction prepareLog(args, lt) {\n    args.reverse();\n    args.push(\"display: inline-block; font-weight: bold; color: black\", \"%c\"+lt);\n    args.reverse();\n}\n\nconst LogLevels = T.Enum({TRACE:0, INFO:0, WARN:0, ERROR:0, SILENT:0});\nconst Config = {\n    LogLevel : LogLevels.TRACE\n}\n\nfunction showTrace() {Config.LogLevel = LogLevels.TRACE;}\nfunction showInfo() {Config.LogLevel = LogLevels.INFO;}\nfunction showWarn() {Config.LogLevel = LogLevels.WARN;}\nfunction showError() {Config.LogLevel = LogLevels.ERROR;}\nfunction silent() {Config.LogLevel = LogLevels.SILENT;}\nfunction lvl(l) {\n    return Config.LogLevel !== LogLevels.SILENT && Config.LogLevel <= l\n}\nfunction trace(...args) {\n    if (!lvl(LogLevels.TRACE)) return;\n    args.reverse();\n    args.push(logTitle(\"X-TRACE\"));\n    args.reverse();    // args.push(\"\\n\");\n    console.trace.apply(X, args);\n}\n\nfunction info(...args) {\n    if (!lvl(LogLevels.INFO)) return;\n    prepareLog(args, logTitle(\"X-INFO\"));\n    console.log.apply(X, args);\n}\n\nfunction warn(...args) {\n    if (!lvl(LogLevels.WARN)) return;\n    prepareLog(args, logTitle(\"X-WARN\"));\n    console.warn.apply(X, args);\n}\n\nfunction error(...args) {\n    if (!lvl(LogLevels.ERROR)) return;\n    prepareLog(args, logTitle(\"X-ERROR\"));\n    console.error.apply(X, args);\n}\n\nmodule.exports = {\n    Config,\n    LogLevels,\n    showTrace, showInfo, showWarn, showError, silent, trace, info, warn, error\n};","const Log = require(\"./logging\")\nfunction merge(src, target) {\n    for (let k of Object.keys(src)) {\n        if ((!src[k] instanceof Array) && (typeof src[k] === \"object\")) {\n            if (!target.hasOwnProperty(k)) target[k] = {}\n            merge(src[k], target[k]);\n        } else\n            target[k] = src[k]\n    }\n    return target;\n}\nfunction mergeAll(...obj) {\n    let res = {};\n    for (let k of Object.keys(obj)) {\n        merge(obj[k], res);\n    }\n    return res;\n}\nfunction setGlobal(obj) {\n    merge(obj, global);\n}\n\nclass Extension {\n    types = []\n    pcode = \"\\n\"\n\n    constructor(types) {\n        this.types = types;\n    }\n\n    /**\n     *\n     * @param namedFunc {Function}\n     * @return {string}\n     */\n    define(namedFunc) {\n        if (!namedFunc.name) {\n            let err = `Function must have a name [Extension.define(f)]\\n<<${namedFunc}>>`;\n            Log.error(err);\n            return `\\n/**\\n *${err}\\n */`;\n        }\n        let code = \"\\n\";\n        for (let p of this.types) {\n            if (p !== undefined)\n                code += `${p.name || p}.prototype.${namedFunc.name} = `;\n        }\n        code += namedFunc.toString() + \";\\n\";\n\n        this.pcode += code;\n\n        return code\n    }\n\n    polyfill(namedFunc) {\n        if (!namedFunc.name) {\n            let err = `Extension function must have a name:\\n<<${namedFunc}>>`;\n            Log.error(err);\n            return `\\n/**\\n *${err}\\n */`;\n        }\n        let code = \"\\n\";\n        for (let p of this.types) {\n            code += `if (${p.name || p}.prototype.${namedFunc.name} === undefined) ${p.name || p}.prototype.${namedFunc.name} = ${namedFunc.toString()};\\n`;\n        }\n        this.pcode += code;\n    }\n}\n\nfunction isBrowser() {\n    return global.window !== undefined && global.document !== undefined && global.navigator !== undefined\n}\n\nif (!isBrowser()) {\n// -------------\n    global.HTMLElement = !global.HTMLElement? function HTMLElement(){}: global.HTMLElement\n    global.Element = !global.Element? function Element(){}: global.Element\n    global.Node = !global.Node? function Node(){}: global.Node\n    global.HTMLCollection = !global.HTMLCollection? function HTMLCollection(){}: global.HTMLCollection\n    global.NodeList = !global.NodeList? function NodeList(){}: global.NodeList\n// -------------\n}\n\nmodule.exports = {merge, mergeAll, setGlobal, Extension, isBrowser}","const {merge, mergeAll} = require(\"./scope\");\nconst T = require(\"./types\");\n\nif (!global._X_LOOP_BREAK_) {\n    global._X_LOOP_BREAK_ = Symbol(\"BREAK_LOOP\");\n    global._X_ANY_ = Symbol(\"ANY\");\n    global._X_ALL_ = Symbol(\"ALL\");\n}\n\nconst BREAK = global._X_LOOP_BREAK_;\nconst ANY = global._X_ANY_;\nconst ALL = global._X_ALL_;\n\nfunction item(s, i) {\n    if (!T.isVal(s)) return undefined;\n    if (T.isObj(s)) return s[i]\n    if (T.isStr(s)) return s[i]\n    if (T.isArr(s)) return s[i]\n    else return s.item(i)\n}\n\nfunction contains(s, v, k) {\n    if (!T.isArr(s) && T.isObj(s)) return s[k] === v;\n    return s.indexOf(v)>=0;\n}\n\nfunction add(src, ...v) {\n    if (T.isArr(src)) {\n        ForEach(v, (vi)=>src.push(vi))\n        // src.push(v);\n    } else if (T.isMutableList(src)) {\n        src.add(v);\n    }\n}\n\nfunction remove(src, ...it) {\n    it = FlatMap(it);\n    let any = false;\n    ForEach(it, (item)=> {\n        let idx = src.indexOf(item);\n        if (idx>=0) {\n            any = true\n            src.splice(idx, 1);\n        }\n    });\n\n    return any;\n}\n\nfunction toggle(src, ...c) {\n    if (c.length===0) return;\n    c = FlatMap(c);\n    let idx = undefined;\n    if (c.length===1){\n        if (!remove(src, c)) {\n            add(src, c[0])\n        }\n    } else {\n        c.push(c[0]);\n        let any = false;\n        ForEach(src, (cl, i)=> {\n            idx = c.indexOf(cl);\n            if (idx>=0 && c.length>(idx+1)) {\n                any = true;\n                src[i] = c[idx+1]\n            }\n        });\n        if (!any) {\n            src.push(c[0])\n        }\n    }\n}\n\nfunction objMatchOne(o, match) {\n    let m = Object.keys(match);\n    for (let k of m) {\n        // if (!T.isObj(o[k])) continue;\n        if (match[k] === ANY && o.hasOwnProperty(k)) return true;\n        if (match[k] === o[k]) return true;\n    }\n    return false\n}\n\nfunction objMatchAll(o, match) {\n    let m = Object.keys(match);\n    for (let k of m) {\n        // if (!T.isObj(o[k])) return false;\n        if (match[k] === ANY) continue;\n        if (match[k] !== o[k]) return false\n    }\n    return true\n}\n\nfunction funOrEq(f, def, inc = true) {\n    if (T.isUnd(f)) return def;\n    if (T.isFun(f)) return f;\n    else if (f instanceof RegExp) return (v)=>!T.isObj(v)?f.test(v.toString()):false;\n    else if (T.isObj(f)) {\n        if (Object.keys(f).length===0) return def;\n        return inc?(v)=>objMatchOne(v, f):(v)=>objMatchAll(v, f);\n    }\n    else return (v)=>v===f;\n}\n\nfunction funOrKey(f) {\n    if (T.isUnd(f)) return (v)=>v;\n    if (T.isFun(f)) return f;\n    if (T.isStr(f)) {\n        const key = f;\n        f = (v) => v[key];\n    }\n    throw Error(`Predicate ${f} cannot be of type ${typeof f}`)\n}\n\nfunction DeepClone(src, {skips=[], maxLevel= 999}, lvl=0) {\n    if (lvl>=maxLevel) return src;\n    let cl = T.isArr(src)?[]:{};\n    for (let k in src) {\n        if (src.hasOwnProperty(k)) {\n            if (skips && contains(skips, k)) continue;\n            let val = src[k];\n            if (!T.isPrim(val)) {\n                val = DeepClone(val, {skips, maxLevel}, lvl++);\n            }\n            if (T.isArr(cl)) {\n                cl.push(val);\n            } else {\n                cl[k] = val;\n            }\n        }\n    }\n    return cl;\n}\n\nfunction DeepConcat(o1, o2) {\n    if (T.isStr(o1)) {\n        return o1.concat(o2);\n    }\n    if (T.isArr(o1)) {\n        return o1.concat(o2);\n    }\n    let d = o1;\n    for (let k of Object.keys(o2)) {\n        if (T.isArr(o2[k])){\n            if (!T.isVal(o1[k])) o1[k] = [];\n            DeepConcat(o1[k], o2[k]);\n        } else if(T.isObj(o2[k])) {\n            if (!T.isVal(o1[k])) o1[k] = {};\n            DeepConcat(o1[k], o2[k])\n        } else\n            d[k] = o2[k];\n    }\n    return d\n}\n\nfunction ForRange(src, func, start = 0, end) {\n    if (!T.isArr(src) || !T.isStr(src)) {\n        let keys = Object.keys(src);\n        end = end || keys.length -1\n        for (let i=start; i<=end; i++) {\n            let r = func(src[keys[i]], keys[i], i, src);\n            if (r === BREAK) return i;\n        }\n        return end;\n    }\n    end = end || src.length;\n    for (let i = start; i < end; i++) {\n        let r = func(item(src,i), i, i, src);\n        if (r === BREAK) return i;\n    }\n    return end\n}\n\nfunction ForEach(src, func) {\n    if (!T.isVal(src)) return -1;\n    if (!T.isArr(src) || !T.isStr(src) || !T.isList(src)) {\n        let i = 0;\n        let keys = Object.keys(src);\n        const len = keys.length;\n        for (; i<len; i++) {\n            // let r = ;\n            const k = keys[i], v=src[k];\n            if (func(v, k, i, src) === BREAK) return i;\n        }\n        return i;\n    }\n    const len = src.length;\n    if (!T.isArr(src)) {\n        for (let i = 0; i < len; i++) {\n            const v = src[i];\n            let r = func(v, i, i, src);\n            if (r === BREAK) return i;\n        }\n    } else {\n        for (let i = 0; i < len; i++) {\n            const v = item(src,i);\n            let r = func(v, i, i, src);\n            if (r === BREAK) return i;\n        }\n    }\n    return src.length\n}\n\nfunction ForEachRTL(src, func, range=[]) {\n    if (!T.isArr(src) || !T.isStr(src)) {\n        let i = 0;\n        let keys = Object.keys(src);\n        for (let i=keys.length-1; i>=0; i--) {\n            if (i<range[1]) continue;\n            if (i>=range[0]) return i;\n            let r = func(src[keys[i]], keys[i], i, src);\n            if (r === BREAK) return i;\n        }\n        return i;\n    }\n    for (let i=src.length-1; i>=0; i--) {\n        let r = func(item(src, i), i, i, src);\n        if (r === BREAK) return i;\n    }\n    return src.length\n}\n\nfunction ArrayForEach(src, func) {\n    let arr = Array.from(src);\n    let rev = ForEach(arr, func);\n    return rev < arr.length ? arr.slice(0, rev) : arr;\n}\n\nfunction ArrayForEachRTL(src, func) {\n    let arr = Array.from(src);\n    let rev = ForEachRTL(arr, func);\n    return rev < arr.length ? arr.slice(0, rev) : arr;\n}\n\nfunction FirstIndex(src, func) {\n    func = funOrEq(func,()=>true);\n    let r;\n    ForEach(src, function (v,k,i) {\n        r = func(v, k, i);\n        if (r === true) {\n            r = i;\n            return BREAK;\n        }\n    })\n    return r;\n}\n\nfunction First(src, func) {\n    return src[FirstIndex(src, func)]\n}\n\nfunction StartsWith(src, func) {\n    func = funOrEq(func,()=>true);\n    return func(First(src))\n}\n\nfunction LastIndex(src, func) {\n    func = funOrEq(func, ()=>true);\n    let r;\n    ForEachRTL(src, function (v,k,i) {\n        r = func(v, k, i);\n        if (r === true) {\n            r = i;\n            return BREAK;\n        }\n    })\n    return r;\n}\n\nfunction Last(src, func) {\n    return src[LastIndex(src, func)]\n}\n\nfunction EndsWith(src, func) {\n    func = funOrEq(func,()=>true);\n    return func(Last(src))\n}\n\nfunction Reverse(src) {\n    if (T.isArr(src)) return src.reverse();\n    let rev = \"\";\n    ForEachRTL(src, function (it) {\n        rev+=it;\n    });\n    return rev;\n}\n\n/**\n *\n * @param src\n * @param func\n * @return {boolean}\n * @constructor\n */\nfunction Any(src, func) {\n    // if (!func){\n    //     if (T.isArr(src) || T.isStr(src)) return src.length>0;\n    //     return Object.keys(src).length>0;\n    // }\n    let fn = funOrEq(func);\n    let r = false;\n    ForEach(src, function (v, k, i, src) {\n        r = fn(v, k, i, src);\n        if (r === true) return BREAK;\n    });\n    return r;\n}\n\nfunction All(src, func) {\n    func = funOrEq(func, ()=>true);\n    let r = true;\n    ForEach(src, function (v, k, i, src) {\n        r = func(v, k, i, src);\n        if (r === false) return BREAK;\n    })\n    return r;\n}\n\nfunction filterS(src, pred, right = false){\n    pred = funOrEq(pred, ()=>true);\n    let res = \"\";\n    let loop = right? ForEachRTL: ForEach;\n    loop(src, function (v, k, i) {\n        if (!pred || pred(v, k, i, src) === true) res += v;\n    });\n    return res;\n}\n\nfunction filterO(src, pred, right = false){\n    if (T.isArr(pred)) {\n        let a = DeepClone(pred);\n        pred = (v, k, i)=>{\n            return Any(a, k);\n        }\n    } else\n        pred = funOrEq(pred,  ()=>true);\n    let res = {};\n    let loop = right? ForEachRTL: ForEach;\n    loop(src, function (v, k, i) {\n        if (pred(v, k, i, src) === true) res[k] = v;\n    });\n    return res;\n}\n\nfunction filterA(src, pred, right= false) {\n    if (T.isArr(pred)) {\n        let a = DeepClone(pred)\n        pred = (v, k, i, src)=>Any(a, i);\n    } else\n        pred = funOrEq(pred,  ()=>true);\n    let res = [];\n    const len = src.length;\n    if (!right) {\n        for (let i = 0; i < len; i++) {\n            const v = src[i]\n            if (pred(v, i, i, src) === true) {\n                res.push(v);\n            }\n        }\n    }else {\n        for (let i = len; i >= 0; i--) {\n            const v = src[i]\n            if (pred(v, i, i, src) === true) {\n                res.push(v);\n            }\n        }\n    }\n    return res;\n}\n\nfunction Filter(src, pred, right = false) {\n    if (T.isStr(src)) return filterS(src, pred, right);\n    if (T.isArr(src) || T.isList(src)) return filterA(src, pred, right);\n    return filterO(src, pred, right);\n}\n\nfunction FilterRTL(src, func) {\n    return Filter(src, func, true);\n}\n\nfunction MaxIndex(list, func) {\n    func = funOrKey(func);\n    let mx;\n    let index = -1;\n    ForEach(list, function (i, ix) {\n        let x = func(i,ix);\n        if (!mx) {\n            mx = x;\n            index = ix;\n        } else if (x>=mx) {\n            mx = x;\n            index = ix;\n        }\n    });\n    return index;\n}\n\nfunction Max(list, func) {\n    return list[MaxIndex(list, func)];\n}\n\nfunction MinIndex(list, func) {\n    func = funOrKey(func);\n    let mn;\n    let index = -1;\n    ForEach(list, function (i, ix) {\n        let x = func(i,ix);\n        if (!mn) {\n            mn = x;\n            index = ix;\n        } else if (x<=mn) {\n            mn = x;\n            index = ix;\n        }\n    });\n    return index;\n}\n\nfunction Min(list, func) {\n    return list[MinIndex(list, func)];\n}\n\nfunction mapA(src, func, right = false) {\n    let res = [];\n    let loop = right? ForEachRTL: ForEach;\n    loop(src, function (a, i) {\n        let r = func(a, i, src);\n        if (!T.isUnd(r))\n            res.push(r);\n    });\n    return res;\n}\n\nfunction mapO(src, func, right = false) {\n    let res = {};\n    let loop = right? ForEachRTL: ForEach;\n    loop(src, function (v, k, i) {\n        let r = func(v, k, i, src);\n        if (!T.isUnd(r))\n            res[k] = r\n    });\n    return res;\n}\n\nfunction Map(src, func, right = false) {\n    func = funOrEq(func,(v)=>v);\n    if (T.isArr(src)) return mapA(src, func);\n    else if (T.isObj(src)) return mapO(src, func);\n}\n\nfunction FlatMap(src, func) {\n    let res;\n    if (T.isStr(src)) res = \"\"\n    else if (T.isArr(src)) res = []\n    else res = {};\n    ForEach(src, function (a, i) {\n        let f;\n        if (!!func) {\n            f = func(a, i, src);\n        } else {\n            if (!T.isArr(res) && T.isObj(res)) {\n                f = {};\n                f[i] = a;\n            } else {\n                f = a\n            }\n        }\n        res = DeepConcat(res, f);\n    });\n    return res;\n}\n\nfunction keyValuePairs(object) {\n    let entries = [];\n    ForEach(object, (v, k)=> {\n        entries.push(T.dict(k, v));\n    });\n    return entries;\n}\n\nfunction entries(object) {\n    let entries = [];\n    ForEach(object, (v, k)=> {\n        entries.push([k, v]);\n    });\n    return entries;\n}\n\nmodule.exports = {\n    ANY, ALL, BREAK, item, contains, add, remove, toggle, objMatchOne, objMatchAll,\n    DeepClone, DeepConcat, ForRange, ForEach, ForEachRTL, ArrayForEach, ArrayForEachRTL,\n    FirstIndex, First, StartsWith, LastIndex, Last, EndsWith, Reverse, Any, All, Filter, FilterRTL,\n    Map, FlatMap, keyValuePairs, entries, spread: merge, spreadAll: mergeAll, MaxIndex, Max, MinIndex, Min\n}","function kebab(name) {\n    let kb = \"\";\n    let pres = false;\n    for (let i=0;i<name.length; i++) {\n        let c = name.charAt(i);\n        if (c === '_') {\n            kb += '-';\n            pres = true;\n            continue;\n        }\n        if (c >= 'A' && c <= 'Z') {\n            if (i>0 && !pres) {\n                kb+='-';\n            }\n        }\n        kb+=c.toLowerCase();\n        pres = false;\n    }\n    return kb;\n}\n\nfunction snake(name) {\n    let snk = \"\";\n    let pres = false;\n    for (let i=0;i<name.length; i++) {\n        let c = name.charAt(i);\n        if (c === '-') {\n            snk += '_';\n            pres = true;\n            continue;\n        }\n        if (c >= 'A' && c <= 'Z') {\n            if (i>0 && !pres) {\n                snk+='_';\n            }\n        }\n        snk+=c.toLowerCase();\n        pres = false;\n    }\n    return snk;\n}\n\nfunction camel(name) {\n    let cml = \"\";\n    let pres = false;\n    for (let i=0;i<name.length; i++) {\n        let c = name.charAt(i);\n        if (c === '-' || c === '_') {\n            pres = true;\n        } else if (pres === true) {\n            cml+=c.toUpperCase();\n            pres = false;\n        } else {\n            if (i === 0) {\n                cml += c.toLowerCase();\n            } else {\n                cml += c;\n            }\n        }\n    }\n    return cml;\n}\n\nfunction pascal(name) {\n    let psc = \"\";\n    let pres = false;\n    for (let i=0;i<name.length; i++) {\n        let c = name.charAt(i);\n        if (c === '-' || c === '_') {\n            pres = true;\n        } else if (pres === true) {\n            psc+=c.toUpperCase();\n            pres = false;\n        } else {\n            if (i === 0) {\n                psc += c.toUpperCase();\n            } else {\n                psc += c;\n            }\n        }\n    }\n    return psc;\n}\n\nmodule.exports = {kebab, camel, pascal, snake}","const S = {};\n\nS.numRegex = /0[xXbB][\\daAbBcCdDeEfF]+|\\d*\\.?\\d+/\nS.getNumberRegex = /(0[xXbB][\\daAbBcCdDeEfF]+|\\d*\\.?\\d+)([a-zA-Z]+)/g\n\nfunction isNumeric(s) {\n    return S.numRegex.test(s)\n}\n\nfunction getNumeric(s) {\n    let all = s.matchAll(S.getNumberRegex);\n    let arr = [];\n    do {\n        let m = all.next();\n        if (m.done) break;\n        arr.push(m);\n    } while (true);\n    return arr;\n}\n\nfunction startsWith(str, s) {\n    return str.indexOf(s) === 0;\n}\n\nfunction endsWith(str, s) {\n    return str.indexOf(s) === str.length-1;\n}\n\nmodule.exports = {isNumeric, getNumeric, startsWith, endsWith};","const T = require(\"./types\");\nclass Queryable {\n    __src__\n    keys\n    get count() {\n        return this.keys.length\n    }\n\n    static of(s) {\n        let c = new Queryable();\n        c.__src__ = s;\n        c.keys = Object.keys(s);\n        c.len = c.keys.length;\n        return c\n    }\n\n    slice(start = 0, end = this.count-1) {\n        this.keys = this.keys.slice(start, end);\n    }\n\n    key(i=0) {\n        return this.keys[i]\n    }\n\n    value(i = 0) {\n        return this.__src__[this.key(i)]\n    }\n    loop(f, reverse = false) {\n        if (reverse) {\n            for (let i=this.count-1; i>=0; i--) {\n                if (f(this.value(i), this.key(i), i) === null) break;\n            }\n        } else {\n            for (let i=0; i<this.count; i++) {\n                if (f(this.value(i), this.key(i), i) === null) break;\n            }\n        }\n        return this;\n    }\n    values(reverse = false) {\n        let vs = [];\n        this.loop(function (v, k, i) {\n            vs.push(v)\n        }, reverse);\n        return vs;\n    }\n\n    item(i) {\n        if (i === undefined) return undefined;\n        if (T.isArr(this.__src__)) return this.value(i);\n        let o = {};\n        o[this.key(i)] = this.value(i);\n        return o;\n    }\n\n    asObject() {\n        // if (T.isArr(this.__src__)) return this.values();\n        let o = {};\n        this.loop(function (v, k, i) {\n            o[k] = v\n        })\n        return o;\n    }\n\n    asArray(reverse = false) {\n        return this.values(reverse)\n    }\n\n    filter(f, reverse = false) {\n        let nk = [];\n        this.loop(function (v, k, i) {\n            let r = f(v, k, i);\n            if (r === true) {\n                nk.push(k);\n            } else if (r === null) return null;\n        }, reverse);\n        this.keys = nk;\n        return this;\n    }\n\n    map(f, reverse = false) {\n        let arr = []\n        this.loop(function (v, k, i) {\n            arr.push(f(v, k, i));\n        }, reverse)\n        return arr;\n    }\n\n    any(f) {\n        let r = false;\n        this.loop(function (v, k, i) {\n            r = f(v, k, i);\n            if (r === true) {\n                return null;\n            }\n        });\n        return r;\n    }\n\n    all(f) {\n        let r = true;\n        this.loop(function (v, k, i) {\n            r = f(v, k, i);\n            if (r === false) {\n                return null;\n            }\n        });\n        return r;\n    }\n\n    first(f) {\n        if (!f) { return this.item(0) }\n        let it;\n        this.loop(function (v, k, i) {\n            if (f(v, k, i) === true) {\n                it = i;\n                return null;\n            }\n        });\n        return this.item(it);\n    }\n\n    last(f) {\n        if (!f) { return this.item(this.count-1) }\n        let it;\n        this.loop(function (v, k, i) {\n            if (f(v, k, i) === true) {\n                it = i;\n                return null;\n            }\n        }, true);\n        return this.item(it);\n    }\n}\n\nmodule.exports = {Queryable};","function bodyOf(func) {\n    return func.toString().match(/{[\\w\\W]*}/)[0]\n}\n\nfunction funcBodyEquals(f1, f2) {\n    return bodyOf(f1) === bodyOf(f2)\n}\n\nfunction throttle(func, intervalMs) {\n    var ___last___ = new Date().getTime();\n    function throttled(args) {\n        if (new Date().getTime()-___last___ >= intervalMs) {\n            ___last___ = new Date().getTime();\n            func.call(this, args);\n        }\n    }\n    return throttled;\n}\n\nfunction debounce(func, afterMs) {\n    var ___timeout___ = null;\n\n    function caller(_this, args) {\n        func.call(_this, args);\n    }\n\n    function flush(args) {\n        func(args);\n    }\n\n    function debounced(args) {\n        clearTimeout(___timeout___);\n        ___timeout___ = setTimeout(caller, afterMs, this, args)\n    }\n\n    return debounced\n}\n\nmodule.exports = {\n    funcBodyEquals,\n    throttle,\n    debounce\n}","let stream = require('./stream');\nlet logging = require('./logging');\nlet types = require('./types');\nlet cases = require('./cases');\nlet strings = require('./strings');\nlet queryable = require('./queryable');\nlet functions = require('./functions');\nmodule.exports = {\n    ...stream,\n    ...logging,\n    ...types,\n    ...cases,\n    ...strings,\n    ...queryable,\n    ...functions\n}\n","const T = require(\"../core/types\");\nconst I = require(\"../core/stream\");\n\nclass Classes {\n    static split(className) {\n        return className.trim().replace(/\\s+/,' ').split(' ');\n    }\n    constructor(e) {\n        this.element = e;\n        Object.defineProperty(this, 'items', {\n            get() {\n                return this.classes;\n            },\n            set(v) {\n                let upd = false;\n                if (this.classes) upd = true;\n                if (!T.isVal(v) || T.isEmpty(v)) this.classes = [];\n                else if (T.isArr(v)) this.classes = v;\n                else if (T.isStr(v)) this.classes = Classes.split(v);\n                else if (v instanceof DOMTokenList) this.classes = Array.from(v);\n                if (upd)\n                    this.__update__();\n            }\n        });\n        this.items = e.getAttribute('class');\n    }\n\n    static of(e) {\n        return new Classes(e)\n    }\n\n    __update__() {\n        this.element.setAttribute('class', this.classes.join(' '))\n    }\n\n    contains(...c) {\n        c = I.FlatMap(c);\n        return I.All(c, (it)=>I.contains(this.classes, it));\n    }\n\n    add(...c) {\n        c = I.FlatMap(c);\n        I.ForEach(c, (it)=>{\n            if (!this.contains(it)) {\n                this.classes.push(it.toString());\n            }\n        });\n        this.__update__();\n    }\n\n    remove(...c) {\n        c = I.FlatMap(c);\n        let l = this.classes.length;\n        this.classes = I.Filter(this.classes, (it)=>{\n            return !I.Any(c, (ci) => ci.endsWith('*')?it.startsWith(ci.replace('*','')):it===ci);\n        });\n        this.__update__();\n        return l !== this.classes.length\n    }\n\n    toggle(...c) {\n        I.toggle(this.classes, c);\n        this.__update__();\n    }\n}\nObject.seal(Classes);\n\nfunction cls(e) {\n    return Classes.of(e);\n}\n\nfunction addClass(e, ...c) {\n    Classes.of(e).add(c);\n}\n\nfunction removeClass(e, ...c) {\n    Classes.of(e).remove(c);\n}\n\nfunction hasClass(e, ...c) {\n    Classes.of(e).contains(c);\n}\n\nfunction toggleClass(e, ...c) {\n    Classes.of(e).toggle(c);\n}\n\nmodule.exports = {Classes, cls, addClass, hasClass, removeClass, toggleClass}","const T = require(\"../core/types\");\nconst L = require(\"../core/logging\");\nconst {cls} = require(\"../dom/classes\")\n\nfunction $(q, root = document) {\n    if (T.isEl(q)) return Array.of(q);\n    if (T.isEls(q)) return q;\n    if (!T.isStr(q)) {\n        L.error(`Query is not string nor element X.$(${q})`);\n        return null;\n    }\n    if (!T.isEl(root)) {\n        L.error(`Query root is not a node!\\t[X.$(${q}, ${root})]`);\n        return null;\n    }\n    return Array.from(root.querySelectorAll(q));\n}\n\nfunction $$(q, root = document) {\n    if (T.isEl(q)) return Array.of(q);\n    if (!T.isStr(q)) {\n        L.error(`Query is not string nor element X.$$(${q})`);\n        return null;\n    }\n    if (!T.isEl(root)) {\n        L.error(`Query root is not a node!\\t[X.$(${q}, ${root})]`);\n        return null;\n    }\n    return Array.of(root.querySelector(q));\n}\n\nfunction queryOf(e, maxParent, q) {\n    if ((!T.isVal(e) || !T.isEl(e))) {\n        L.error(`\\nQuery generator's first parameter must be Element/Node! CAUSE: X.queryOf(${e}, ${maxParent})`);\n        return null;\n    }\n    maxParent = maxParent || document.body;\n    let gen = e.tagName;\n    q = q || \"\";\n\n    if (e.id) {\n        gen += e.id ? ('#' + e.id) : \"\";\n        return gen + (!(q === \"\") ? ' ' + q : \"\");\n    }\n\n    cls(e).items.forEach(function (value) {\n        gen = gen + (value !== '' ? '.' + value : '')\n    });\n\n    if (gen) {\n        let sibs = $(gen, e.parentElement);\n        if (sibs.length>1) {\n            let idx = Array.from(e.parentElement.children).findIndex(function (i) {\n                return e === i;\n            });\n\n            if (idx > 0) {\n                gen = gen + \":nth-child(\"+(idx+1)+\")\";\n            }\n        }\n    }\n    if (e.parentElement && (e.parentElement !== maxParent) && e.parentElement !== document) {\n\n        return (queryOf(e.parentElement) + \" > \" + gen) + (!(q === \"\") ? ' ' + q : \"\");\n    } else {\n        return gen + (!(q === \"\") ? ' ' + q : \"\");\n    }\n}\n\nmodule.exports = {$, $$, queryOf};","const scope = require(\"../core/scope\");\nconst T = require(\"../core/types\");\nconst I = require(\"../core/stream\");\nconst L = require(\"../core/logging\");\nconst F = require(\"../core/functions\");\n\n/**\n *\n * @param target {Node|Element}\n * @param event {String|Array}\n * @param listener {Function}\n * @param options {AddEventListenerOptions?}\n */\nfunction setEvent(target, event, listener, options) {\n    if (!scope.isBrowser()) {\n        L.error(\"Events are browser only!\");\n        return\n    }\n    if (!T.isArr(event)) {\n        if (I.contains(event,' ')) {\n            event = event.split(' ').Map((it)=>it.trim())\n        } else\n            event = [event];\n    }\n    target.__EVENTS__ = target.__EVENTS__ || {};\n    I.ForEach(event,function (ev) {\n        target.__EVENTS__[ev] = target.__EVENTS__[ev] || [];\n        let f = function (e) {\n            listener(e, target);\n        };\n        if (!T.hasField(options, 'duplicates', (a)=>a)) {\n            // console.log('removing dups')\n            target.__EVENTS__[ev] = I.Filter(target.__EVENTS__[ev],(fl)=> {\n                if (F.funcBodyEquals(fl.l, listener)) {\n                    target.removeEventListener(ev, fl.f, fl.o);\n                    return false\n                } else {\n                    console.log('notEqual',fl.l.toString(), listener.toString())\n                }\n            });\n        }\n\n        target.__EVENTS__[ev].push({f:f, l:listener, o: options});\n        target.addEventListener(ev, f, options);\n    });\n}\n\nfunction clearEvent(target, event) {\n    if (!scope.isBrowser()) {\n        L.error(\"Events are browser only!\");\n        return\n    }\n    if (!T.isArr(event)) {\n        if (I.contains(event,' ')) {\n            event = event.split(' ').Map((it)=>it.trim())\n        } else\n            event = [event];\n    }\n    target.__EVENTS__ = target.__EVENTS__ || {};\n    if (T.isEmpty(target.__EVENTS__)) return;\n    I.ForEach(event,function (ev) {\n        target.__EVENTS__[ev] = target.__EVENTS__[ev] || [];\n        if (T.isEmpty(target.__EVENTS__[ev])) return;\n\n        I.ForEach(target.__EVENTS__[ev],(fl)=> {\n            target.removeEventListener(ev, fl.f, fl.o);\n            return false\n        });\n        target.__EVENTS__[ev] = [];\n\n    });\n}\n\nmodule.exports = {setEvent, clearEvent};","const I = require(\"../core/stream\")\nconst T = require(\"../core/types\")\n\nfunction getAttributes(e) {\n    let atr = {};\n    I.ForEach(e.getAttributeNames(), (n) => atr[n] = e.getAttribute(n));\n    return atr;\n}\n\nfunction hasAttr(a, v) {\n    if (this.element.hasAttribute(a)) {\n        if (v) return this.element.getAttribute(a) === v\n        return true\n    }\n\n    return false\n}\n\nfunction getAttr(e, a) {\n    return e.getAttribute(a)\n}\n\nfunction setAttr(e, a, v) {\n    if (T.isArr(a)) {\n        I.ForEach(a, (n) => this.set(n, v))\n    } else if (T.isObj(a)) {\n        I.ForEach(a, (v, k) => this.set(k, v))\n    } else {\n        e.setAttribute(a, v);\n    }\n}\n\nclass Attributes {\n    constructor(e) {\n        this.element = e;\n    }\n\n    keys() {\n        return this.element.getAttributeNames()\n    }\n\n    all() {\n        return getAttributes(this.element);\n    }\n\n    set(a, v) {\n        setAttr(this.element, a, v);\n        return this;\n    }\n\n    get(a) {\n        return getAttr(this.element, a)\n    }\n\n    has(a, v) {\n        return hasAttr(a, v);\n    }\n\n    remove(a) {\n        this.set(a, undefined);\n    }\n}\n\nfunction attrs(e) {\n    return new Attributes(e)\n}\n\nmodule.exports = {getAttributes, Attributes, getAttr, hasAttr, setAttr, attrs}","const {cls} = require(\"../dom/classes\")\nconst {attrs} = require(\"../dom/attributes\")\n\nfunction left(e) {\n    return e.offset\n}\n\nfunction leftW(e) {\n    return e.clientLeft\n}\n\nfunction width(e) {\n    return e.offsetWidth\n}\n\nfunction widthW(e) {\n    return e.clientWidth\n}\n\nfunction right(e) {\n    return left(e) + width(e)\n}\n\nfunction rightW(e) {\n    return leftW(e) + widthW(e)\n}\n\nfunction translate(e, {x,y,z}) {\n    if (x) {\n\n    }\n}\n\nmodule.exports = {left, width, right}","function append(parent, ...elements) {\n    window.dispatchEvent(new CustomEvent(\"x.dom.append\", {detail: {parent, elements}}))\n    parent.append(elements);\n}\n\nmodule.exports = {append}","const {isVal, isObj, isEl, hasField} = require(\"../core/types\");\nconst {ForEach} = require(\"../core/stream\");\nconst {setAttr} = require(\"./attributes\");\nconst {cls} = require(\"./classes\");\nconst {error} = require(\"../core/logging\");\n\nfunction patch(node, object) {\n    if (!isVal(node)) {\n        error(`Node is ${node}`);\n        return;\n    }\n    if (!isEl(node)) {\n        error(`\"${node}\" is not Element or Node`);\n        return;\n    }\n    if (hasField(object, 'attr')) {\n        if (isObj(object['attr'])) {\n            ForEach(object['attr'], (v, k)=>{\n                setAttr(node, k, v);\n            })\n        }\n    }\n    if (hasField(object, 'cls')) {\n        if (isObj(object['cls'])) {\n            let c = cls(node);\n            ForEach(object['cls'], (v, k)=>{\n                c[k](v);\n            })\n        }\n    }\n    if (hasField(object, 'prop')) {\n        if (isObj(object['prop'])) {\n            ForEach(object['prop'], (v, k)=>{\n                node[k] = v;\n            })\n        }\n    }\n}\n\nmodule.exports = {patch}","// const {getAttr, setAttr, hasAttr} = require(\"../dom/attributes\")\nconst {isUnd, isStr} = require(\"../core/types\")\nconst {Filter, ForEach, contains} = require(\"../core/stream\")\n\nconst emptyStyle = ['', 'initial', 'unset', undefined, null];\n\nfunction style(e, p, v) {\n    if (isUnd(p)) {\n        // let stl = {};\n        let cs = getComputedStyle(e);\n        cs = Filter(cs, (s, n) => isStr(n)&&!contains(emptyStyle, s))\n        // ForEach(cs, (s) => stl[s] = cs[s]);\n        return cs\n    }\n    if (isUnd(v)) return e.style[p] || getComputedStyle(e)[p];\n    e.style[p] = v;\n}\n\nfunction hasStyle(e, p) {\n    let s = style(e, p);\n    return !contains(emptyStyle, s)\n}\n\nmodule.exports = {style, hasStyle}","const query = require('./query');\nconst event = require('./event');\nconst classes = require('./classes');\nconst attributes = require('./attributes');\nconst position = require('./position');\nconst append = require('./append');\nconst patch = require('./patch');\nconst styles = require('./styles');\nmodule.exports = {\n    ...query,\n    ...event,\n    ...classes,\n    ...attributes,\n    ...position,\n    ...append,\n    ...patch,\n    ...styles\n};","const T = require(\"../core/types\");\nconst {$, $$} = require(\"../dom/query\")\nclass HttpContent{\n    type\n    data\n    constructor(type, data) {\n        this.type = type;\n        this.data = data;\n    }\n}\n\nclass HttpRq{\n    setMethod(m) {\n        this.method = m.toUpperCase();\n    };\n    setUrl(u) {\n        this.url = encodeURI(u);\n    };\n    setArg(n, v) {\n        this.args[n] = v;\n    };\n    buildUrlEncoded(args) {\n        let ue = \"\";\n        args = args || this.args;\n\n        let argNames = Object.keys(args);\n        if (argNames.length>0) {\n            for (let i = 0; i < argNames.length; i++) {\n                ue += encodeURIComponent(argNames[i]) + '=' + encodeURIComponent(args[argNames[i]]);\n                if (i < argNames.length - 1) {\n                    ue += '&';\n                }\n            }\n        }\n        return ue;\n    };\n    setHeader(n, v) {\n        this.headers[n] = v.toString();\n    };\n\n    getHeader(n) {\n        return this.headers[n];\n    };\n    setContent(contentType, data) {\n        this.content.type = contentType.toLowerCase();\n        this.content.data = data;\n    };\n\n    jsonContent(data) {\n        let str = \"\";\n        if (typeof data === \"string\") {\n            str = data;\n        } else {\n            str = JSON.stringify(data);\n        }\n        this.setContent('json', str);\n        this.setHeader('Content-Type', 'application/json');\n    };\n\n    xmlContent(data) {\n        if (T.isStr(data))\n            this.setContent('xml', data);\n        else this.setContent('xml', data.outerHTML);\n        this.setHeader('Content-Type', 'application/xml');\n    };\n    /**\n     *\n     * @param form {string|Node|Element} form id\n     */\n    formContent(form) {\n        let formElement = $$(form)[0];\n        let frm = new FormData(formElement);\n        this.formMultiPartContent(frm);\n    };\n\n    /**\n     * @param frm {FormData} custom form data object\n     */\n    formMultiPartContent(frm) {\n        this.setContent('form_multipart', frm);\n        // this.setHeader('Content-Type', 'multipart/form-data; boundary=' + frm.boundary)\n    };\n\n    // application/x-www-form-urlencoded\n    formUrlEncodedContent(data) {\n        this.setContent('form_urlencoded', this.buildUrlEncoded(data));\n        this.setHeader('Content-Type', 'application/x-www-form-urlencoded');\n    };\n\n    /**\n     *\n     * @param method {'GET'|'POST'|'PUT'|'DELETE'|'PATCH'|'OPTIONS'?}\n     * @param url {String?}\n     * @param args {{name: value}?}\n     * @param headers {{name: value}?}\n     * @param content {HttpContent?}\n     */\n    constructor(method, url, args, headers, content) {\n        this.args = args || {};\n        this.headers = headers || {};\n        this.content = content || new HttpContent('#urlencoded', {});\n\n        this.setMethod(method);\n\n        this.setUrl(url);\n    }\n\n}\n\nmodule.exports = {HttpContent, HttpRq};\n","require(\"../core/types\");\nclass HttpRs {\n    json\n    xml\n    constructor(xhr) {\n        this.xhr = xhr\n        this.status = {\n            code: xhr.status,\n            text: xhr.statusText\n        };\n        this.headers = xhr.getAllResponseHeaders();\n        this.contentLength = xhr.response.length || 0;\n        this.data = xhr.response;\n        if (xhr.responseType === 'text' || xhr.responseType === '')\n            this.text = xhr.responseText;\n        Object.defineProperty(this, 'json', {\n            get() {\n                try {\n                    if (!xhr.responseJSON) {\n                        xhr.responseJSON = JSON.parse(this.xhr.responseText);\n                    }\n                } catch (e) {\n                    console.log(e);\n                }\n                return xhr.responseJSON\n            }\n        });\n\n        Object.defineProperty(this, 'xml', {\n            get() {\n                try {\n                    if (!xhr.responseXML) {\n                        let parser = new DOMParser();\n                        xhr.responseXML = parser.parseFromString(self.text,\"text/xml\");\n                    }\n                }catch (e) {\n                    console.log(e)\n                }\n\n                return xhr.responseXML;\n            }\n        })\n    }\n\n}\nmodule.exports = {HttpRs};","const Ajax = require(\"./ajax\").Ajax;\nconst {HttpContent} = require(\"./request\");\n\n/**\n *\n * @param method {'GET' | 'POST' | 'PUT' | 'DELETE' | 'PATCH' | 'OPTIONS'}\n * @param url {String}\n * @param params Object\n * @param headers Object\n * @param content {{type: ('json', 'urlencoded', 'form', '*'), data: Object|String}}\n * @param callbacks {{success:Function?, fail: Function?, progress: Function?, prepare: Function?,\n * uploadProgress: Function?, uploadFinish: Function?}}\n * @return {Ajax}\n */\nfunction makeHttpRequest(method, url, params, headers, content, callbacks) {\n    let ajax = new Ajax(method.toUpperCase(), url, params, headers);\n    if (content && content.type) {\n        if (content.type.toLowerCase() === 'json') {\n            ajax.jsonData(content.data);\n        } else if (content.type.toLowerCase() === 'urlencoded') {\n            ajax.urlEncodedData(content.data);\n        } else if (content.type.toLowerCase() === 'form') {\n            ajax.formData(content.data);\n        } else {\n            ajax.Rq.setContent(content.type, content.data);\n        }\n    }\n    callbacks.success && ajax.onSuccess(callbacks.success);\n    callbacks.fail && ajax.onFail(callbacks.fail);\n    callbacks.progress && ajax.onProgress(callbacks.progress);\n    callbacks.prepare && (ajax.preparedCallback = callbacks.prepare);\n    callbacks.uploadProgress && (ajax.uploadProgressCallback = callbacks.uploadProgress);\n    callbacks.uploadFinish && (ajax.uploadFinishCallback = callbacks.uploadFinish);\n    return ajax;\n}\n/**\n *\n * @param opts {{method, url, args, headers, type, data, success, fail, progress, prepare, uploadProgress, uploadFinish}}\n * @return {Ajax}\n */\nfunction makeRequest(opts) {\n    return makeHttpRequest(opts.method || 'OPTIONS', opts.url, opts.args, opts.headers, new HttpContent(opts.type, opts.data), {\n        success: opts.success,\n        fail: opts.fail,\n        progress: opts.progress,\n        prepare: opts.prepare,\n        uploadProgress: opts.uploadProgress,\n        uploadFinish: opts.uploadFinish\n    })\n}\n\nfunction makePromise(r, resolved = null, params = null) {\n    return new Promise((res, rej) => {\n        r.onSuccess(()=>{\n            if (resolved)\n                try {\n                    resolved(params);\n                } catch (e) {}\n            return res(r)\n        });\n        r.onFail(()=>rej(r));\n    })\n}\n\n/**\n *\n * @param opts {{method, url, args, headers, type, data, success, fail, progress, prepare, finish, uploadProgress, uploadFinish}}\n * @return {Promise<any>}\n */\nasync function sendRequest(opts) {\n    let r = makeRequest(opts);\n    r.send(opts.finish);\n    return await makePromise(r);\n}\n\nfunction Get(url, params){\n    return new Ajax('GET', url, params);\n}\n\nfunction Post(url, params){\n    return new Ajax('POST', url, params);\n}\n\nfunction Delete(url, params){\n    return new Ajax('DELETE', url, params);\n}\n\nfunction Put(url, params){\n    return new Ajax('PUT', url, params);\n}\n\nfunction Patch(url, params){\n    return new Ajax('PATCH', url, params);\n}\n\n/**\n * {@inheritDoc sendRequest}\n * @return {Promise<*>}\n */\nfunction sendGet(opt) {\n    opt.method = 'GET';\n    opt.type = undefined;\n    opt.data = undefined;\n    return sendRequest(opt)\n}\n\nfunction sendDelete(opt) {\n    opt.method = 'DELETE';\n    return sendRequest(opt)\n}\n\nfunction sendPost(opt) {\n    opt.method = 'POST';\n    return sendRequest(opt)\n}\n\nfunction sendPut(opt) {\n    opt.method = 'PUT';\n    return sendRequest(opt)\n}\n\nfunction sendPatch(opt) {\n    opt.method = 'PATCH';\n    return sendRequest(opt)\n}\n\nmodule.exports = {\n    makeHttpRequest, makeRequest, makePromise, sendRequest,\n    Get, Post, Delete, Put, Patch,\n    sendGet, sendDelete, sendPost, sendPut, sendPatch\n};","const Rq = require(\"./request\");\nconst Rs = require(\"./response\");\nconst T = require(\"../core/types\");\nconst I = require(\"../core/stream\");\nclass Ajax {\n    Rq = {}\n    Rs = {}\n    constructor(m, url, params={}, headers={}, content=new Rq.HttpContent())  {\n        if (m instanceof Rq.HttpRq) {\n            this.Rq = m\n        } else {\n            this.Rq = new Rq.HttpRq(m, url, params, headers, content);\n        }\n        // Fields\n        this.Rs = {readyState: 0};\n        this.xhr = new XMLHttpRequest();\n        // Events\n        this.preparedCallback = function (rq) {\n            // to be overridden\n        };\n\n        this.progressCallback = function (ev, rq) {\n            // to be overridden\n        };\n\n        this.uploadProgressCallback = function (xhr) {\n        };\n\n        this.successCallback = function (rq, rs) {\n            // to be overridden\n            // console.log('REQUEST:', rq, 'RESPONSE:', rs)\n        };\n        this.uploadFinishCallback = function (xhr) {\n\n        };\n        this.failCallback = function (rq, rs) {\n            // to be overridden\n            // console.log('REQUEST:', rq, 'RESPONSE:', rs)\n        };\n        Object.defineProperty(this, 'xhr', {enumerable: false})\n        // Object.seal(this);\n    }\n\n    // Methods\n    header (n, v) {\n        this.Rq.setHeader(n, v);\n        return this;\n    };\n\n    headers (hdrs={}) {\n        I.ForEach(hdrs, (v, k) =>{\n            this.Rq.setHeader(k, v);\n        });\n        return this;\n    };\n\n    onSuccess (callbackRqRs) {\n        this.successCallback = callbackRqRs;\n        return this;\n    };\n\n    onUploadSuccess (callbackRqRs) {\n        this.uploadFinishCallback = callbackRqRs;\n        return this;\n    };\n\n    onFail (callbackRqRs) {\n        this.failCallback = callbackRqRs;\n        return this;\n    };\n\n    onProgress (callbackRqRs) {\n        this.progressCallback = callbackRqRs;\n        return this;\n    };\n\n    onUploadProgress (callbackRqRs) {\n        this.uploadProgressCallback = callbackRqRs;\n        return this;\n    };\n\n    withContent(content) {\n        this.Rq.setContent(content.type, content.data);\n    }\n\n    xmlData (data) {\n        this.Rq.xmlContent(data);\n        return this;\n    }\n\n    formData (form) {\n        this.Rq.formContent(form);\n        return this;\n    };\n\n    jsonData (data) {\n        this.Rq.jsonContent(data);\n        return this;\n    };\n\n    urlEncodedData (data) {\n        this.Rq.formUrlEncodedContent(data);\n        return this;\n    };\n\n    _prepare (reset) {\n        if (this.isPrepared && !reset) {\n            // self.onprepare && self.onprepare(self.Rq);\n            return this\n        }\n\n        // prepare url\n        let url = this.Rq.url;\n\n        if (this.Rq.args && !T.isEmpty(this.Rq.args)) {\n            url.indexOf('?')>=0 || (url += '?');\n            url += this.Rq.buildUrlEncoded();\n        }\n        reset && (this.xhr = new XMLHttpRequest());\n        this.xhr.open(this.Rq.method, url);\n\n        // prepare headers\n        for (let h in this.Rq.headers) {\n            if (this.Rq.headers.hasOwnProperty(h))\n            this.xhr.setRequestHeader(h, this.Rq.headers[h]);\n        }\n\n        this.isPrepared = true;\n        this.preparedCallback && this.preparedCallback(this.Rq);\n        // preparedCallback && preparedCallback();\n        return this;\n    };\n\n    send (finishCallback) {\n        this._prepare();\n        let ajax = this;\n        let xhr = this.xhr;\n        this.xhr.onreadystatechange = function (ev) {\n\n            // onloadend\n            if (xhr.readyState === 4) {\n                let callback;\n                if (xhr.status >= 200 && xhr.status <= 399) {\n                    callback = ajax.successCallback;\n                } else {\n                    callback = ajax.failCallback;\n                }\n                ajax.Rs = new Rs.HttpRs(xhr);\n                finishCallback && finishCallback(ajax.Rq, ajax.Rs, ajax.xhr);\n                callback && callback(ajax.Rq, ajax.Rs, ajax.xhr);\n            }\n        };\n        this.xhr.onprogress = function (ev) {\n            ajax.progressCallback && ajax.progressCallback(ev, ajax);\n        };\n\n        this.xhr.upload.onprogress = function (ev) {\n            ajax.uploadProgressCallback && ajax.uploadProgressCallback(ev, ajax);\n        };\n\n        this.xhr.upload.onloadend = function (ev) {\n            ajax.uploadFinishCallback && ajax.uploadFinishCallback(ev, ajax);\n        };\n\n        try {\n            this.xhr.send(this.Rq.content.data);\n        } catch (e) {\n            this.onFail(e);\n        }\n\n        return ajax;\n    }\n}\n\nmodule.exports = {Ajax: Ajax};","const http = require('./methods');\nconst {startsWith, endsWith, contains, All, Filter, ForEach} = require('../core/stream');\n\nclass InterceptorStore {\n    all = []\n    use(interceptor) {\n        this.all.push(interceptor);\n    }\n}\n\nclass XHttpClient {\n    host = \"\"\n    __queue = []\n    __sending = []\n    __interval\n    __timeBetween\n    __ratePerMinute\n    __lastRequestTime\n    interceptors = {\n        request : new InterceptorStore(),\n        response: new InterceptorStore()\n    }\n\n    constructor(host = '' ,{ratePerMinute = 300}={}) {\n        if (endsWith(host, '/')) {\n            host = host.split('').splice(host.length-1).join()\n        }\n        this.host = host\n        this.__ratePerMinute = ratePerMinute\n        this.__timeBetween = 60000/ratePerMinute\n        this.__lastRequestTime = new Date().getTime() - this.__timeBetween;\n    }\n\n    _intervalSend(client) {\n        if (client.__queue.length === 0) {\n            clearInterval(client.__interval);\n            client.__interval = undefined;\n            return;\n        }\n        let now = new Date().getTime();\n        if (now - client.__lastRequestTime > client.__timeBetween) {\n            let ajax = client.__queue.pop().send();\n            client.__sending.push(ajax);\n            client.__lastRequestTime = now;\n        }\n    }\n\n    _addRequest(ajax, {responseType, cancelToken}) {\n        this.__queue.push(ajax);\n        if (!this.__interval) {\n            this.__interval = setInterval(this._intervalSend, 1, this);\n        }\n        ajax.cancelToken = cancelToken;\n        console.log(responseType)\n        if (responseType) ajax.xhr.responseType = responseType;\n        return http.makePromise(ajax, ({client, request}) => {\n            let rqi = client.__sending.indexOf(request);\n            if (rqi >= 0) {\n                client.__sending.splice(rqi);\n            }\n        }, {client: this, request: ajax});\n    }\n\n    send(ajax) {\n        this._addRequest(ajax)\n    }\n\n    _contentRequest(method, route, {params, headers, content,responseType, cancelToken}) {\n        if (!startsWith(route, '/') && route.length > 1) {\n            route = '/' + route;\n        }\n        return this._addRequest(\n            method(this.host+route, params || {})\n                .headers(headers || {})\n                .withContent(content || {type: '', data: ''})\n        , {responseType,cancelToken})\n    }\n\n    get(route, {params, headers, responseType, cancelToken}={}) {\n        if (!startsWith(route, '/') && route.length > 1) {\n            route = '/' + route;\n        }\n        return this._addRequest(http.Get(this.host+route, params).headers(headers), {responseType, cancelToken});\n    }\n\n    post(route, {params, headers, content,responseType, cancelToken}={}) {\n        return this._contentRequest(http.Post, route, {params, headers, content,responseType, cancelToken});\n    }\n\n    put(route, {params, headers, content,responseType, cancelToken}={}) {\n        return this._contentRequest(http.Put, route, {params, headers, content,responseType, cancelToken});\n    }\n\n    patch(route, {params, headers, content,responseType, cancelToken}={}) {\n        return this._contentRequest(http.Patch, route, {params, headers, content,responseType, cancelToken});\n    }\n\n    delete(route, {params, headers, content,responseType, cancelToken}={}) {\n        return this._contentRequest(http.Delete, route, {params, headers, content,responseType, cancelToken});\n    }\n\n    cancel(token) {\n        this.__queue = Filter(this.__queue, (a)=>a.cancelToken !== token);\n        let sending = Filter(this.__sending, (a)=>a.cancelToken === token);\n        ForEach(sending, (ajax)=>{\n            try {\n                ajax.xhr.abort();\n            } catch (e) {\n                console.log(e)\n            }\n        });\n\n        this.__sending = Filter(this.__sending, (a)=>a.cancelToken !== token);\n    }\n}\n\nmodule.exports = {XHttpClient}","let request = require('./request');\nlet response = require('./response');\nlet ajax = require('./ajax');\nlet methods = require('./methods');\nlet client = require('./client');\nmodule.exports = {\n    ...request,\n    ...response,\n    ...ajax,\n    ...methods,\n    ...client\n}","const core = require('./core');\nconst dom = require('./dom');\nconst http = require('./http');\nmodule.exports = {\n    X: {\n        ...core,\n        ...dom,\n        ...http\n    }\n}","const scope = require(\"./core/scope\");\n\nscope.setGlobal(require(\"./index\"))\nscope.setGlobal(require(\"./vm\"))\n\nrequire(\"./ext/stream.ext\");\nrequire(\"./ext/dom.ext\");","const I = require(\"../core/stream\");\nconst T = require(\"../core/types\");\nconst L = require(\"../core/logging\");\n\nArray.prototype.$contains = Object.prototype.$contains = String.prototype.$contains = HTMLCollection.prototype.$contains = NodeList.prototype.$contains = function $contains(x) {\n    return this.$any(x);\n};\n\nArray.prototype.$in = Object.prototype.$in = String.prototype.$in = HTMLCollection.prototype.$in = NodeList.prototype.$in = function $in(x) {\n    return x.$any(this)\n};\n\nArray.prototype.$startsWith = Object.prototype.$startsWith = String.prototype.$startsWith = HTMLCollection.prototype.$startsWith = NodeList.prototype.$startsWith = function $startsWith(x) {\n    return I.StartsWith(this, x)\n};\n\nArray.prototype.$each = Object.prototype.$each = String.prototype.$each = HTMLCollection.prototype.$each = NodeList.prototype.$each = function $each(func) {\n    return I.ForEach(this, func);\n};\n\nArray.prototype.$forEach = Object.prototype.$forEach = String.prototype.$forEach = HTMLCollection.prototype.$forEach = NodeList.prototype.$forEach = function $forEach(func) {\n    return I.ForEach(this, func);\n};\n\nArray.prototype.$loopArray = Object.prototype.$loopArray = String.prototype.$loopArray = HTMLCollection.prototype.$loopArray = NodeList.prototype.$loopArray = function $loopArray(func) {\n    return I.ArrayForEach(this, func);\n};\n\nif (Array.prototype.$first === undefined) Array.prototype.$first = function $first(func) {\n    return I.First(this, func);\n};\nif (Object.prototype.$first === undefined) Object.prototype.$first = function $first(func) {\n    return I.First(this, func);\n};\nif (String.prototype.$first === undefined) String.prototype.$first = function $first(func) {\n    return I.First(this, func);\n};\nif (HTMLCollection.prototype.$first === undefined) HTMLCollection.prototype.$first = function $first(func) {\n    return I.First(this, func);\n};\nif (NodeList.prototype.$first === undefined) NodeList.prototype.$first = function $first(func) {\n    return I.First(this, func);\n};\n\nif (Array.prototype.$last === undefined) Array.prototype.$last = function $last(func) {\n    return I.Last(this, func);\n};\nif (Object.prototype.$last === undefined) Object.prototype.$last = function $last(func) {\n    return I.Last(this, func);\n};\nif (String.prototype.$last === undefined) String.prototype.$last = function $last(func) {\n    return I.Last(this, func);\n};\nif (HTMLCollection.prototype.$last === undefined) HTMLCollection.prototype.$last = function $last(func) {\n    return I.Last(this, func);\n};\nif (NodeList.prototype.$last === undefined) NodeList.prototype.$last = function $last(func) {\n    return I.Last(this, func);\n};\n\nArray.prototype.$any = Object.prototype.$any = String.prototype.$any = HTMLCollection.prototype.$any = NodeList.prototype.$any = function $any(func) {\n    return I.Any(this, func);\n};\n\nArray.prototype.$all = Object.prototype.$all = String.prototype.$all = HTMLCollection.prototype.$all = NodeList.prototype.$all = function $all(func) {\n    return I.All(this, func);\n};\n\nArray.prototype.$filter = Object.prototype.$filter = String.prototype.$filter = HTMLCollection.prototype.$filter = NodeList.prototype.$filter = function $filter(f) {\n    return I.Filter(this, f);\n};\n\nArray.prototype.$filterRight = Object.prototype.$filterRight = String.prototype.$filterRight = HTMLCollection.prototype.$filterRight = NodeList.prototype.$filterRight = function $filterRight(f) {\n    return I.FilterRTL(this, f);\n};\n\nif (Array.prototype.$map === undefined) Array.prototype.$map = function $map(f) {\n    return I.Map(this, f);\n};\nif (Object.prototype.$map === undefined) Object.prototype.$map = function $map(f) {\n    return I.Map(this, f);\n};\nif (String.prototype.$map === undefined) String.prototype.$map = function $map(f) {\n    return I.Map(this, f);\n};\nif (HTMLCollection.prototype.$map === undefined) HTMLCollection.prototype.$map = function $map(f) {\n    return I.Map(this, f);\n};\nif (NodeList.prototype.$map === undefined) NodeList.prototype.$map = function $map(f) {\n    return I.Map(this, f);\n};\n\nif (Array.prototype.$flatMap === undefined) Array.prototype.$flatMap = function $flatMap(f) {\n    return I.FlatMap(this, f);\n};\nif (Object.prototype.$flatMap === undefined) Object.prototype.$flatMap = function $flatMap(f) {\n    return I.FlatMap(this, f);\n};\nif (String.prototype.$flatMap === undefined) String.prototype.$flatMap = function $flatMap(f) {\n    return I.FlatMap(this, f);\n};\nif (HTMLCollection.prototype.$flatMap === undefined) HTMLCollection.prototype.$flatMap = function $flatMap(f) {\n    return I.FlatMap(this, f);\n};\nif (NodeList.prototype.$flatMap === undefined) NodeList.prototype.$flatMap = function $flatMap(f) {\n    return I.FlatMap(this, f);\n};\n\nArray.prototype.$minIndex = Object.prototype.$minIndex = String.prototype.$minIndex = HTMLCollection.prototype.$minIndex = NodeList.prototype.$minIndex = function $minIndex(f) {\n    return I.MinIndex(this, f);\n};\n\nArray.prototype.$min = Object.prototype.$min = String.prototype.$min = HTMLCollection.prototype.$min = NodeList.prototype.$min = function $min(f) {\n    return I.Min(this, f);\n};\n\nArray.prototype.$maxIndex = Object.prototype.$maxIndex = String.prototype.$maxIndex = HTMLCollection.prototype.$maxIndex = NodeList.prototype.$maxIndex = function $maxIndex(f) {\n    return I.MaxIndex(this, f);\n};\n\nArray.prototype.$max = Object.prototype.$max = String.prototype.$max = HTMLCollection.prototype.$max = NodeList.prototype.$max = function $max(f) {\n    return I.Max(this, f);\n};\n\nArray.prototype.$firstIndex = Object.prototype.$firstIndex = String.prototype.$firstIndex = HTMLCollection.prototype.$firstIndex = NodeList.prototype.$firstIndex = function $firstIndex(f) {\n    return I.FirstIndex(this, f);\n};\n\nArray.prototype.$lastIndex = Object.prototype.$lastIndex = String.prototype.$lastIndex = HTMLCollection.prototype.$lastIndex = NodeList.prototype.$lastIndex = function $lastIndex(f) {\n    return I.LastIndex(this, f);\n};\n\n\nArray.prototype.$toEnum = Object.prototype.$toEnum = function $toEnum() {\n    return T.Enum(this);\n};\n","const I = require(\"../core/stream\");\nconst L = require(\"../core/logging\");\nconst DOM = require(\"../dom\");\n\nHTMLElement.prototype.$class = Element.prototype.$class = Node.prototype.$class = function $class() {\n    return DOM.cls(this)\n};\n\nHTMLElement.prototype.$addClass = Element.prototype.$addClass = Node.prototype.$addClass = function $addClass(c) {return DOM.addClass(this, c)};\n\nHTMLElement.prototype.$removeClass = Element.prototype.$removeClass = Node.prototype.$removeClass = function $removeClass(c) {return DOM.removeClass(this, c)};\n\nHTMLElement.prototype.$toggleClass = Element.prototype.$toggleClass = Node.prototype.$toggleClass = function $toggleClass(c) {return DOM.toggleClass(this, c)};\n\nHTMLElement.prototype.$hasClass = Element.prototype.$hasClass = Node.prototype.$hasClass = function $hasClass(c) {return DOM.hasClass(this, c)};\n\nHTMLElement.prototype.$attrs = Element.prototype.$attrs = Node.prototype.$attrs = function $attrs() {return DOM.attrs(this)};\n\nHTMLElement.prototype.$setAttr = Element.prototype.$setAttr = Node.prototype.$setAttr = function $setAttr(a, v) {DOM.setAttr(this, a, v)};\n\nHTMLElement.prototype.$setAttr = Element.prototype.$setAttr = Node.prototype.$setAttr = function $setAttr(a, v) {DOM.setAttr(this, a, v)};\n\nHTMLElement.prototype.$event = Element.prototype.$event = Node.prototype.$event = function $event(names, func, opt) {\n    DOM.setEvent(this, names, func, opt);\n};\n\nHTMLElement.prototype.$clearEvent = Element.prototype.$clearEvent = Node.prototype.$clearEvent = function $clearEvent(names) {\n    DOM.clearEvent(this, names);\n};\n\nHTMLElement.prototype.$style = Element.prototype.$style = Node.prototype.$style = function $style(prop, value) {\n    DOM.style(this, prop, value)\n};\n\n\nArray.prototype.$addClass = HTMLCollection.prototype.$addClass = NodeList.prototype.$addClass = function $addClass(c) {\n    I.ForEach(this, (e)=>DOM.addClass(e, c))\n};\n\nArray.prototype.$removeClass = HTMLCollection.prototype.$removeClass = NodeList.prototype.$removeClass = function $removeClass(c) {\n    I.ForEach(this, (e)=>DOM.removeClass(e, c))\n};\n\nArray.prototype.$toggleClass = HTMLCollection.prototype.$toggleClass = NodeList.prototype.$toggleClass = function $toggleClass(c) {\n    I.ForEach(this, (e)=>DOM.toggleClass(e, c))\n};\n\nArray.prototype.$haveClass = HTMLCollection.prototype.$haveClass = NodeList.prototype.$haveClass = function $haveClass(c) {\n    return I.All(this, (e)=>DOM.hasClass(e, c));\n};\n\nArray.prototype.$setAttr = HTMLCollection.prototype.$setAttr = NodeList.prototype.$setAttr = function $setAttr(a, v) {\n    I.ForEach(this, (e)=>DOM.setAttr(e, a, v));\n};\n\nArray.prototype.$haveAttr = HTMLCollection.prototype.$haveAttr = NodeList.prototype.$haveAttr = function $haveAttr(a, v) {\n    I.All(this, (e)=>DOM.hasAttr(e, a, v));\n};\n\nArray.prototype.$event = HTMLCollection.prototype.$event = NodeList.prototype.$event = function $event(names, func, opt) {\n    I.ForEach(this, function (e) {\n        DOM.setEvent(e, names, func, opt);\n    });\n};\n\nArray.prototype.$clearEvent = HTMLCollection.prototype.$clearEvent = NodeList.prototype.$clearEvent = function $clearEvent(names) {\n    I.ForEach(this, function (e) {\n        DOM.clearEvent(e, names);\n    });\n};\n\nArray.prototype.$style = HTMLCollection.prototype.$style = NodeList.prototype.$style = function $style(prop, value) {\n    ForEach(this, (v)=>{\n        DOM.style(v, prop, value)\n    })\n};\n","const {$$} = require(\"../dom\");\n\nclass App {\n    /**\n     * App render root\n     * @type {string}\n     */\n    root = 'body'\n    constructor(root) {\n        this.root = root;\n    }\n\n\n}","const I = require(\"../core/stream\");\nconst T = require(\"../core/types\");\nconst Case = require(\"../core/cases\");\nconst Dom = require(\"../dom\");\n\n/**\n * @property tag\n * @property id\n * @property cls\n * @property attrs\n * @property props\n * @property text\n * @property nodes\n */\nclass VNode {\n    __x__ = {};\n    tag;\n    nodes = [];\n    constructor(tag = '#TEXT') {\n        this.tag = tag.toUpperCase();\n    }\n    get isText() {\n        return this.tag === '#TEXT';\n    }\n\n    get $first() {\n        return this.nodes[0];\n    }\n\n    get $text() {\n        if (this.isText) return this.text;\n        return (this.$first&&this.$first.isText)?this.$first.text:undefined;\n    }\n\n    set $text(v) {\n        if (this.isText) {\n            this.text = v;\n        } else {\n            if (this.$text) {\n                this.$first.$text = v;\n            } else {\n                this.text = v;\n            }\n        }\n    }\n\n    remove() {\n        if (this.parent) {\n            this.parent.nodes.splice(this.parent.nodes.indexOf(this),1);\n            this.parent = undefined;\n        }\n    }\n\n    child(vnode) {\n        this.nodes.push(vnode);\n        return this;\n    }\n\n    static create(type, attrs, ...children) {\n        if (children[0] instanceof Array) {\n            children = children[0]\n        }\n        children = I.Map(children,(ch)=>T.isStr(ch)?VNode.createText(ch):ch);\n        let vn = new VNode(type);\n        vn.attrs = attrs;\n        vn.nodes = children;\n        return vn;\n    }\n\n    static createText(text) {\n        let vn = new VNode();\n        vn.text = text;\n        return vn;\n    }\n\n    static toElement(vn) {\n        if (vn.tag === \"#TEXT\") {\n            return document.createTextNode(vn.text);\n        }\n\n        let e = document.createElement(vn.tag);\n        vn.id && (e.id = vn.id);\n        vn.attrs && I.ForEach(vn.attrs,function (a, k, atr) {\n            if (k === \"style\" && !T.isStr(a)) {\n                let ns = \"\";\n                I.ForEach(a,(v, k) => {\n                    ns += `${Case.kebab(k)}: ${v};`;\n                    // ns[k.toKebab()] = v;\n                });\n                e.setAttribute(k, ns);\n\n            } else {\n                e.setAttribute(k, a);\n            }\n        });\n        vn.props && I.ForEach(vn.props,function (p, i, prp) {\n            e[p] = prp[p];\n        });\n        I.ForEach(vn.nodes,function (n) {\n            Dom.append(e, VNode.toElement(n));\n        });\n        return e\n    }\n\n    static from(element, parentVNode) {\n        element = Dom.$$(element)[0];\n        let vnd = new VNode();\n        if (element === undefined) return vnd;\n        if (T.isVal(element.id) && element.id.trim() !== \"\") {\n            vnd.id = element.id;\n        }\n        if (T.isVal(element.tagName)) {\n            vnd.tag = element.nodeName\n        }\n        if (element.nodeType === 3) {\n            vnd.text = element.nodeValue;\n            if (vnd.text.trim() === \"\") vnd.tag = null;\n            return vnd;\n        }\n        if (element.tagName && element.attributes.length > 1 || element.attributes.length > 0) {\n            vnd.attrs = {};\n            let atrs = vnd.attrs;\n            I.ForEach(element.attributes, function (kv) {\n                if (kv.name === \"id\") return vnd;\n                atrs[kv.name] = kv.value;\n            });\n        }\n        if (vnd.attrs && vnd.attrs[\"class\"])\n            vnd.cls = Dom.cls(element).items;\n\n        for (let k in element) {\n            if (!element.hasOwnProperty(k)) continue;\n            vnd.props || (vnd.props = {});\n            let val = element[k];\n            if (T.isEl(val) || T.isList(val) && I.Any(val, (v)=>T.isEl(v))) continue;\n            vnd.props[k] = val;\n        }\n\n        // vnd.relQuery = X.queryOf(element, element.parentElement);\n        let nds = vnd.nodes;\n        I.ForEach(element.childNodes, function (nd) {\n            if (nd.nodeType === 8) return;\n            let cvnd = VNode.from(nd, vnd);\n            if (T.isNull(cvnd.tag)) return;\n            Object.defineProperty(cvnd, 'parent', {value: vnd})\n            nds.push(cvnd);\n        });\n        if (vnd.nodes[0] && vnd.nodes[0].tag === \"#TEXT\") {\n            vnd.text = vnd.nodes[0].text\n        }\n        return vnd;\n    }\n}\n\nfunction ve(a1, ...a) {\n    let vn = new VNode();\n    vn.tag = \"\";\n    a1 = a1.trim();\n    let cs = I.contains(a1,\"#\");\n    let cd = I.contains(a1,\".\");\n    if (cd || cs) {\n        let sp = a1.split('#');\n        if (cs) {\n            vn.tag = sp[0].toUpperCase();\n            if (!cd) {\n                vn.id = a1.split(\"#\")[1];\n            }\n        }\n        if (cd) {\n            let ic = (sp.length>1?sp[1]:sp[0]).split(\".\");\n            if (!cs) {\n                vn.tag = ic[0].toUpperCase();\n            } else {\n                vn.id = ic[0];\n            }\n            vn.cls = ic.slice(1);\n            // add classes to attributes\n            // if (!vn.attrs) vn.attrs = {};\n            // vn.attrs['class'] = '.' + vn.cls.join(' .');\n        }\n    } else {\n        vn.tag = a1.toUpperCase();\n    }\n    if (vn.tag === \"\" || vn.tag === undefined)\n        vn.tag = \"DIV\";\n    if (a.length>0) {\n        let atid = 0;\n        if (!a[0].hasOwnProperty(\"__x__\") && !T.isStr(a[0])) {\n            vn.attrs = a[0];\n            atid ++;\n        }\n        if (T.isArr(a[0])) {\n            vn.nodes = a[0];\n        } else if (!a[0].hasOwnProperty(\"__x__\") && !T.isStr(a[0])) {\n            vn.attrs = a[0];\n            if (T.isArr(a[1])) {\n                vn.nodes = a[1];\n            } else\n                vn.nodes = a.slice(1);\n        } else {\n            vn.nodes = a;\n        }\n        I.ForEach(vn.nodes,(n, i)=>{\n            vn.nodes[i] = T.isStr(n)?vt(n): n;\n            Object.defineProperty(vn.nodes[i], \"parent\", {value: vn});\n        });\n    }\n\n    return vn;\n}\n\nfunction vt(text) {\n    let vn = new VNode();\n    vn.text = text;\n    return vn;\n}\n\nmodule.exports = {VNode, ve, vt}","let app = require('./app');\nlet vnode = require('./vnode');\nlet component = require('./component');\nlet context = require('./context');\n\nmodule.exports = {\n    XVM: {\n        ...app,\n        ...vnode,\n        ...component,\n        ...context\n    }\n}"],"names":["$parcel$global","globalThis","self","window","global","isUnd","x","undefined","isNull","isVal","isFun","isObj","hasField","obj","field","pred","hasOwnProperty","Set","constructor","items","this","[object Object]","src","add","item","indexOf","push","contains","remove","splice","logTitle","flag","concat","t","Date","getHours","getMinutes","getSeconds","getMilliseconds","__logtime__","prepareLog","args","lt","reverse","LogLevels","$da84cb86f0fc8adc5561c3cc5dd2$exports","isNum","isStr","String","isArr","Array","isPrim","isList","length","isMutableList","isEl","Element","HTMLElement","Node","isEls","HTMLCollection","NodeList","isEmpty","Object","keys","Enum","c","MAP","i","dict","o","TRACE","INFO","WARN","ERROR","SILENT","Config","LogLevel","lvl","l","merge","target","k","$a3893bd5dab7a15cc466b48a2d$exports","showTrace","showInfo","showWarn","showError","silent","trace","console","apply","X","info","log","warn","error","isBrowser","document","navigator","$d70da93f4e155e2ba10f1adb402e229f$exports","mergeAll","res","setGlobal","Extension","types","$d70da93f4e155e2ba10f1adb402e229f$var$_defineProperty","define","namedFunc","name","err","code","p","toString","pcode","polyfill","_X_LOOP_BREAK_","Symbol","_X_ANY_","_X_ALL_","BREAK","ANY","ALL","s","v","ForEach","vi","it","FlatMap","any","idx","objMatchOne","match","m","objMatchAll","funOrEq","f","def","inc","RegExp","test","funOrKey","key","Error","DeepClone","skips","maxLevel","cl","val","DeepConcat","o1","o2","d","func","len","ForEachRTL","range","FirstIndex","r","First","LastIndex","Last","Any","fn","Filter","right","filterS","a","filterA","filterO","MaxIndex","list","mx","index","ix","MinIndex","mn","$a144568d176334bed4cca0985c4b8$exports","toggle","ForRange","start","end","ArrayForEach","arr","from","rev","slice","ArrayForEachRTL","StartsWith","EndsWith","Reverse","All","FilterRTL","Map","mapA","mapO","keyValuePairs","object","entries","spread","spreadAll","Max","Min","$d3d34283650256dce8a19461d991c48$exports","kebab","kb","pres","charAt","toLowerCase","camel","cml","toUpperCase","pascal","psc","snake","snk","S","numRegex","getNumberRegex","$eb2eb743c604ee0ad26a5daa5e4a9a8a$exports","isNumeric","getNumeric","all","matchAll","next","done","startsWith","str","endsWith","Queryable","$af786bde8e533f81510775d359f7092$var$_defineProperty","count","__src__","value","loop","values","vs","asObject","asArray","filter","nk","map","first","last","$af786bde8e533f81510775d359f7092$exports","bodyOf","$dfe880299931d5a37f48f00ed8443$exports","funcBodyEquals","f1","f2","throttle","intervalMs","___last___","getTime","call","debounce","afterMs","___timeout___","caller","_this","clearTimeout","setTimeout","$af1f41873c630aac11ca6abe22f$exports","Classes","className","trim","replace","split","e","element","defineProperty","get","classes","set","upd","DOMTokenList","__update__","getAttribute","setAttribute","join","ci","seal","$cd13c0b4a28db8e277ae8e6e074cf37$exports","cls","of","addClass","hasClass","removeClass","toggleClass","$","q","root","querySelectorAll","$c775515117e7394dc2bc42b55000c24d$exports","$$","querySelector","queryOf","maxParent","body","gen","tagName","id","forEach","parentElement","children","findIndex","$ef3294cf02081459627b2af4db0915e$exports","setEvent","event","listener","options","__EVENTS__","ev","fl","removeEventListener","addEventListener","clearEvent","getAttributes","atr","getAttributeNames","n","hasAttr","hasAttribute","getAttr","setAttr","Attributes","has","$de8d088b78f98968ffb308442503e4$exports","attrs","left","offset","width","offsetWidth","$e886ff5f79346d353b5fb9f52f57ee$exports","$f0f71b9d355f86207991be699884462b$exports","append","parent","elements","dispatchEvent","CustomEvent","detail","$dfe58cbc6bd7c6106464a17162d59ff7$exports","patch","node","emptyStyle","style","cs","getComputedStyle","$ccbbcabea1a0c04b366d88ca0e986a$exports","hasStyle","$d5500a4d20c35dd28c3a0f4ca9e$exports","HttpContent","type","data","$feee369d139a6e9228f1e369abeec212$var$_defineProperty","$feee369d139a6e9228f1e369abeec212$exports","HttpRq","setMethod","method","setUrl","u","url","encodeURI","setArg","buildUrlEncoded","ue","argNames","encodeURIComponent","setHeader","headers","getHeader","setContent","contentType","content","jsonContent","JSON","stringify","xmlContent","outerHTML","formContent","form","formElement","frm","FormData","formMultiPartContent","formUrlEncodedContent","$ebf62aa85bb9001ed7c715667408d27$exports","HttpRs","xhr","$ebf62aa85bb9001ed7c715667408d27$var$_defineProperty","status","text","statusText","getAllResponseHeaders","contentLength","response","responseType","responseText","responseJSON","parse","responseXML","parser","DOMParser","parseFromString","Ajax","$f1f1fdec45e8e7bbe5c80c3eb0618245$exports","params","$f1f1fdec45e8e7bbe5c80c3eb0618245$var$_defineProperty","Rq","Rs","readyState","XMLHttpRequest","preparedCallback","rq","progressCallback","uploadProgressCallback","successCallback","rs","uploadFinishCallback","failCallback","enumerable","header","hdrs","onSuccess","callbackRqRs","onUploadSuccess","onFail","onProgress","onUploadProgress","withContent","xmlData","formData","jsonData","urlEncodedData","_prepare","reset","isPrepared","open","h","setRequestHeader","send","finishCallback","ajax","onreadystatechange","callback","onprogress","upload","onloadend","makeHttpRequest","callbacks","success","fail","progress","prepare","uploadProgress","uploadFinish","makeRequest","opts","makePromise","resolved","Promise","rej","async","sendRequest","finish","$e7741166b7a0212e956f7504cc$exports","Get","Post","Delete","Put","Patch","sendGet","opt","sendDelete","sendPost","sendPut","sendPatch","InterceptorStore","$d8f34e1f7afdb0b89a68ab664473573d$var$_defineProperty","use","interceptor","$d8f34e1f7afdb0b89a68ab664473573d$exports","XHttpClient","host","ratePerMinute","request","__ratePerMinute","__timeBetween","__lastRequestTime","_intervalSend","client","__queue","clearInterval","__interval","now","pop","__sending","_addRequest","cancelToken","setInterval","rqi","_contentRequest","route","post","put","delete","cancel","token","sending","abort","$eb7668f284ffece23259a974b2a2fd90$exports","$ee12400dde7bc966a3d6f3e8a569094$exports","prototype","$contains","$any","$in","$startsWith","$each","$forEach","$loopArray","$first","$last","$all","$filter","$filterRight","$map","$flatMap","$minIndex","$min","$maxIndex","$max","$firstIndex","$lastIndex","$toEnum","$class","$addClass","$removeClass","$toggleClass","$hasClass","$attrs","$setAttr","$event","names","$clearEvent","$style","prop","$haveClass","$haveAttr","VNode","tag","$ea85173c693c23476394f92c4d396ce$var$_defineProperty","isText","nodes","$text","child","vnode","ch","createText","vn","createTextNode","createElement","ns","props","prp","toElement","parentVNode","vnd","nodeName","nodeType","nodeValue","attributes","atrs","kv","nds","childNodes","nd","cvnd","vt","$ea85173c693c23476394f92c4d396ce$exports","ve","a1","cd","sp","ic","atid","$cbd1d2974cbaeb31a020da327abcf8$exports","XVM"],"version":3,"file":"xeer-bundle.js.map"}
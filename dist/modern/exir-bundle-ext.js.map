{"mappings":"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","sources":["./node_modules/@parcel/scope-hoisting/lib/helpers.js","./core/types.js","./core/collections.js","./core/logging.js","./core/cases.js","./core/strings.js","./core/queryable.js","./core/functions.js","./core/index.js","./dom/query.js","./dom/classes.js","./core/scope.js","./dom/event.js","./dom/attributes.js","./dom/position.js","./dom/append.js","./dom/patch.js","./dom/styles.js","./dom/index.js","./http/request.js","./http/response.js","./http/ajax.js","./http/methods.js","./http/client.js","./http/index.js","./ui/view.js","./ui/render.js","./ui/type.js","./ui/vnode.js","./ui/jss.js","./ui/utils.js","./ui/patch.js","./ui/patch-element.js","./ui/scheduler.js","./ui/index.js","./ui/h.js","./index.js","./ui/hscript.js","./exir-bundle-ext.js"],"sourcesContent":["function $parcel$interopDefault(a) {\n  return a && a.__esModule ? a.default : a;\n}\n\nfunction $parcel$defineInteropFlag(a) {\n  Object.defineProperty(a, '__esModule', {value: true});\n}\n\nfunction $parcel$export(e, n, v) {\n  Object.defineProperty(e, n, {get: v, enumerable: true});\n}\n\nfunction $parcel$exportWildcard(dest, source) {\n  Object.keys(source).forEach(function(key) {\n    if (key === 'default' || key === '__esModule') {\n      return;\n    }\n\n    Object.defineProperty(dest, key, {\n      enumerable: true,\n      get: function get() {\n        return source[key];\n      },\n    });\n  });\n\n  return dest;\n}\n\nfunction $parcel$missingModule(name) {\n  var err = new Error(\"Cannot find module '\" + name + \"'\");\n  err.code = 'MODULE_NOT_FOUND';\n  throw err;\n}\n\nvar $parcel$global =\n  typeof globalThis !== 'undefined'\n    ? globalThis\n    : typeof self !== 'undefined'\n    ? self\n    : typeof window !== 'undefined'\n    ? window\n    : typeof global !== 'undefined'\n    ? global\n    : {};\n","/**\n * @module core/types\n * @memberOf core\n */\n\n/**\n * If is class or function return class/function name else returns typeof\n * @param x\n * @return {\"undefined\"|\"object\"|\"boolean\"|\"number\"|\"string\"|\"function\"|\"symbol\"|\"bigint\"|*}\n */\nfunction typeName(x) {\n    if (x.hasOwnProperty('constructor')) {\n        return x.constructor.name;\n    }\n    return typeof x;\n}\n\n/** Is undefined\n * @param x\n * @returns {boolean}\n */\nfunction isUnd(x) {\n    return x !== null && x === undefined;\n}\n\n/** Is null\n * @param x\n * @return {boolean}\n */\nfunction isNull(x) {\n    return x === null;\n}\n\n/** Is value !null && !undefined\n * @param x\n * @return {boolean|boolean}\n */\nfunction isVal(x) {\n    return !isUnd(x) && !isNull(x);\n}\n\n/** Is number\n * @param x\n * @return {boolean}\n */\nfunction isNum(x) {\n    return typeof x === \"number\";\n}\n\n/** Is string|String\n * @param x\n * @return {boolean}\n */\nfunction isStr(x) {\n    return typeof x === \"string\" || x instanceof String;\n}\n\n/** Is function\n * @param x\n * @return {boolean}\n */\nfunction isFun(x) {\n    return typeof x === \"function\";\n}\n\n/** Is object\n * @param x\n * @return {boolean|boolean}\n */\nfunction isObj(x) {\n    return x !== null && typeof x === \"object\";\n}\n\n/** Is Array\n * @param x\n * @return {boolean}\n */\nfunction isArr(x) {\n    return x instanceof Array\n}\n\n/** Is primitive isVal && !isObj && !isFun\n * @param x\n * @return {boolean}\n */\nfunction isPrim(x) {\n    return isVal(x) && !isObj(x) && !isFun(x) || typeof x === 'symbol';\n}\n\n/** Is List (has length property and item() function)\n * @param x\n * @return {boolean|boolean}\n */\nfunction isList(x) {\n    return isVal(x.length) && isFun(x.item)\n}\n\n/** Is MutableList (has length property, item() and add() functions)\n * @param x\n * @return {boolean}\n */\nfunction isMutableList(x) {\n    return isVal(x.length) && isFun(x.item) && isFun(x.add)\n}\n\n/** Is Set type\n * @param x\n * @return {boolean}\n */\nfunction isSet(x) {\n    return x instanceof Set\n}\n\n/** Is Map type\n * @param x\n * @return {boolean}\n */\nfunction isMap(x) {\n    return x instanceof Map\n}\n\n/** Is Error type\n * @param x\n * @return {boolean}\n */\nfunction isError(x) {\n    return x instanceof Error\n}\n\n/** Is Element/Node\n * @param x\n * @return {boolean}\n */\nfunction isEl(x) {\n    return x instanceof Element || x instanceof HTMLElement || x instanceof Node;\n}\n\n/** Is NodeList || HTMLCollection\n * @param x\n * @return {boolean}\n */\nfunction isEls(x) {\n    return x instanceof HTMLCollection || x instanceof NodeList;\n}\n\n/**\n * Object has field\n * @param {Object} obj - source object\n * @param {String} field - field/property name\n * @param {Function} [pred] - optional predicate function to check field\n * @return {boolean}\n */\nfunction hasField(obj, field, pred) {\n    if (!isVal(obj)) return false;\n    if (isFun(pred)) {\n        return pred(obj[field]);\n    }\n    return obj.hasOwnProperty(field);\n}\n\n/** Is Empty Array/List/Object/String\n * @param x\n * @return {boolean}\n */\nfunction isEmpty(x) {\n    if (hasField(x, 'length')) return x.length <= 0;\n    if (isFun(x)) return false;\n    if (isObj(x)) return Object.keys(x).length <= 0\n    return true;\n}\n\n/**\n * Custom Enum implementation\n *\n * @param src {Object | String[]}\n * @return {Object}\n * @constructor\n */\nfunction Enum(src) {\n    let c = 0;\n    let MAP = {};\n    for (let i of Object.keys(src)) {\n        MAP[MAP[c] = i] = c++;\n    }\n    return MAP;\n}\n\n/**\n * Deserialize sequence of key values (key, value, ...) into an object\n *\n * @param {any} args - key{String}, value{*} sequence\n * @return {Object}\n */\nfunction dict(...args) {\n    let o = {};\n    for (let i = 0; i < args.length; i++) {\n        if (i % 2 !== 0) continue;\n        o[args[i]] = args[i + 1]\n    }\n    return o;\n}\n\nmodule.exports = {\n    typeName,\n    isUnd, isNull, isVal,\n    isNum, isStr, isFun,\n    isObj, isArr, isPrim,\n    isList, isMutableList,\n    isSet,isMap, isError,\n    isEl, isEls, hasField,\n    isEmpty, Enum, dict\n};","/**\n * @module core/collections\n * @memberOf core\n */\n\nconst T = require(\"./types\");\n\nif (!global._X_LOOP_BREAK_) {\n    global._X_LOOP_BREAK_ = Symbol(\"BREAK_LOOP\");\n    global._X_ANY_ = Symbol(\"ANY\");\n    global._X_ALL_ = Symbol(\"ALL\");\n}\n/**\n * Break from functional loops: forEach, filter, ...\n * @type {symbol}\n */\nconst BREAK = global._X_LOOP_BREAK_;\n/**\n * Match Any: Used as value in predicate object\n * @type {symbol}\n */\nconst ANY = global._X_ANY_;\nconst ALL = global._X_ALL_;\nconst UNSAFE_PROPS = ['__proto__', 'constructor', '__defineGetter__', '__defineSetter__', 'prototype'];\n\n/**\n * Get item by index from multiple source types\n *\n * @param {Array|Object|String|NodeList|HTMLCollection} s - source\n * @param {Number|String} i - item index\n * @returns {any|null|undefined}\n */\nfunction item(s, i) {\n    if (!T.isVal(s)) return undefined;\n    if (T.isObj(s)) return s[i]\n    if (T.isStr(s)) return s[i]\n    if (T.isArr(s)) return s[i]\n    else return s.item(i)\n}\n\n/**\n * Source contains value or key:value\n *\n * @param {Array|Object|String} src\n * @param {any} value\n * @param {String|undefined} [key]\n * @returns {boolean}\n */\nfunction contains(src, value, key) {\n    if (!T.isVal(src)) return false;\n    if (!T.isArr(src) && T.isObj(src)) return src[key] === value;\n    return src.indexOf(value) >= 0;\n}\n\n/**\n * Add item(s) to source\n *\n * @param {Array|{add:Function}} src - source\n * @param {any} v - values\n */\nfunction add(src, ...v) {\n    if (T.isArr(src)) {\n        forEach(v, (vi) => src.push(vi))\n    } else if (T.isMutableList(src)) {\n        src.add(v);\n    }\n}\n\n/**\n * Remove item(s) from source\n *\n * @param {Array|String} src\n * @param {...any} it\n * @returns {boolean}\n */\nfunction remove(src, ...it) {\n    it = flatMap(it);\n    let any = false;\n    forEach(it, (item) => {\n        let idx = src.indexOf(item);\n        if (idx >= 0) {\n            any = true\n            src.splice(idx, 1);\n        }\n    });\n\n    return any;\n}\n\n/**\n * Toggles items in source\n *\n * @param {Array} src\n * @param {...any} c\n */\nfunction toggle(src, ...c) {\n    if (c.length === 0) return;\n    c = flatMap(c);\n    let idx = undefined;\n    if (c.length === 1) {\n        if (!remove(src, c)) {\n            add(src, c[0])\n        }\n    } else {\n        c.push(c[0]);\n        let any = false;\n        forEach(src, (cl, i) => {\n            idx = c.indexOf(cl);\n            if (idx >= 0 && c.length > (idx + 1)) {\n                any = true;\n                src[i] = c[idx + 1]\n            }\n        });\n        if (!any) {\n            src.push(c[0])\n        }\n    }\n}\n\nfunction objMatchOne(o, match) {\n    let m = Object.keys(match);\n    for (let k of m) {\n        // if (!T.isObj(o[k])) continue;\n        if (match[k] === ANY && o.hasOwnProperty(k)) return true;\n        if (match[k] === o[k]) return true;\n    }\n    return false\n}\n\nfunction objMatchAll(o, match) {\n    let m = Object.keys(match);\n    for (let k of m) {\n        // if (!T.isObj(o[k])) return false;\n        if (match[k] === ANY) continue;\n        if (match[k] !== o[k]) return false\n    }\n    return true\n}\n\nfunction predicate(f, def = () => true, inc = true) {\n    if (T.isUnd(f)) return def;\n    if (T.isFun(f)) return f;\n    else if (f instanceof RegExp) return (v, k, i, s) => !T.isObj(v) ? f.test(v.toString()) : false;\n    else if (T.isObj(f)) {\n        if (Object.keys(f).length === 0) return def;\n        return inc ? (v, k, i, s) => objMatchOne(v, f) : (v, k, i, s) => objMatchAll(v, f);\n    } else return (v, k, i, s) => v === f;\n}\n\nfunction funOrKey(f) {\n    if (T.isUnd(f)) return (v) => v;\n    if (T.isFun(f)) return f;\n    if (T.isStr(f)) {\n        const key = f;\n        f = (v) => v[key];\n    }\n    throw Error(`Predicate ${f} cannot be of type ${typeof f}`)\n}\n\n/**\n * Create empty instance of given source\n *\n * @param {any} src - source object\n * @param {any} def - default value for primitives\n * @returns {any} empty instance of src\n */\nfunction emptyOf(src, def = {}) {\n    if (T.isStr(src)) return \"\";\n    if (T.isList(src) || T.isArr(src)) return [];\n    if (T.isObj(src)) {\n        if (T.isEl(src)) {\n            if (src.nodeType === 3 || src.nodeType === 8) {\n                return document.createTextNode(src.textContent);\n            } else {\n                return document.createElement(src.tagName);\n            }\n        }\n        if (src.__proto__)\n            return Object.create(src.__proto__);\n        return {};\n    }\n    return def\n}\n\n/**\n * Type-agnostic concat. !!Mutates target!!\n *\n * @param {Array|String|Object} target\n * @param {Array|String|Object} source\n * @returns {Array|String|Object}\n */\nfunction concat(target, source, override=false) {\n    if (T.isStr(target)) {\n        return target.concat(source);\n    }\n    if (T.isArr(target)) {\n        return target.concat(source);\n    }\n\n    for (let k of Object.keys(source)) {\n        if (!target[k] || override)\n            target[k] = source[k];\n    }\n    return target\n}\n\n/**\n * Polyfill-like for Object.values (uses native method if available)\n *\n * @param {Object} obj\n * @returns {Array|undefined} - array of values\n */\nfunction objectValues(obj) {\n    if (Object.values) {\n        return Object.values(obj);\n    } else {\n        return map(obj, (v)=>v)\n    }\n}\n\n/**\n * Index for loop from \"init\" to \"finish\"(included) by \"step\"\n *\n * @param {Function} func\n * @param {Number} init\n * @param {Number} finish\n * @param {Number} [step]\n */\nfunction forN(func, init=0, finish=0, step=init<finish?1:-1) {\n    if (step>0) {\n        for (; init<=finish; init+=step) {\n            func(init)\n        }\n    }\n    for (; init>=finish; init+=step) {\n        func(init)\n    }\n}\n\n/**\n * forEach(left) with limited range\n *\n * @param {Array|Object|NodeList|HTMLCollection} src\n * @param {Function} func\n * @param {Number} [start]\n * @param {Number?} [end]\n * @returns {*|number}\n */\nfunction forEachRange(src, func, start = 0, end) {\n    if (!T.isArr(src) || !T.isStr(src)) {\n        let keys = Object.keys(src);\n        end = end || keys.length - 1\n        for (let i = start; i <= end; i++) {\n            let r = func(src[keys[i]], keys[i], i, src);\n            if (r === BREAK) return i;\n        }\n        return end;\n    }\n    end = end || src.length;\n    for (let i = start; i < end; i++) {\n        let r = func(item(src, i), i, i, src);\n        if (r === BREAK) return i;\n    }\n    return end\n}\n\n/**\n * Type-agnostic forEach loop\n *\n * @param src\n * @param func\n * @returns {number|*}\n */\nfunction forEach(src, func) {\n    if (!T.isVal(src)) return -1;\n    if (!T.isArr(src) || !T.isStr(src) || !T.isList(src)) {\n        let i = 0;\n        let keys = Object.keys(src);\n        const len = keys.length;\n        for (; i < len; i++) {\n            // let r = ;\n            const k = keys[i], v = src[k];\n            if (func(v, k, i, src) === BREAK) return i;\n        }\n        return i;\n    }\n    const len = src.length;\n    if (!T.isArr(src)) {\n        for (let i = 0; i < len; i++) {\n            const v = src[i];\n            let r = func(v, i, i, src);\n            if (r === BREAK) return i;\n        }\n    } else {\n        for (let i = 0; i < len; i++) {\n            const v = item(src, i);\n            let r = func(v, i, i, src);\n            if (r === BREAK) return i;\n        }\n    }\n    return src.length\n}\n\n/**\n * Type-agnostic forEachRight loop\n *\n * @param src\n * @param func\n * @param range\n * @returns {number|*}\n */\nfunction forEachRight(src, func, range = []) {\n    if (!T.isArr(src) || !T.isStr(src)) {\n        let i = 0;\n        let keys = Object.keys(src);\n        for (let i = keys.length - 1; i >= 0; i--) {\n            if (i < range[1]) continue;\n            if (i >= range[0]) return i;\n            let r = func(src[keys[i]], keys[i], i, src);\n            if (r === BREAK) return i;\n        }\n        return i;\n    }\n    for (let i = src.length - 1; i >= 0; i--) {\n        let r = func(item(src, i), i, i, src);\n        if (r === BREAK) return i;\n    }\n    return src.length\n}\n\n/**\n * Extended version of native indexOf method, using {@link forEach}\n * @see forEach\n * @param {Array|Object|String|NodeList|HTMLCollection} src\n * @param {Function|Object|Array} pred - predicate function/{key:value}/[keys]\n * @returns {number}\n */\nfunction firstIndex(src, pred) {\n    pred = predicate(pred, () => true);\n    let r = -1;\n    forEach(src, function (v, k, i) {\n        r = pred(v, k, i, src);\n        if (r === true) {\n            r = i;\n            return BREAK;\n        }\n    })\n    return r;\n}\n\n/**\n * Extended version of native first method, using {@link firstIndex}\n * @see firstIndex\n * @param {Array|Object|String|NodeList|HTMLCollection} src\n * @param {Function|Object|Array} [pred] - predicate function/{key:value}/[keys]\n * @returns {*}\n */\nfunction first(src, pred) {\n    return item(src, firstIndex(src, pred))\n}\n\n/**\n * Returns true if first item matches predicate\n *\n * @param {Array|Object|String|NodeList|HTMLCollection} src\n * @param {Function|Object|Array} [pred] - predicate function/{key:value}/[keys] pred\n * @returns {boolean|*}\n */\nfunction startsWith(src, pred) {\n    if (T.isStr(src) && T.isStr(pred)) {\n        return src.indexOf(pred) === 0\n    }\n    pred = predicate(pred, () => true);\n    return pred(first(src))\n}\n\n/**\n *\n * @param {Array|Object|String|NodeList|HTMLCollection} src\n * @param {Function|Array|Object} pred\n * @returns {number}\n */\nfunction lastIndex(src, pred) {\n    pred = predicate(pred, () => true);\n    let r = -1;\n    forEachRight(src, function (v, k, i) {\n        r = pred(v, k, i);\n        if (r === true) {\n            r = i;\n            return BREAK;\n        }\n    })\n    return r;\n}\n\n/**\n *\n * @param {Array|Object|String|NodeList|HTMLCollection} src\n * @param {Function|Array|Object} [pred]\n * @returns {*}\n */\nfunction last(src, pred) {\n    return src[lastIndex(src, pred)]\n}\n\n/**\n *\n * @param {Array|Object|String|NodeList|HTMLCollection} src\n * @param {Function|Array|Object} pred\n * @returns {boolean|*}\n */\nfunction endsWith(src, pred) {\n    if (T.isStr(src) && T.isStr(pred)) {\n        return src.indexOf(pred) === src.length - pred.length\n    }\n    pred = predicate(pred, () => true);\n    return pred(last(src))\n}\n\n/**\n * Reverse array-like src\n *\n * @param {Array|Object|String|NodeList|HTMLCollection} src\n * @returns {Array|Object|String|NodeList|HTMLCollection} - reversed src\n */\nfunction reverse(src) {\n    if (T.isArr(src)) return src.reverse();\n    let rev = \"\";\n    forEachRight(src, function (it) {\n        rev += it;\n    });\n    return rev;\n}\n\n/**\n * A more versatile alternative to native \"some\" method\n *\n * @param {Array|Object|String|NodeList|HTMLCollection} src\n * @param {Function|Array|Object} pred\n * @returns {boolean}\n */\nfunction any(src, pred) {\n    // if (!func){\n    //     if (T.isArr(src) || T.isStr(src)) return src.length>0;\n    //     return Object.keys(src).length>0;\n    // }\n    let fn = predicate(pred);\n    let r = false;\n    forEach(src, function (v, k, i, src) {\n        r = fn(v, k, i, src);\n        if (r === true) return BREAK;\n    });\n    return r;\n}\n\n/**\n * A more versatile alternative to native \"every\" method\n *\n * @param {Array|Object|String|NodeList|HTMLCollection} src\n * @param {Function|Array|Object} pred\n * @returns {boolean}\n */\nfunction all(src, pred) {\n    pred = predicate(pred, () => true);\n    let r = true;\n    forEach(src, function (v, k, i, src) {\n        r = pred(v, k, i, src);\n        if (r === false) return BREAK;\n    })\n    return r;\n}\n\nfunction filterStr(src, pred, right = false, omit = false) {\n    pred = predicate(pred, () => true);\n    let res = \"\";\n    let loop = right ? forEachRight : forEach;\n    loop(src, function (v, k, i) {\n        if (!pred || pred(v, k, i, src) === omit) res += v;\n    });\n    return res;\n}\n\nfunction filterObj(src, pred, right = false, omit = false) {\n    if (T.isArr(pred)) {\n        let a = Object.assign({}, pred)\n        if (omit) pred = (v, k) => !any(a, k);\n        else pred = (v, k) => any(a, k);\n    } else\n        pred = predicate(pred, () => true);\n    let res = {};\n    // let loop = right ? ForEachRight : ForEach;\n    const keys = Object.keys(src);\n    const len = keys.length;\n\n    if (!right) {\n        for (let i = 0; i < len; i++) {\n            const k = keys[i]\n            const v = src[k]\n            if (pred(v, k, i, src) !== omit) res[k] = v;\n        }\n    } else {\n        for (let i = len-1; i >=0; i--) {\n            const k = keys[i]\n            const v = src[k]\n            if (pred(v, k, i, src) !== omit) res[k] = v;\n        }\n    }\n\n    // loop(src, function (v, k, i) {\n    //     if (pred(v, k, i, src) !== omit) res[k] = v;\n    // });\n    return res;\n}\n\nfunction filterArr(src, pred, right = false, omit = false) {\n    if (T.isArr(pred)) {\n        let a = Object.assign([], pred)\n        if (omit) pred = (v, k, i) => !any(a, i);\n        else pred = (v, k, i) => any(a, i);\n    } else\n        pred = predicate(pred, () => true);\n    let res = [];\n    const len = src.length;\n    if (!right) {\n        for (let i = 0; i < len; i++) {\n            const v = src[i]\n            if (pred(v, i, i, src) !== omit) {\n                res.push(v);\n            }\n        }\n    } else {\n        for (let i = len - 1; i >= 0; i--) {\n            const v = src[i]\n            if (!pred(v, i, i, src) !== omit) {\n                res.push(v);\n            }\n        }\n    }\n    return res;\n}\n\n/**\n * A more versatile alternative to native \"filter\" method\n *\n * @param {Array|Object|String|NodeList|HTMLCollection} src - source\n * @param {Function|Array|Object} pred - predicate function/{key:value}/[keys]\n * @param {boolean} [right] - reverse loop\n * @returns {Array|Object|String}\n */\nfunction filter(src, pred, right = false) {\n    if (T.isStr(src)) return filterStr(src, pred, right);\n    if (T.isArr(src) || T.isList(src)) return filterArr(src, pred, right);\n    return filterObj(src, pred, right);\n}\n\n/**\n * Opposite of filter, returns items not matching predicate\n *\n * @param {Array|Object|String|NodeList|HTMLCollection} src - source\n * @param {Function|Array|Object} pred - predicate function/{key:value}/[keys]\n * @param {boolean} [right] - reverse loop\n * @returns {Array|Object|String}\n */\nfunction omit(src, pred, right = false) {\n    if (T.isStr(src)) return filterStr(src, pred, right, true);\n    if (T.isArr(src) || T.isList(src)) return filterArr(src, pred, right, true);\n    return filterObj(src, pred, right, true);\n}\n\n/**\n * {@link filter} in reverse order (right)\n *\n * @param {Array|Object|String|NodeList|HTMLCollection} src - source\n * @param {Function|Array|Object} pred - predicate function/{key:value}/[keys]\n * @returns {Array|Object|String}\n */\nfunction filterRight(src, pred) {\n    return filter(src, pred, true);\n}\n\n/**\n * Find max index\n *\n * @param {Array|Object|String|NodeList|HTMLCollection} list\n * @param {Function|String} pred - predicate function/key\n * @return {number}\n */\nfunction maxIndex(list, pred) {\n    pred = funOrKey(pred);\n    let mx;\n    let index = -1;\n    forEach(list, function (i, ix) {\n        let x = pred(i, ix);\n        if (!mx) {\n            mx = x;\n            index = ix;\n        } else if (x >= mx) {\n            mx = x;\n            index = ix;\n        }\n    });\n    return index;\n}\n\n/**\n * Find max\n *\n * @param {Array|Object|String|NodeList|HTMLCollection} list\n * @param {Function|String} pred - predicate function/key\n * @return {number}\n */\nfunction max(list, pred) {\n    return list[maxIndex(list, pred)];\n}\n\n/**\n * Find min index\n *\n * @param {Array|Object|String|NodeList|HTMLCollection} list\n * @param {Function|String} pred - predicate function/key\n * @return {number}\n */\nfunction minIndex(list, pred) {\n    pred = funOrKey(pred);\n    let mn;\n    let index = -1;\n    forEach(list, function (i, ix) {\n        let x = pred(i, ix);\n        if (!mn) {\n            mn = x;\n            index = ix;\n        } else if (x <= mn) {\n            mn = x;\n            index = ix;\n        }\n    });\n    return index;\n}\n\n/**\n * Find min\n *\n * @param {Array|Object|String|NodeList|HTMLCollection} list\n * @param {Function|String} pred - predicate function/key\n * @return {number}\n */\nfunction min(list, pred) {\n    return list[minIndex(list, pred)];\n}\n\nfunction mapArr(src, func, right = false) {\n    let res = [];\n    // let loop = right ? ForEachRight : ForEach;\n    const len = src.length;\n    if (!right) {\n        for (let i=0; i<len; i++) {\n            let r = func(src[i], i, src);\n            if (r === BREAK) break;\n            if (!T.isUnd(r))\n                res.push(r);\n        }\n    } else {\n        for (let i=len; i>=0; i--) {\n            let r = func(src[i], i, src);\n            if (r === BREAK) break;\n            if (!T.isUnd(r))\n                res.push(r);\n        }\n    }\n    // loop(src, function (a, i) {\n    //     let r = func(a, i, src);\n    //     if (!T.isUnd(r))\n    //         res.push(r);\n    // });\n    return res;\n}\n\nfunction mapObj(src, func, right = false) {\n    let res = {};\n    // let loop = right ? ForEachRight : ForEach;\n    const keys = Object.keys(src);\n    const len = src.length;\n    if (!right) {\n        for (let i=0; i<len; i++) {\n            const k = keys[i];\n            const v = src[k];\n            let r = func(v, k, i, src);\n            if (r === BREAK) break;\n            if (!T.isUnd(r))\n                res[k] = r\n        }\n    } else {\n        for (let i=len; i>=0; i--) {\n\n            const k = keys[i];\n            const v = src[k];\n            let r = func(v, k, i, src);\n            if (r === BREAK) break;\n            if (!T.isUnd(r))\n                res[k] = r\n        }\n    }\n    // loop(src, function (v, k, i) {\n    //     let r = func(v, k, i, src);\n    //     if (!T.isUnd(r))\n    //         res[k] = r\n    // });\n    return res;\n}\n\n/**\n * A more versatile alternative to native \"map\" method\n *\n * @param {Array|Object|String|NodeList|HTMLCollection} src - source\n * @param {Function|Array|Object} transform - transformer function\n * @param {boolean} [right] - reverse loop\n * @returns {Array|Object|String}\n */\nfunction map(src, transform, right = false) {\n    transform = predicate(transform, (v) => v);\n    if (T.isArr(src)) return mapArr(src, transform, right);\n    else if (T.isObj(src)) return mapObj(src, transform, right);\n}\n\n/**\n * A more versatile alternative to native \"flatMap\" method, flattens first level items\n *\n * @param {Array|Object|String|NodeList|HTMLCollection} src - source\n * @param {Function|Array|Object} [transform] - transformer function\n * @returns {Array|Object|String}\n */\nfunction flatMap(src, transform) {\n    let res;\n    if (T.isStr(src)) res = \"\"\n    else if (T.isArr(src)) res = []\n    else res = {};\n    forEach(src, function (a, i) {\n        let f;\n        if (!!transform) {\n            f = transform(a, i, src);\n        } else {\n            if (!T.isArr(res) && T.isObj(res)) {\n                f = {};\n                f[i] = a;\n            } else {\n                f = a\n            }\n        }\n        res = concat(res, f);\n    });\n    return res;\n}\n\n/**\n * A more versatile alternative to native \"reduce\" method\n *\n * @param {any} src - source\n * @param {Function|Array|Object} func - reducer function\n * @param {any} [acc] - accumulator\n * @returns {any}\n */\nfunction reduce(src, func, acc = src) {\n    if (T.isUnd(func)) {\n        func = (rs, v) => rs + v\n    }\n    forEach(src, (v, k, src) => {\n        acc = func(acc, v, k, src);\n    });\n    return acc\n}\n\n/**\n * {@link reduce} in reverse\n * @see reduce\n * @param {any} src - source\n * @param {Function|Array|Object} func - reducer function\n * @param {any} [acc] - accumulator\n * @returns {any}\n */\nfunction reduceRight(src, func, acc = src) {\n    forEachRight(src, (v, k, src) => {\n        acc = func(acc, v, k, src);\n    });\n}\n\n/**\n * Randomly shuffle array's items\n * @param {ArrayLike} arrayLike\n */\nfunction shuffle(arrayLike) {\n    return Array.prototype.sort.call(arrayLike, ()=>Math.random()-0.5)\n}\n\n/**\n * Sort array ascending with optional field parameter\n * @param {ArrayLike} arrayLike\n * @param {Function} [fieldFn]\n * @param {String} [locale]\n */\nfunction sortAsc(arrayLike, fieldFn, locale='en') {\n    let compare = fieldFn?function (a,b){\n        return (''+fieldFn(a)).localeCompare(''+fieldFn(b),locale)\n    }:undefined\n    return Array.prototype.sort.call(arrayLike, compare)\n}\n\n/**\n * Sort array descending with optional field parameter\n * @param {ArrayLike} arrayLike\n * @param {Function} [fieldFn]\n * @param {String} [locale]\n */\nfunction sortDesc(arrayLike, fieldFn, locale='en') {\n    let compare = fieldFn?function (a,b){\n        return (''+fieldFn(b)).localeCompare(''+fieldFn(a),locale)\n    }:undefined\n    return Array.prototype.sort.call(arrayLike, compare)\n}\n\n/**\n * Extract single key-value pairs from object\n *\n * @param object\n * @return {Object[]}\n */\nfunction keyValuePairs(object) {\n    let entries = [];\n    forEach(object, (v, k) => {\n        entries.push(T.dict(k, v));\n    });\n    return entries;\n}\n\n/**\n * Like Object.entries extracts key-value pairs as [[key1,value1],[key2,value2],...]\n *\n * @param {Object} object\n * @return {Array[]}\n */\nfunction entries(object) {\n    let entries = [];\n    forEach(object, (v, k) => {\n        entries.push([k, v]);\n    });\n    return entries;\n}\n\n/**\n * Translate(rename) object fields using dict parameter, omitting undefined keys\n * @param {Object} source\n * @param {Object|Array} dict\n * @return {Array|Object|String}\n */\nfunction translateObject(source, dict) {\n    if (T.isArr(dict)) {\n        filter(source, dict);\n    }\n    const keys = Object.keys(dict);\n    let res = filter(source, keys);\n    for (let key of keys) {\n        res[dict[key]] = res[key];\n        delete res[key];\n    }\n    return res;\n}\n\n/**\n * Recursive deep merge {@param target} with {@param source}\n *\n * @param {Object|Array} target\n * @param {Object|Array} source\n * @param {Array} excludeKeys - keys to be skipped while merging\n * @param maxDepth - maximum recursive depth\n * @param allowUnsafeProps - allow unsafe properties like __proto__\n * @return {Object|Array}\n */\nfunction deepMerge(target,\n                   source,\n                   {\n                       excludeKeys = [],\n                       maxDepth = 999,\n                       allowUnsafeProps = false\n                   } = {excludeKeys: [], maxDepth: 999, allowUnsafeProps: false},\n                   depth = 0) {\n    if (depth >= maxDepth) return target;\n    forEach(source, (v, k) => {\n        if (excludeKeys && contains(excludeKeys, k)) return;\n        if (allowUnsafeProps && contains(UNSAFE_PROPS, k)) return;\n        if (T.isObj(source[k])) {\n            target[k] = deepMerge(emptyOf(source[k]), source[k], {excludeKeys, maxDepth, depth: depth + 1});\n        } else\n            target[k] = v\n    });\n    return target;\n}\n\n/**\n * Recursive deep clone {@param source}\n * @see deepMerge\n *\n * @param {Object|Array} source\n * @param {Array} excludeKeys - keys to be skipped while merging\n * @param {Number} [maxDepth] - maximum recursive depth\n * @param {boolean} [allowUnsafeProps] - allow unsafe properties like __proto__\n * @return {Object|Array}\n */\nfunction deepClone(source,\n                   {\n                       excludeKeys = [],\n                       maxDepth = 999,\n                       allowUnsafeProps = false\n                   } = {excludeKeys: [], maxDepth: 999, allowUnsafeProps: false},) {\n    return deepMerge(emptyOf(source), source, {excludeKeys, maxDepth, allowUnsafeProps})\n}\n\nfunction _keyGen(key, fnName) {\n    let keyGen = key\n    if (T.isStr(key)) {\n        keyGen = (item)=> item[key]\n    } else if (T.isArr(key)) {\n        keyGen = (item) => reduce(item, (res, v, k)=> {\n            if (contains(key, k)) {\n                return res + v;\n            }\n        }, \"\")\n    } else if (!T.isFun(key)) {\n        throw Error(`${fnName} key only accepts: String, [String,...], Function`)\n    }\n    return keyGen;\n}\n\n/**\n * Join arrays of objects based on a generated or static key\n *\n * @param {Function|String} key\n * @param {Object[]} lists\n * @return {Object}\n */\nfunction join(key, ...lists) {\n    if (lists.length === 0) return [];\n    if (!all(lists, T.isArr)) throw Error(\"Join only accepts arrays of data!\");\n    let keyGen = _keyGen(key, \"Join\")\n    const joined = {};\n    forEach(lists, (list)=>{\n        forEach(list, (item) => {\n            const joinKey = keyGen(item);\n            const presentValue = joined[joinKey];\n            if (!presentValue) {\n                joined[joinKey] = item;\n            } else {\n                joined[joinKey] = concat(presentValue, item)\n            }\n        });\n    })\n\n    return (joined)\n\n}\n\n/**\n * Group arrays based on generated or static key(s)\n *\n * @param {Function|String} key\n * @param {Object[]} lists\n * @return {Object}\n */\nfunction groupBy(key, ...lists) {\n    if (lists.length === 0) return {};\n    if (!all(lists, T.isArr)) throw Error(\"GroupBy only accepts arrays of data!\");\n    let keyGen = _keyGen(key, \"GroupBy\")\n    const group = {};\n    forEach(lists, (list)=>{\n        forEach(list, (item) => {\n            const joinKey = keyGen(item);\n            const presentValue = group[joinKey];\n            if (!presentValue) {\n                group[joinKey] = [item];\n            } else {\n                group[joinKey] = concat(presentValue, item)\n            }\n        });\n    })\n\n    return (group)\n\n}\n\n// noinspection JSUnusedGlobalSymbols\nmodule.exports = {\n    ANY, ALL, BREAK, item, contains, add, remove, toggle, concat, emptyOf, objMatchOne, objMatchAll,\n    deepMerge, deepClone, forN, forEachRange, forEach, forEachRight, firstIndex, first,\n    startsWith, lastIndex, last, endsWith, reverse, any, all, filter, filterRight, reduce, reduceRight,\n    map, flatMap, keyValuePairs, entries, maxIndex, max, minIndex, min, shuffle, sortAsc, sortDesc,\n    translateObject, omit, join, groupBy, objectValues\n}","// const {Enum} = require(\"./types\");\n\n/**\n * @module core/logging\n * @memberOf core\n */\n\n/** @private */\nfunction _logTime() {\n    let t = new Date();\n    return `${t.getHours()}:${t.getMinutes()}:${t.getSeconds()}:${t.getMilliseconds()}`;\n}\n\n/** @private */\nfunction _logTitle(flag) {\n    return `[${flag}] [${_logTime()}]`;\n}\n\n/** @private */\nfunction _prepareLog(args, lt) {\n    args.reverse();\n    args.push(\"display: inline-block; font-weight: bold; color: black\", \"%c\"+lt);\n    args.reverse();\n}\n\n/**\n * @type {Object}\n */\nconst LogLevels = {TRACE:0, INFO:1, WARN:2, ERROR:3, SILENT:-1};\n/**\n * Log config\n * @type {{LogLevel: *}}\n */\nconst Config = {\n    LogLevel : LogLevels.TRACE\n}\n\n/** Set `Config.LogLevel` to TRACE */\nfunction showTrace() {Config.LogLevel = LogLevels.TRACE;}\n\n/** Set `Config.LogLevel` to INFO */\nfunction showInfo() {Config.LogLevel = LogLevels.INFO;}\n\n/** Set `Config.LogLevel` to WARN */\nfunction showWarn() {Config.LogLevel = LogLevels.WARN;}\n\n/** Set `Config.LogLevel` to ERROR */\nfunction showError() {Config.LogLevel = LogLevels.ERROR;}\n\n/** Set `Config.LogLevel` to SILENT */\nfunction silent() {Config.LogLevel = LogLevels.SILENT;}\n\n/** Set Config.LogLevel\n * @param l - LogLevel */\nfunction lvl(l) {\n    return Config.LogLevel !== LogLevels.SILENT && Config.LogLevel <= l\n}\n\n/**\n * Log Trace\n * @param {any} args\n */\nfunction trace(...args) {\n    if (!lvl(LogLevels.TRACE)) return;\n    args.reverse();\n    args.push(_logTitle(\" TRACE\"));\n    args.reverse();    // args.push(\"\\n\");\n    console.trace.apply(this, args);\n}\n/**\n * Log Info\n * @param {any} args\n */\nfunction info(...args) {\n    if (!lvl(LogLevels.INFO)) return;\n    _prepareLog(args, _logTitle(\" INFO\"));\n    console.log.apply(this, args);\n}\n/**\n * Log Warning\n * @param {any} args\n */\nfunction warn(...args) {\n    if (!lvl(LogLevels.WARN)) return;\n    _prepareLog(args, _logTitle(\" WARN\"));\n    console.warn.apply(this, args);\n}\n/**\n * Log Error\n * @param {any} args\n */\nfunction error(...args) {\n    if (!lvl(LogLevels.ERROR)) return;\n    _prepareLog(args, _logTitle(\" ERROR\"));\n    console.error.apply(this, args);\n}\n\nmodule.exports = {\n    Config,\n    LogLevels,\n    showTrace, showInfo, showWarn, showError, silent, trace, info, warn, error\n};","/**\n * @module\n * @memberOf core\n */\n/**\n * @static\n * @param name\n * @returns {string}\n */\nfunction kebab(name) {\n    let kb = \"\";\n    let pres = false;\n    for (let i=0;i<name.length; i++) {\n        let c = name.charAt(i);\n        if (c === '_') {\n            kb += '-';\n            pres = true;\n            continue;\n        }\n        if (c >= 'A' && c <= 'Z') {\n            if (i>0 && !pres) {\n                kb+='-';\n            }\n        }\n        kb+=c.toLowerCase();\n        pres = false;\n    }\n    return kb;\n}\n/**\n * @static\n * @param name\n * @returns {string}\n */\nfunction snake(name) {\n    let snk = \"\";\n    let pres = false;\n    for (let i=0;i<name.length; i++) {\n        let c = name.charAt(i);\n        if (c === '-') {\n            snk += '_';\n            pres = true;\n            continue;\n        }\n        if (c >= 'A' && c <= 'Z') {\n            if (i>0 && !pres) {\n                snk+='_';\n            }\n        }\n        snk+=c.toLowerCase();\n        pres = false;\n    }\n    return snk;\n}\n/**\n * @static\n * @param name\n * @returns {string}\n */\nfunction camel(name) {\n    let cml = \"\";\n    let pres = false;\n    for (let i=0;i<name.length; i++) {\n        let c = name.charAt(i);\n        if (c === '-' || c === '_') {\n            pres = true;\n        } else if (pres === true) {\n            cml+=c.toUpperCase();\n            pres = false;\n        } else {\n            if (i === 0) {\n                cml += c.toLowerCase();\n            } else {\n                cml += c;\n            }\n        }\n    }\n    return cml;\n}\n/**\n * @static\n * @param name\n * @returns {string}\n */\nfunction pascal(name) {\n    let psc = \"\";\n    let pres = false;\n    for (let i=0;i<name.length; i++) {\n        let c = name.charAt(i);\n        if (c === '-' || c === '_') {\n            pres = true;\n        } else if (pres === true) {\n            psc+=c.toUpperCase();\n            pres = false;\n        } else {\n            if (i === 0) {\n                psc += c.toUpperCase();\n            } else {\n                psc += c;\n            }\n        }\n    }\n    return psc;\n}\n\nmodule.exports = {kebab, camel, pascal, snake}","const decimalRegex = /^[-+]?\\d*(\\.\\d+|\\d*)(e[-+]?\\d+)?$/\nconst hexRegex = /^[-+]?[a-f0-9]+$/\nconst octRegex = /^[-+]?[0][0-7]+$/\nconst binRegex = /^[-+]?[01]+$/\nconst emailRegex = /^[a-z0-9]([a-z0-9._%-+][a-z0-9]|[a-z0-9])*@[a-z0-9]([a-z0-9.-][a-z0-9]|[a-z0-9])*\\.[a-z]{2,6}$/i\n/**\n * @module core/strings\n * @memberOf core\n */\n\n\n/**\n * String is decimal number\n * @param {String} str\n * @return {boolean}\n */\nfunction isDecimal(str) {\n    return decimalRegex.test(str);\n}\n\n/**\n * String is binary number\n * @param {String} str\n * @return {boolean}\n */\nfunction isBinary(str) {\n    return binRegex.test(str);\n}\n\n/**\n * String is octal number\n * @param {String} str\n * @return {boolean}\n */\nfunction isOctal(str) {\n    return octRegex.test(str);\n}\n\n/**\n * String is hexadecimal number\n * @param {String} str\n * @return {boolean}\n */\nfunction isHex(str) {\n    return hexRegex.test(str);\n}\n\n/**\n * String is valid email address\n * @param {String} str\n * @return {boolean}\n */\nfunction isEmail(str) {\n    return emailRegex.test(str);\n}\n\n/**\n * String starts with sequence polyfill\n * @param {String} str\n * @param {String} seq\n * @return {boolean}\n */\nfunction startsWith(str, seq) {\n    return str.indexOf(seq) === 0;\n}\n\n/**\n * String ends with sequence polyfill\n * @param {String} str\n * @param {String} seq\n * @return {boolean}\n */\nfunction endsWith(str, seq) {\n    return str.indexOf(seq) === seq.length-1;\n}\n\n/**\n * String contains sequence\n * @param {String} str\n * @param {String} seq\n * @return {boolean}\n */\nfunction contains(str, seq) {\n    return str.indexOf(seq)>=0;\n}\n\nmodule.exports = {isDecimal, isHex, isOctal, isBinary, isEmail,startsWith, endsWith, contains};","const T = require(\"./types\");\n\nclass Queryable {\n    constructor() {\n        this.__src__ = undefined\n        this.keys = undefined\n    }\n\n    get count() {\n        return this.keys.length\n    }\n\n    static of(s) {\n        let c = new Queryable();\n        c.__src__ = s;\n        c.keys = Object.keys(s);\n        c.len = c.keys.length;\n        return c\n    }\n\n    slice(start = 0, end = this.count-1) {\n        this.keys = this.keys.slice(start, end);\n    }\n\n    key(i=0) {\n        return this.keys[i]\n    }\n\n    value(i = 0) {\n        return this.__src__[this.key(i)]\n    }\n    loop(f, reverse = false) {\n        if (reverse) {\n            for (let i=this.count-1; i>=0; i--) {\n                if (f(this.value(i), this.key(i), i) === null) break;\n            }\n        } else {\n            for (let i=0; i<this.count; i++) {\n                if (f(this.value(i), this.key(i), i) === null) break;\n            }\n        }\n        return this;\n    }\n    values(reverse = false) {\n        let vs = [];\n        this.loop(function (v, k, i) {\n            vs.push(v)\n        }, reverse);\n        return vs;\n    }\n\n    item(i) {\n        if (i === undefined) return undefined;\n        if (T.isArr(this.__src__)) return this.value(i);\n        let o = {};\n        o[this.key(i)] = this.value(i);\n        return o;\n    }\n\n    asObject() {\n        // if (T.isArr(this.__src__)) return this.values();\n        let o = {};\n        this.loop(function (v, k, i) {\n            o[k] = v\n        })\n        return o;\n    }\n\n    asArray(reverse = false) {\n        return this.values(reverse)\n    }\n\n    filter(f, reverse = false) {\n        let nk = [];\n        this.loop(function (v, k, i) {\n            let r = f(v, k, i);\n            if (r === true) {\n                nk.push(k);\n            } else if (r === null) return null;\n        }, reverse);\n        this.keys = nk;\n        return this;\n    }\n\n    map(f, reverse = false) {\n        let arr = []\n        this.loop(function (v, k, i) {\n            arr.push(f(v, k, i));\n        }, reverse)\n        return arr;\n    }\n\n    any(f) {\n        let r = false;\n        this.loop(function (v, k, i) {\n            r = f(v, k, i);\n            if (r === true) {\n                return null;\n            }\n        });\n        return r;\n    }\n\n    all(f) {\n        let r = true;\n        this.loop(function (v, k, i) {\n            r = f(v, k, i);\n            if (r === false) {\n                return null;\n            }\n        });\n        return r;\n    }\n\n    first(f) {\n        if (!f) { return this.item(0) }\n        let it;\n        this.loop(function (v, k, i) {\n            if (f(v, k, i) === true) {\n                it = i;\n                return null;\n            }\n        });\n        return this.item(it);\n    }\n\n    last(f) {\n        if (!f) { return this.item(this.count-1) }\n        let it;\n        this.loop(function (v, k, i) {\n            if (f(v, k, i) === true) {\n                it = i;\n                return null;\n            }\n        }, true);\n        return this.item(it);\n    }\n}\n\nmodule.exports = {Queryable};","/**\n * @module\n * @memberOf core\n */\n\nfunction bodyOf(func) {\n    let match = func.toString().match(/{[\\w\\W]*}/)\n    return match===null?func.toString():match[0]\n}\n\n/**\n * Check if function bodies are equal\n * @param {Function} f1\n * @param {Function} f2\n * @return {boolean}\n */\nfunction funcBodyEquals(f1, f2) {\n    return bodyOf(f1) === bodyOf(f2)\n}\n\n/**\n * Throttle function execution.\n * {@link https://css-tricks.com/debouncing-throttling-explained-examples/}\n *\n * @param {Function} func - function\n * @param {Number} intervalMs\n * @return {Function} - throttled function\n */\nfunction throttle(func, intervalMs) {\n    var ___last___ = new Date().getTime();\n    function throttled(args) {\n        if (new Date().getTime()-___last___ >= intervalMs) {\n            ___last___ = new Date().getTime();\n            func.call(this, args);\n        }\n    }\n    return throttled;\n}\n\n/**\n * Debounce function execution.\n * {@link https://css-tricks.com/debouncing-throttling-explained-examples/}\n *\n * @param {Function} func - function\n * @param {Number} afterMs - milliseconds after last call\n * @return {Function} - debounced function\n */\nfunction debounce(func, afterMs) {\n    var ___timeout___ = null;\n\n    function debounced(...args) {\n        clearTimeout(___timeout___);\n        ___timeout___ = setTimeout(function (_this) {\n            return func.apply(_this, args)\n        }, afterMs, this)\n\n    }\n\n    debounced.flush = function (...args) {\n        clearTimeout(___timeout___)\n        return func.apply(this, args)\n    }\n    return debounced\n}\n\n/**\n * Bind args to function and return a no-arg function\n * @param {Function} func - source function\n * @param {any[]} args - array of arguments to bind\n * @return {Function}\n */\nfunction bindArgs(func, args) {\n    return function () {return func.apply(this,args)}\n}\n\nfunction once(func) {\n    var called = false\n    return function () {\n        if (!called) {\n            called = true\n            return func.apply(this, arguments)\n        }\n    }\n}\nmodule.exports = {\n    funcBodyEquals,\n    throttle,\n    debounce,\n    bindArgs,\n    once\n}","let collections = require('./collections');\nlet logging = require('./logging');\nlet types = require('./types');\nlet cases = require('./cases');\nlet strings = require('./strings');\nlet queryable = require('./queryable');\nlet functions = require('./functions');\nmodule.exports = {\n    ...collections,\n    ...logging,\n    ...types,\n    ...cases,\n    ...strings,\n    ...queryable,\n    ...functions\n}\n/**\n * @namespace core\n */\n","/**\n * @module DOM\n * @memberOf dom\n */\n\nconst {isEl, isEls, isStr, isVal} = require(\"../core/types\");\nconst L = require(\"../core/logging\");\nconst {cls} = require(\"../dom/classes\");\n//\n// import {isEl, isEls, isStr, isVal} from \"../core/types\";\n// import {error} from \"../core/logging\";\n// import {cls} from \"../dom/classes\";\n//\n/**\n * jQuery-like select \"all\" by query accepts element, nodes or query\n * @param {String|HTMLElement|Element|Node|HTMLCollection|NodeList} q - query string\n * @param {HTMLElement|Element|Node} [root] - root which query is issued from\n * @return {Array}\n */\nfunction $(q, root = document) {\n    if (isEl(q)) return Array.of(q);\n    if (isEls(q)) return Array.from(q);\n    if (!isStr(q)) {\n        L.error(`Query is not string nor element X.$(${q})`);\n        return null;\n    }\n    if (!isEl(root)) {\n        L.error(`Query root is not a node!\\t[X.$(${q}, ${root})]`);\n        return null;\n    }\n    return Array.from(root.querySelectorAll(q));\n}\n\n/**\n * jQuery-like select \"one\" by query accepts element, node or query\n * @param {String|HTMLElement|Element|Node} q - query string\n * @param {HTMLElement|Element|Node} [root] - root which query is issued from\n * @return {Array} - returns array of length=1\n */\nfunction $$(q, root = document) {\n    if (isEl(q)) return Array.of(q);\n    if (!isStr(q)) {\n        L.error(`Query is not string nor element X.$$(${q})`);\n        return null;\n    }\n    if (!isEl(root)) {\n        L.error(`Query root is not a node!\\t[X.$(${q}, ${root})]`);\n        return null;\n    }\n    return Array.of(root.querySelector(q));\n}\n\n/**\n * Generate relative query of given element/node\n * @param {HTMLElement|Element|Node} e - element/node\n * @param {HTMLElement|Element|Node} maxParent - parent where the query relates to\n * @return {String} - query relative to maxParent\n */\nfunction queryOf(e, maxParent, q) {\n    if ((!isVal(e) || !isEl(e))) {\n        L.error(`\\nQuery generator's first parameter must be Element/Node! CAUSE: X.queryOf(${e}, ${maxParent})`);\n        return null;\n    }\n    maxParent = maxParent || document.body;\n    let gen = e.tagName;\n    q = q || \"\";\n\n    if (e.id) {\n        gen += e.id ? ('#' + e.id) : \"\";\n        return gen + (!(q === \"\") ? ' ' + q : \"\");\n    }\n\n    cls(e).items.forEach(function (value) {\n        gen = gen + (value !== '' ? '.' + value : '')\n    });\n\n    if (gen) {\n        let sibs = $(gen, e.parentElement);\n        if (sibs.length>1) {\n            let idx = Array.from(e.parentElement.children).findIndex(function (i) {\n                return e === i;\n            });\n\n            if (idx > 0) {\n                gen = gen + \":nth-child(\"+(idx+1)+\")\";\n            }\n        }\n    }\n    if (e.parentElement && (e.parentElement !== maxParent) && e.parentElement !== document) {\n\n        return (queryOf(e.parentElement, maxParent) + \" > \" + gen) + (!(q === \"\") ? ' ' + q : \"\");\n    } else {\n        return gen + (!(q === \"\") ? ' ' + q : \"\");\n    }\n}\n\nmodule.exports = {$, $$, queryOf};","/**\n * @module DOM\n * @memberOf dom\n */\nconst T = require(\"../core/types\");\nconst {toggle, any, all, contains, filter, flatMap, forEach} = require(\"../core/collections\");\n\n/**\n * Element classes CRUD wrapper\n * @memberOf dom\n */\nclass Classes {\n    /**\n     * Split element `className`\n     * @param className\n     * @return {String[]}\n     */\n    static split(className) {\n        return className.trim().replace(/\\s+/,' ').split(' ');\n    }\n\n    /**\n     * @param {HTMLElement|Element|Node} e - element\n     */\n    constructor(e) {\n        this.element = e;\n        Object.defineProperty(this, 'items', {\n            get() {\n                return this.classes;\n            },\n            set(v) {\n                let upd = false;\n                if (this.classes) upd = true;\n                if (!T.isVal(v) || T.isEmpty(v)) this.classes = [];\n                else if (T.isArr(v)) this.classes = v;\n                else if (T.isStr(v)) this.classes = Classes.split(v);\n                else if (v instanceof DOMTokenList) this.classes = Array.from(v);\n                if (upd)\n                    this.__update__();\n            }\n        });\n        this.items = e.getAttribute('class');\n    }\n\n    /**\n     * Equivalent of `new Classes(e)`\n     * @param e\n     * @return {dom.Classes}\n     */\n    static of(e) {\n        return new Classes(e)\n    }\n\n    __update__() {\n        this.element.setAttribute('class', this.classes.join(' '))\n    }\n\n    /**\n     * Element has class(es)\n     * @param {String} c - class(es)\n     * @return {boolean}\n     */\n    contains(...c) {\n        c = flatMap(c);\n        return all(c, (it)=>contains(this.classes, it));\n    }\n\n    /**\n     * Add class(es)\n     * @param {String} c - class(es)\n     */\n    add(...c) {\n        c = flatMap(c);\n        forEach(c, (it)=>{\n            if (!this.contains(it)) {\n                this.classes.push(it.toString());\n            }\n        });\n        this.__update__();\n    }\n\n    /**\n     * Remove class(es)\n     * @param {String} c - class(es)\n     * @return {boolean}\n     */\n    remove(...c) {\n        c = flatMap(c);\n        let l = this.classes.length;\n        this.classes = filter(this.classes, (it)=>{\n            return !any(c, (ci) => ci.endsWith('*')?it.startsWith(ci.replace('*','')):it===ci);\n        });\n        this.__update__();\n        return l !== this.classes.length\n    }\n\n    /**\n     * Toggle class(es) - if exists toggle else adds\n     * @param {String} c - class(es)\n     */\n    toggle(...c) {\n        toggle(this.classes, c);\n        this.__update__();\n    }\n}\nObject.seal(Classes);\n\n/**\n * Equivalent of `[new Classes(e)]{@link dom.Classes}`\n * @param e\n * @return {dom.Classes}\n */\nfunction cls(e) {\n    return Classes.of(e);\n}\n\n/**\n * Add class(es) [cls(e).add()]{@link dom.Classes#add}\n * @param {HTMLElement|Element|Node} e - element\n * @param c\n */\nfunction addClass(e, ...c) {\n    Classes.of(e).add(c);\n}\n\n/**\n * Remove class(es) [cls(e).remove()]{@link dom.Classes#remove}\n * @param {HTMLElement|Element|Node} e - element\n * @param c\n */\nfunction removeClass(e, ...c) {\n    Classes.of(e).remove(c);\n}\n\n/**\n * Has class(es) [cls(e).contains()]{@link dom.Classes#contains}\n * @param {HTMLElement|Element|Node} e - element\n * @param c\n */\nfunction hasClass(e, ...c) {\n    Classes.of(e).contains(c);\n}\n\n/**\n * Toggle classes [cls(e).toggle()]{@link dom.Classes#toggle}\n * @param {HTMLElement|Element|Node} e - element\n * @param c\n */\nfunction toggleClass(e, ...c) {\n    Classes.of(e).toggle(c);\n}\n\nmodule.exports = {Classes, cls, addClass, hasClass, removeClass, toggleClass}","/**\n * Merges an object with global namespace\n * @private\n * @param {Object} obj\n */\nfunction setGlobal(obj) {\n    for (let key of Object.keys(obj)) {\n        global[key] = obj[key];\n    }\n}\n\n/**\n * Code generator for prototype modification, used in polyfills\n */\nclass Extension {\n\n    /**\n     * @constructor\n     * @param {any[]} types - Array of prototypes\n     */\n    constructor(types) {\n        this.types = types;\n        this.types = []\n        /** Generated code */\n        this.pcode = \"\\n\"\n    }\n\n    /**\n     * Defines a new function for given prototypes\n     *\n     * @param {Function} namedFunc A named function\n     * @return {string}\n     */\n    define(namedFunc) {\n        if (!namedFunc.name) {\n            let err = `Function must have a name [Extension.define(f)]\\n<<${namedFunc}>>`;\n            console.error(err);\n            return `\\n/**\\n *${err}\\n */`;\n        }\n        let code = \"\\n\";\n        for (let p of this.types) {\n            if (p !== undefined)\n                code += `${p.name || p}.prototype.${namedFunc.name} = `;\n        }\n        code += namedFunc.toString() + \";\\n\";\n\n        this.pcode += code;\n\n        return code\n    }\n\n    polyfill(namedFunc) {\n        if (!namedFunc.name) {\n            let err = `Extension function must have a name:\\n<<${namedFunc}>>`;\n            console.error(err);\n            return `\\n/**\\n *${err}\\n */`;\n        }\n        let code = \"\\n\";\n        for (let p of this.types) {\n            code += `if (${p.name || p}.prototype.${namedFunc.name} === undefined) ${p.name || p}.prototype.${namedFunc.name} = ${namedFunc.toString()};\\n`;\n        }\n        this.pcode += code;\n    }\n}\n\nfunction isBrowser() {\n    return global.window !== undefined && global.document !== undefined && global.navigator !== undefined\n}\n\nif (!isBrowser()) {\n// -------------\n    global.HTMLElement = !global.HTMLElement? function HTMLElement(){}: global.HTMLElement\n    global.Element = !global.Element? function Element(){}: global.Element\n    global.Node = !global.Node? function Node(){}: global.Node\n    global.HTMLCollection = !global.HTMLCollection? function HTMLCollection(){}: global.HTMLCollection\n    global.NodeList = !global.NodeList? function NodeList(){}: global.NodeList\n// -------------\n}\n\nmodule.exports = {setGlobal, Extension, isBrowser}","/**\n * @module DOM\n * @memberOf dom\n */\n\nconst scope = require(\"../core/scope\");\nconst {isArr, hasField, isEmpty} = require(\"../core/types\");\nconst {contains, forEach, filter} = require(\"../core/collections\");\nconst {error} = require(\"../core/logging\");\nconst {funcBodyEquals} = require(\"../core/functions\");\n\n/**\n * Set listener for event type(s) on element, removes identical event listeners to avoid duplication\n *\n * @param {HTMLElement|Element|Node} target - target element\n * @param {String|Array} event - event type(s)\n * @param {Function} listener\n * @param {AddEventListenerOptions?} [options]\n */\nfunction setEvent(target, event, listener, options) {\n    if (!scope.isBrowser()) {\n        error(\"Events are browser only!\");\n        return\n    }\n    if (!isArr(event)) {\n        if (contains(event,' ')) {\n            event = event.split(' ').Map((it)=>it.trim())\n        } else\n            event = [event];\n    }\n    target.__EVENTS__ = target.__EVENTS__ || {};\n    forEach(event,(ev)=> {\n        target.__EVENTS__[ev] = target.__EVENTS__[ev] || [];\n\n        let f = function (e) {\n            listener(e, target);\n        };\n        if (!hasField(options, 'duplicates', (a)=>a)) {\n            target.__EVENTS__[ev] = filter(target.__EVENTS__[ev],(fl)=> {\n                if (funcBodyEquals(fl.l, listener)) {\n                    target.removeEventListener(ev, fl.f, fl.o);\n                    return false\n                }\n                // else {\n                //     console.log('notEqual',fl.l.toString(), listener.toString())\n                // }\n            });\n        }\n\n        target.__EVENTS__[ev].push({f:f, l:listener, o: options});\n        target.addEventListener(ev, f, options);\n    });\n}\n\n/**\n * Clear all event listeners of type from element\n *\n * @param {HTMLElement|Element|Node} target - target element\n * @param {String|Array} event - event type(s)\n */\nfunction clearEvent(target, event) {\n    if (!scope.isBrowser()) {\n        error(\"Events are browser only!\");\n        return\n    }\n    if (!isArr(event)) {\n        if (contains(event,' ')) {\n            event = event.split(' ').Map((it)=>it.trim())\n        } else\n            event = [event];\n    }\n    target.__EVENTS__ = target.__EVENTS__ || {};\n    if (isEmpty(target.__EVENTS__)) return;\n    forEach(event,function (ev) {\n        target.__EVENTS__[ev] = target.__EVENTS__[ev] || [];\n        if (isEmpty(target.__EVENTS__[ev])) return;\n\n        forEach(target.__EVENTS__[ev],(fl)=> {\n            target.removeEventListener(ev, fl.f, fl.o);\n            return false\n        });\n        target.__EVENTS__[ev] = [];\n\n    });\n}\n\n/**\n * Target has event listener for event type\n *\n * @param {HTMLElement|Element|Node} target - target element\n * @param {String} type - event type\n * @return {boolean}\n */\nfunction hasEvent(target, type) {\n    return target.__EVENTS__ && target.__EVENTS__[type] && !isEmpty(target.__EVENTS__[type])\n}\n\nmodule.exports = {setEvent, clearEvent, hasEvent};","/**\n * @module DOM\n * @memberOf dom\n */\n\nconst I = require(\"../core/collections\")\nconst T = require(\"../core/types\")\n\n/**\n * Get all element attributes\n * @param {HTMLElement|Element|Node} e - element\n * @return {Object}\n */\nfunction getAttributes(e) {\n    let atr = {};\n    I.forEach(e.getAttributeNames(), (n) => atr[n] = e.getAttribute(n));\n    return atr;\n}\n\n/**\n *\n * @param {HTMLElement|Element|Node} e - element\n * @param {String} a - attribute name\n * @param {String} [v] - attribute value\n * @return {boolean}\n */\nfunction hasAttr(e, a, v) {\n    if (e.hasAttribute(a)) {\n        if (v) return e.getAttribute(a) === v\n        return true\n    }\n\n    return false\n}\n\n/**\n * Get element attribute\n * @param {HTMLElement|Element|Node} e - element\n * @param {String} a - attribute name\n * @return {string} - attribute value\n */\nfunction getAttr(e, a) {\n    return e.getAttribute(a)\n}\n\n/**\n * Set element attribute\n * @param {HTMLElement|Element|Node} e - element\n * @param {String} a - attribute name\n * @param {String} [v] - attribute value\n */\nfunction setAttr(e, a, v) {\n    if (T.isArr(a)) {\n        I.forEach(a, (n) => this.set(n, v))\n    } else if (T.isObj(a)) {\n        I.forEach(a, (v, k) => this.set(k, v))\n    } else {\n        e.setAttribute(a, v);\n    }\n}\n\n/**\n * Element attributes CRUD wrapper\n * @memberOf dom\n */\nclass Attributes {\n    /**\n     * @param {HTMLElement|Element|Node} e - element\n     */\n    constructor(e) {\n        this.element = e;\n    }\n\n    /**\n     * All attribute names\n     * @return {String[]}\n     */\n    keys() {\n        return this.element.getAttributeNames()\n    }\n\n    /**\n     * All attributes\n     * @return {Object}\n     */\n    all() {\n        return getAttributes(this.element);\n    }\n\n    /**\n     * Set attribute\n     * @param {String} a - attribute name\n     * @param {String} v - attribute value\n     * @return {this}\n     */\n    set(a, v) {\n        setAttr(this.element, a, v);\n        return this;\n    }\n\n    /**\n     * Get attribute\n     * @param {String} a - attribute name\n     * @return {String}\n     */\n    get(a) {\n        return getAttr(this.element, a)\n    }\n\n    /**\n     * Has attribute\n     * @param {String} a - attribute name\n     * @param {String} v - attribute value\n     * @return {boolean}\n     */\n    has(a, v) {\n        return hasAttr(this.element, a, v);\n    }\n\n    /**\n     * Remove attribute\n     * @param a\n     */\n    remove(a) {\n        this.set(a, undefined);\n    }\n}\n\n/**\n * Equivalent of `[new Attributes(e)]{@link dom.Attributes}`\n * @param {HTMLElement|Element|Node} e - element\n * @return {dom.Attributes}\n */\nfunction attrs(e) {\n    return new Attributes(e)\n}\n\nmodule.exports = {getAttributes, Attributes, getAttr, hasAttr, setAttr, attrs}","/**\n * @module DOM\n * @memberOf dom\n */\n\n/**\n * Element's offsetLeft (relative)\n * @param {HTMLElement|Element|Node} e\n * @return {number}\n */\nfunction relLeft(e) {\n    return e.offsetLeft\n}\n\n/**\n * Element's clientLeft\n * @param {HTMLElement|Element|Node} e\n * @return {number}\n */\nfunction absLeft(e) {\n    return e.clientLeft\n}\n\n/**\n * Element's offsetWidth\n * @param {HTMLElement|Element|Node} e\n * @return {number}\n */\nfunction relWidth(e) {\n    return e.offsetWidth\n}\n\n/**\n * Element's clientWidth\n * @param {HTMLElement|Element|Node} e\n * @return {number}\n */\nfunction absWidth(e) {\n    return e.clientWidth\n}\n\n/**\n * Element's offsetLeft + offsetWidth\n * @param {HTMLElement|Element|Node} e\n * @return {number}\n */\nfunction relRight(e) {\n    return relLeft(e) + relWidth(e)\n}\n\n/**\n * Element's clientLeft + clientWidth\n * @param {HTMLElement|Element|Node} e\n * @return {number}\n */\nfunction absRight(e) {\n    return absLeft(e) + absWidth(e)\n}\n\n/**\n * Element's offsetTop\n * @param {HTMLElement|Element|Node} e\n * @return {number}\n */\nfunction relTop(e) {\n    return e.offsetTop\n}\n\n/**\n * Element's clientTop\n * @param {HTMLElement|Element|Node} e\n * @return {number}\n */\nfunction absTop(e) {\n    return e.clientTop\n}\n\n/**\n * Element's offsetHeight\n * @param {HTMLElement|Element|Node} e\n * @return {number}\n */\nfunction relHeight(e) {\n    return e.offsetHeight\n}\n\n/**\n * Element's clientHeight\n * @param {HTMLElement|Element|Node} e\n * @return {number}\n */\nfunction absHeight(e) {\n    return e.clientHeight\n}\n\n/**\n * Element's offsetTop + offsetHeight\n * @param {HTMLElement|Element|Node} e\n * @return {number}\n */\nfunction relBottom(e) {\n    return relTop(e) + relHeight(e)\n}\n\n/**\n * Element's clientTop + clientHeight\n * @param {HTMLElement|Element|Node} e\n * @return {number}\n */\nfunction absBottom(e) {\n    return absTop(e) + absHeight(e)\n}\n\nmodule.exports = {left: relLeft, leftWin: absLeft, right: relRight, rightWin: absRight, width: relWidth, widthWin: absWidth}","/**\n * @module DOM\n * @memberOf dom\n */\n\n/**\n * Append node(s) to parent and dispatch an event\n * @param {HTMLElement|Element|Node} parent - parent element\n * @param {HTMLElement|Element|Node} elements - appended children\n */\nfunction append(parent, ...elements) {\n    window.dispatchEvent(new CustomEvent(\"x.dom.append\", {detail: {parent, elements}}))\n    parent.append(...elements);\n}\n\nmodule.exports = {append}","/**\n * @module DOM\n * @memberOf dom\n */\nconst {error} = require(\"../core/logging\");\nconst {forEach} = require(\"../core/collections\");\nconst {isVal, isArr, isObj, isEl, hasField} = require(\"../core/types\");\nconst {setAttr} = require(\"./attributes\");\nconst {setEvent} = require(\"./event\");\n// const {cls} = require(\"./classes\");\nconst ATR = 'atr'\nconst CLS = 'cls'\nconst EVT = 'evt'\n\n/**\n * Modify a DOM element/node\n * @param {HTMLElement|Element|Node} node - DOM element/node\n * @param {Object} object - patch data {atr: Attributes, cls: Classes, evt: Events}\n */\nfunction patch(node, object) {\n    if (!isVal(node)) {\n        error(`Node is ${node}`)\n        return\n    }\n    if (!isEl(node)) {\n        error(`\"${node}\" is not Element or Node`);\n        return\n    }\n    if (hasField(object, ATR)) {\n        if (isObj(object[ATR])) {\n            forEach(object[ATR], (v, k)=>{\n                setAttr(node, k, v)\n            })\n        }\n    }\n    if (hasField(object, CLS)) {\n        const cls = object[CLS];\n        if (isArr(cls)){\n            node.className = cls.join(' ')\n        } else {\n            node.className = cls\n        }\n    }\n    if (hasField(object, EVT)) {\n        if (isObj(object[EVT])) {\n            forEach(object[EVT], (v, k)=>{\n                setEvent(node, k, v)\n            })\n        }\n    }\n}\n\nmodule.exports = {patch}","/**\n * @module DOM\n * @memberOf dom\n */\n\nconst {isUnd, isStr} = require(\"../core/types\")\nconst {filter, contains} = require(\"../core/collections\")\n\nconst emptyStyle = ['', 'initial', 'unset', undefined, null];\n\n/**\n * Set style / Get style / Get all styles\n * @param {HTMLElement|Element|Node} e - element/node\n * @param {String} [p] - style property name\n * @param {String} [v] - style property value\n * @return {Array|Object|String|*|string}\n */\nfunction style(e, p, v) {\n    if (isUnd(p)) {\n        // let stl = {};\n        let cs = getComputedStyle(e);\n        cs = filter(cs, (s, n) => isStr(n)&&!contains(emptyStyle, s))\n        // ForEach(cs, (s) => stl[s] = cs[s]);\n        return cs\n    }\n    if (isUnd(v)) return e.style[p] || getComputedStyle(e)[p];\n    e.style[p] = v;\n}\n\n/**\n * Element has style property\n * @param {HTMLElement|Element|Node} e - element/node\n * @param {String} p - style property name\n * @return {boolean}\n */\nfunction hasStyle(e, p) {\n    let s = style(e, p);\n    return !contains(emptyStyle, s)\n}\n\nmodule.exports = {style, hasStyle}","/**\n * @namespace dom\n */\nconst query = require('./query');\nconst event = require('./event');\nconst classes = require('./classes');\nconst attributes = require('./attributes');\nconst position = require('./position');\nconst append = require('./append');\nconst patch = require('./patch');\nconst styles = require('./styles');\nmodule.exports = {\n    ...query,\n    ...event,\n    ...classes,\n    ...attributes,\n    ...position,\n    ...append,\n    ...patch,\n    ...styles\n};","const T = require(\"../core/types\");\nconst {$, $$} = require(\"../dom/query\")\n\n/**\n * Http Content class\n */\nclass HttpContent{\n    constructor(type, data) {\n        /**\n         * @type {String}\n         */\n        this.type = type;\n        /**\n         * @type {String|Object|Element}\n         */\n        this.data = data;\n    }\n}\n\n/**\n * Http request class\n * @class\n */\nclass HttpRq{\n    /**\n     * @param {HttpMethod} m\n     */\n    setMethod(m) {\n        this.method = m.toUpperCase();\n    };\n\n    /**\n     * @param {String} u\n     */\n    setUrl(u) {\n        this.url = encodeURI(u);\n    };\n\n    /**\n     * Set request param/arg\n     * @param {String} n - name\n     * @param {String} v - value\n     */\n    setArg(n, v) {\n        this.args[n] = v;\n    };\n\n    buildUrlEncoded(args) {\n        let ue = \"\";\n        args = args || this.args;\n\n        let argNames = Object.keys(args);\n        if (argNames.length>0) {\n            for (let i = 0; i < argNames.length; i++) {\n                ue += encodeURIComponent(argNames[i]) + '=' + encodeURIComponent(args[argNames[i]]);\n                if (i < argNames.length - 1) {\n                    ue += '&';\n                }\n            }\n        }\n        return ue;\n    };\n\n    /**\n     * Set request header\n     * @param {String} n - name\n     * @param {String} v - value\n     */\n    setHeader(n, v) {\n        this.headers[n] = v.toString();\n    };\n\n    /**\n     * Get request header\n     * @param {String} n - name\n     */\n    getHeader(n) {\n        return this.headers[n];\n    };\n\n    /**\n     * Set request content\n     * @param {String} contentType\n     * @param {any} data\n     */\n    setContent(contentType, data) {\n        this.content.type = contentType.toLowerCase();\n        this.content.data = data;\n    };\n\n    /**\n     * Set request json content\n     * @param {String|Object} data\n     */\n    jsonContent(data) {\n        let str = \"\";\n        if (typeof data === \"string\") {\n            str = data;\n        } else {\n            str = JSON.stringify(data);\n        }\n        this.setContent('json', str);\n        this.setHeader('Content-Type', 'application/json');\n    };\n\n    /**\n     * Set request xml content\n     * @param {String|Node} data\n     */\n    xmlContent(data) {\n        if (T.isStr(data))\n            this.setContent('xml', data);\n        else this.setContent('xml', data.outerHTML);\n        this.setHeader('Content-Type', 'application/xml');\n    };\n    /**\n     * Set request multipart data from Form element\n     * @param {String|Node|Element} form - form element/id\n     */\n    formContent(form) {\n        let formElement = $$(form)[0];\n        let frm = new FormData(formElement);\n        this.formMultiPartContent(frm);\n    };\n\n    /**\n     * Set request multipart data from FormData object\n     * @param {FormData} frm - custom form data object\n     */\n    formMultiPartContent(frm) {\n        this.setContent('form_multipart', frm);\n        // this.setHeader('Content-Type', 'multipart/form-data; boundary=' + frm.boundary)\n    };\n\n    /**\n     * Set request data as urlencoded\n     * @param {Object} data\n     */\n    formUrlEncodedContent(data) {\n        this.setContent('form_urlencoded', this.buildUrlEncoded(data));\n        this.setHeader('Content-Type', 'application/x-www-form-urlencoded');\n    };\n\n    /**\n     *\n     * @param {HttpMethod} method\n     * @param {String} url\n     * @param {Object} args\n     * @param {Object} headers\n     * @param {HttpContent} content\n     */\n    constructor(method='GET', url, args, headers, content) {\n        this.args = args || {};\n        this.headers = headers || {};\n        this.content = content || new HttpContent('#urlencoded', {});\n\n        this.setMethod(method);\n\n        this.setUrl(url);\n    }\n\n}\n\nmodule.exports = {HttpContent, HttpRq};\n","/**\n * Http Response class\n * @property json {Object}\n * @property xml {XMLDocument}\n *\n */\nclass HttpRs {\n    /**\n     * @constructor\n     * @param {XMLHttpRequest} xhr\n     */\n    constructor(xhr) {\n        this.xhr = xhr\n        this.status = {\n            code: xhr.status,\n            text: xhr.statusText\n        };\n        this.headers = xhr.getAllResponseHeaders();\n        this.contentLength = xhr.response.length || 0;\n        this.data = xhr.response;\n        this.json = undefined\n        this.xml = undefined\n        if (xhr.responseType === 'text' || xhr.responseType === '')\n            this.text = xhr.responseText;\n        Object.defineProperty(this, 'json', {\n            get() {\n                try {\n                    if (!xhr.responseJSON) {\n                        xhr.responseJSON = JSON.parse(this.xhr.responseText);\n                    }\n                } catch (e) {\n                    console.log(e);\n                }\n                return xhr.responseJSON\n            }\n        });\n\n        Object.defineProperty(this, 'xml', {\n            get() {\n                try {\n                    if (!xhr.responseXML && !xhr.responseXml) {\n                        let parser = new DOMParser();\n                            xhr.responseXml = parser.parseFromString(self.text,\"text/xml\");\n                    }\n                }catch (e) {\n                    console.log(e)\n                }\n\n                return xhr.responseXml;\n            }\n        })\n    }\n\n}\nmodule.exports = {HttpRs};","/**\n * Wrapper class for XHR\n * @module http/ajax\n * @memberOf http\n */\nconst {HttpRq, HttpContent} = require(\"./request\");\nconst {HttpRs} = require(\"./response\");\nconst T = require(\"../core/types\");\nconst {error} = require(\"../core/logging\");\nconst {forEach, deepClone} = require(\"../core/collections\");\n\n\n/**\n * A wrapper class for {@link XMLHttpRequest} to facilitate sending requests and handling events\n * @class\n * @property {Response} rs\n * @property {Request} rq\n */\nclass Ajax {\n    /**\n     * @constructor\n     * @param {HttpMethod|HttpRq} m - Request method string or {@link http.HttpRq}\n     * @param {String} [url]\n     * @param {Object} [params] - Request parameters object\n     * @param {Object?} [headers] - Headers object\n     * @param {HttpContent?} [content] - Optional http content {@link HttpContent}\n     */\n    constructor(m, url, params = {}, headers = {}, content = new HttpContent()) {\n        /** @type {HttpRq}\n         * @see {http.HttpRq}\n         */\n        this.rq = {}\n        /** @type {http.HttpRs}\n         * @see {http.HttpRs}\n         */\n        this.rs = {}\n        if (m instanceof HttpRq) {\n            this.rq = m\n        } else {\n            this.rq = new HttpRq(m, url, params, headers, content);\n        }\n        // Fields\n        this.rs = {readyState: 0};\n        this.xhr = new XMLHttpRequest();\n\n        this.preparedCallback = function (ajax) {\n        };\n\n        this.progressCallback = function (ajax, event) {\n        };\n\n        this.uploadProgressCallback = function (ajax, event) {\n        };\n\n        this.successCallback = function (ajax) {\n        };\n\n        this.uploadFinishCallback = function (ajax) {\n        };\n\n        this.failCallback = function (ajax, error) {\n        };\n\n        this.timeoutCallback = function (ajax) {\n        };\n\n        this.abortCallback = function (ajax) {\n        };\n        Object.defineProperty(this, 'xhr', {enumerable: false})\n    }\n\n    // Methods\n    /**\n     * Set header\n     * @param {String} n - header name\n     * @param {String} [v] - header value\n     * @returns {Ajax}\n     */\n    header(n, v) {\n        this.rq.setHeader(n, v);\n        return this;\n    };\n\n    /**\n     * Add/Set headers\n     * @param {Object} hdrs - headers object\n     * @returns {Ajax}\n     */\n    headers(hdrs = {}) {\n        forEach(hdrs, (v, k) => {\n            this.rq.setHeader(k, v);\n        });\n        return this;\n    };\n\n    /**\n     * @param {Function} callback\n     * @returns {Ajax}\n     */\n    onSuccess(callback) {\n        this.successCallback = callback;\n        return this;\n    };\n\n    /**\n     * @param {Function} callback\n     * @returns {Ajax}\n     */\n    onUploadSuccess(callback) {\n        this.uploadFinishCallback = callback;\n        return this;\n    };\n\n    /**\n     * @param {Function} callback\n     * @returns {Ajax}\n     */\n    onFail(callback) {\n        this.failCallback = callback;\n        return this;\n    };\n\n    onTimeout(callback) {\n        this.timeoutCallback = callback\n        return this;\n    }\n\n    onAbort(callback) {\n        this.abortCallback = callback\n        return this;\n    }\n\n    /**\n     * @param {Function} callback\n     * @returns {Ajax}\n     */\n    onProgress(callback) {\n        this.progressCallback = callback;\n        return this;\n    };\n\n    /**\n     * @param {Function} callback\n     * @returns {Ajax}\n     */\n    onUploadProgress(callback) {\n        this.uploadProgressCallback = callback;\n        return this;\n    };\n\n    /**\n     * Set custom content {@link HttpContent}\n     * @param {HttpContent} content\n     * @returns {Ajax}\n     */\n    withContent(content = {}) {\n        switch (content.type) {\n            case 'json':\n                this.rq.jsonContent(content.data);\n                break;\n            case 'xml':\n                this.rq.xmlContent(content.data);\n                break;\n            case 'form':\n                this.rq.formContent(content.data);\n                break;\n            case 'form_multipart':\n                this.rq.formMultiPartContent(content.data);\n                break;\n            case 'form_urlencoded':\n                this.rq.formUrlEncodedContent(content.data);\n                break;\n            default:\n                this.rq.setContent(content.type, content.data);\n        }\n        return this;\n    }\n\n    /**\n     * Set xml request data\n     * @param {XMLDocument} data\n     * @returns {Ajax}\n     */\n    xmlData(data) {\n        this.rq.xmlContent(data);\n        return this;\n    }\n\n    /**\n     * Set form-data request data\n     * @param {String|Node} form\n     * @returns {Ajax}\n     */\n    formData(form) {\n        this.rq.formContent(form);\n        return this;\n    };\n\n    /**\n     * Set json request data\n     * @param {String|Object} data\n     * @returns {Ajax}\n     */\n    jsonData(data) {\n        this.rq.jsonContent(data);\n        return this;\n    };\n\n    /**\n     * Set url-encoded request data\n     * @param {Object} data - simple data object\n     * @returns {Ajax}\n     */\n    urlEncodedData(data) {\n        this.rq.formUrlEncodedContent(data);\n        return this;\n    };\n\n    prepare(reset) {\n        if (this.isPrepared && !reset) {\n            // self.onprepare && self.onprepare(self.rq);\n            return this\n        }\n\n        // prepare url\n        let url = this.rq.url;\n\n        if (this.rq.args && !T.isEmpty(this.rq.args)) {\n            url.indexOf('?') >= 0 || (url += '?');\n            url += this.rq.buildUrlEncoded();\n        }\n        this.rs = {readyState: 0};\n        reset && (this.xhr = new XMLHttpRequest());\n        this.xhr.open(this.rq.method, url);\n\n        // prepare headers\n        forEach(this.rq.headers, (val, key)=>{\n            try {\n                this.xhr.setRequestHeader(key, this.rq.headers[val]);\n            } catch (e){\n                error('Error while setting default header \\n>>(',key,')<< Non-standard header name.')\n            }\n        })\n\n        let ajax = this;\n        let xhr = this.xhr;\n\n        this.xhr.onreadystatechange = function (ev) {\n            // onloadend\n            if (xhr.readyState === 4 && xhr.status !== 0) {\n                let callback = ajax.failCallback;\n                if (xhr.status >= 200 && xhr.status <= 399) {\n                    callback = ajax.successCallback;\n                }\n                ajax.rs = new HttpRs(xhr);\n                callback && callback(ajax);\n            }\n        };\n\n        this.xhr.onerror = function (ev) {\n            ajax.failCallback && ajax.failCallback(ajax, ev);\n        }\n\n        this.xhr.onprogress = function (ev) {\n            ajax.progressCallback && ajax.progressCallback(ajax, ev);\n        };\n\n        this.xhr.upload.onprogress = function (ev) {\n            ajax.uploadProgressCallback && ajax.uploadProgressCallback(ajax, ev);\n        };\n\n        this.xhr.upload.onloadend = function (ev) {\n            ajax.uploadFinishCallback && ajax.uploadFinishCallback(ajax, ev);\n        };\n\n        this.xhr.ontimeout = function (ev) {\n            ajax.timeoutCallback && ajax.timeoutCallback(ajax, ev);\n        }\n\n        this.xhr.onabort = function (ev) {\n            ajax.abortCallback && ajax.abortCallback(ajax, ev);\n        }\n\n        this.isPrepared = true;\n        this.preparedCallback && this.preparedCallback(this.rq);\n        // preparedCallback && preparedCallback();\n        return this;\n    };\n\n    /**\n     * Send XHR request\n     * @returns {Ajax}\n     */\n    send() {\n        this.prepare();\n\n        try {\n            this.xhr.send(this.rq.content.data);\n        } catch (e) {\n            this.failCallback(this, e)\n        }\n\n        return this;\n    }\n\n    resend() {\n        return this.prepare(true).send();\n    }\n\n    /**\n     * Send request with Promise\n     * @return {Promise<Ajax>}\n     */\n    async sendAsync() {\n        const ajax = this;\n        const promise = new Promise((res, rej) => {\n            ajax.onSuccess(() => {\n                return res(ajax)\n            });\n            ajax.onFail(() => {\n                rej(ajax)\n            });\n        });\n        ajax.send();\n        return promise;\n    }\n}\n\nmodule.exports = {Ajax: Ajax};","/**\n * @fileOverview\n *\n * @module http/methods\n * @memberOf http\n */\n\n\nconst {Ajax} = require(\"./ajax\");\nconst {HttpContent} = require(\"./request\");\n\n/**\n * A factory for {@link http.Ajax}\n * @private\n * @param {HttpMethod} method - {@link HttpMethod}\n * @param {String} url\n * @param {Object} params\n * @param {Object} headers\n * @param {HttpContent} content\n * @param {Object} callbacks - {success:Function?, fail: Function?, progress: Function?, prepare: Function?,uploadProgress: Function?, uploadFinish: Function?}\n * @return {http.Ajax}\n */\nfunction makeHttpRequest(method, url, params, headers, content, callbacks) {\n    let ajax = new Ajax(method.toUpperCase(), url, params, headers);\n    if (content && content.type) {\n        if (content.type.toLowerCase() === 'json') {\n            ajax.jsonData(content.data);\n        } else if (content.type.toLowerCase() === 'urlencoded') {\n            ajax.urlEncodedData(content.data);\n        } else if (content.type.toLowerCase() === 'form') {\n            ajax.formData(content.data);\n        } else {\n            ajax.Rq.setContent(content.type, content.data);\n        }\n    }\n    callbacks.success && ajax.onSuccess(callbacks.success);\n    callbacks.fail && ajax.onFail(callbacks.fail);\n    callbacks.progress && ajax.onProgress(callbacks.progress);\n    callbacks.prepare && (ajax.preparedCallback = callbacks.prepare);\n    callbacks.uploadProgress && (ajax.uploadProgressCallback = callbacks.uploadProgress);\n    callbacks.uploadFinish && (ajax.uploadFinishCallback = callbacks.uploadFinish);\n    return ajax;\n}\n\n//{method, url, args, headers, type, data, success, fail, progress, prepare, uploadProgress, uploadFinish}\n/**\n * A factory for {@link http.Ajax}. creates Ajax request with supplied {@link HttpRequestOptions}\n *\n * @param {HttpRequestOptions} opts\n * @return {http.Ajax}\n */\nfunction makeRequest(opts) {\n    return makeHttpRequest(opts.method || 'OPTIONS', opts.url, opts.params, opts.headers, new HttpContent(opts.type, opts.data), {\n        success: opts.success,\n        fail: opts.fail,\n        progress: opts.progress,\n        prepare: opts.prepare,\n        uploadProgress: opts.uploadProgress,\n        uploadFinish: opts.uploadFinish\n    })\n}\n\n/**\n * @private\n * @param {Ajax} ajax - Ajax request\n * @param {Object} callbacks - ajax event listeners\n * @param {any} extra - passed to callbacks\n * @returns {Promise<Ajax>}\n */\nfunction makePromise(ajax, callbacks={}, extra={}) {\n    return new Promise((resolve, reject) => {\n        ajax.onSuccess(async ()=>{\n            if (callbacks.default) {\n                callbacks.default(ajax, resolve, reject, extra)\n            }\n            let callback = callbacks.onSuccess\n            if (callback)\n                try {\n                    callback(ajax, resolve, reject, extra);\n                } catch (e) {}\n            else resolve(ajax)\n        });\n        ajax.onFail(async ()=>{\n            if (callbacks.default) {\n                callbacks.default(ajax, resolve, reject, extra)\n            }\n            let callback = callbacks.onFail\n            if (callback)\n                try {\n                    callback(ajax, resolve, reject, extra);\n                } catch (e) {}\n            else reject(ajax)\n        });\n        ajax.onAbort(async ()=>{\n            if (callbacks.default) {\n                callbacks.default(ajax, resolve, reject, extra)\n            }\n            let callback = callbacks.onAbort\n            if (callback)\n                try {\n                    callback(ajax, resolve, reject, extra);\n                } catch (e) {}\n            else reject(ajax)\n        })\n\n        ajax.onTimeout(async ()=>{\n            if (callbacks.default) {\n                callbacks.default(ajax, resolve, reject, extra)\n            }\n            let callback = callbacks.onTimeout\n            if (callback)\n                try {\n                    callback(ajax, resolve, reject, extra);\n                } catch (e) {}\n            else reject(ajax)\n        })\n    })\n}\n\n/**\n * Send request asynchronously\n *\n * @param {HttpRequestOptions} opts\n * @return {Promise<any>}\n */\nasync function sendRequest(opts) {\n    let r = makeRequest(opts);\n    r.send(opts.finish);\n    return await makePromise(r);\n}\n\n/**\n * Create Ajax GET request\n *\n * @param {String} url - server url\n * @param {Object} [params] - query string params\n * @returns {http.Ajax}\n */\nfunction Get(url, params){\n    return new Ajax('GET', url, params);\n}\n\n/**\n * Create Ajax POST request\n *\n * @param {String} url - server url\n * @param {Object} [params] - query string params\n */\nfunction Post(url, params){\n    return new Ajax('POST', url, params);\n}\n\n/**\n * Create Ajax DELETE request\n *\n * @param {String} url - server url\n * @param {Object} [params] - query string params\n * @returns {http.Ajax}\n */\nfunction Delete(url, params){\n    return new Ajax('DELETE', url, params);\n}\n\n/**\n * Create Ajax PUT request\n *\n * @param {String} url - server url\n * @param {Object} [params] - query string params\n * @returns {Ajax}\n */\nfunction Put(url, params){\n    return new Ajax('PUT', url, params);\n}\n\n/**\n * Create Ajax PATCH request\n *\n * @param {String} url - server url\n * @param {Object} [params] - query string params\n * @returns {http.Ajax}\n */\nfunction Patch(url, params){\n    return new Ajax('PATCH', url, params);\n}\n\n/**\n * Create and send GET request\n *\n * @param {HttpRequestOptions} opt\n * @return {Promise<http.Ajax>}\n */\nfunction sendGet(opt) {\n    opt.method = 'GET';\n    opt.type = undefined;\n    opt.data = undefined;\n    return sendRequest(opt)\n}\n\n/**\n * Create and send DELETE request\n *\n * @param {HttpRequestOptions} opt\n * @return {Promise<http.Ajax>}\n */\nfunction sendDelete(opt) {\n    opt.method = 'DELETE';\n    return sendRequest(opt)\n}\n\n/**\n * Create and send POST request\n *\n * @param {HttpRequestOptions} opt\n * @return {Promise<http.Ajax>}\n */\nfunction sendPost(opt) {\n    opt.method = 'POST';\n    return sendRequest(opt)\n}\n\n/**\n * Create and send PUT request\n *\n * @param {HttpRequestOptions} opt\n * @return {Promise<http.Ajax>}\n */\nfunction sendPut(opt) {\n    opt.method = 'PUT';\n    return sendRequest(opt)\n}\n\n/**\n * Create and send PATCH request\n *\n * @param {HttpRequestOptions} opt\n * @return {Promise<http.Ajax>}\n */\nfunction sendPatch(opt) {\n    opt.method = 'PATCH';\n    return sendRequest(opt)\n}\n\nmodule.exports = {\n    makeHttpRequest, makeRequest, makePromise, sendRequest,\n    Get, Post, Delete, Put, Patch,\n    sendGet, sendDelete, sendPost, sendPut, sendPatch\n};","/**\n * Asynchronous Http Client using XHR\n * @module http/client\n * @memberOf http\n */\n\nconst http = require('./methods');\nconst {error} = require(\"../core/logging\");\nconst {Ajax} = require(\"./ajax\");\nconst {startsWith, endsWith, filter, forEach} = require('../core/collections');\n\n\nclass InterceptorStore {\n    constructor() {\n        this.all = []\n        this.any = false\n    }\n\n    use(interceptor) {\n        this.all.push(interceptor);\n        this.any = true\n    }\n\n    async intercept(ajax) {\n        for (let i = 0; i < this.all.length; i++) {\n            ajax = await this.all[i](ajax)\n        }\n        return ajax\n    }\n}\n\n/**\n * Async Http Client using XHR\n * @class\n */\nclass XHttpClient {\n    /**\n     *\n     * @param {String} host - Server host address\n     * @param {Number} [ratePerMinute] - Maximum requests allowed per minute (default 300)\n     * @param {Object} [defaultParams] - Default params set on every request\n     * @param {Object} [defaultHeaders] - Default headers set on every request\n     * @param {Number} [timeout=3000]\n     * @param {Number} [retries]\n     */\n    constructor(host = '', {\n        ratePerMinute = 300,\n        defaultParams,\n        defaultHeaders,\n        timeout, retries\n    } = {}) {\n        if (endsWith(host, '/')) {\n            host = host.split('').splice(host.length - 1).join()\n        }\n        /**\n         * Interceptors\n         * @type {{request: InterceptorStore, response: InterceptorStore}}\n         */\n        this.interceptors = {\n            request: new InterceptorStore(),\n            response: new InterceptorStore()\n        }\n        this.host = host\n        this.__queue = []\n        this.__sending = []\n        this.__interval = undefined\n        this.__ratePerMinute = ratePerMinute\n        this.__timeBetween = 60000 / ratePerMinute\n        this.__lastRequestTime = new Date().getTime() - this.__timeBetween;\n        this.timeout = timeout || 60000\n        this.retries = retries || 0\n        this.defaultHeaders = defaultHeaders || {}\n        this.defaultParams = defaultParams || {}\n    }\n\n    /**\n     *\n     * @param client\n     * @private\n     */\n    _intervalSend(client) {\n        if (client.__queue.length === 0) {\n            clearInterval(client.__interval);\n            client.__interval = undefined;\n            return;\n        }\n        let now = new Date().getTime();\n        if (now - client.__lastRequestTime > client.__timeBetween) {\n            let ajax = client.__queue.shift();\n            client._sendImmediately(ajax, now);\n        }\n    }\n\n    _sendImmediately(ajax, now) {\n        if (this.interceptors.request.any) {\n            this.interceptors.request.intercept(ajax).then(() => {\n                ajax.send()\n                this.__sending.push(ajax);\n                this.__lastRequestTime = now;\n            }).catch((e) => {\n                console.error(e)\n            })\n        } else {\n            ajax.send()\n            this.__sending.push(ajax);\n            this.__lastRequestTime = now;\n        }\n    }\n\n    _removeSendingRequest(request) {\n        let rqi = this.__sending.indexOf(request);\n        if (rqi >= 0) {\n            this.__sending.splice(rqi);\n        }\n    }\n\n    /**\n     *\n     * @param ajax\n     * @param responseType\n     * @param cancelToken\n     * @return {Promise<Ajax>}\n     * @private\n     */\n    _addRequest(ajax, {responseType, cancelToken}) {\n        this.__queue.push(ajax);\n        if (!this.__interval) {\n            this.__interval = setInterval(this._intervalSend, 1, this);\n        }\n        ajax.cancelToken = cancelToken;\n        if (responseType) ajax.xhr.responseType = responseType;\n        ajax.RETRIES = 0\n        ajax.xhr.timeout = this.timeout\n        if (this.defaultHeaders) {\n            ajax.headers(this.defaultHeaders)\n        }\n        if (this.defaultParams) {\n            forEach(this.defaultParams, (val, key) => {\n                ajax.rq.setArg(key, val)\n            })\n        }\n        let promise = http.makePromise(ajax, {\n            default(ajax, res, rej, client) {\n                client._removeSendingRequest(ajax)\n            },\n            onSuccess(ajax, res, rej, client) {\n                if (client.interceptors.response.any) {\n                    client.interceptors.response.intercept(ajax)\n                        .then(() => res(ajax))\n                        .catch((e) => rej(e))\n                } else res(ajax)\n            },\n            onFail(ajax, res, rej, client) {\n                if (client.interceptors.response.any) {\n                    client.interceptors.response.intercept(ajax)\n                        .then(() => rej(ajax))\n                        .catch((ajax, err) => rej(ajax, err))\n                } else rej(ajax)\n                return rej(ajax, Error('Request failed.'))\n            },\n            onTimeout(ajax, res, rej, client) {\n                if (ajax.RETRIES >= client.retries) {\n                    return rej(ajax, Error('Request timed out after ' + ajax.RETRIES + ' retries.'))\n                }\n                client.__sending.push(ajax.resend());\n                ajax.RETRIES += 1;\n            }\n        }, this);\n        ajax._promise_ = promise;\n        return promise\n    }\n\n    /**\n     * Add ajax request to queue\n     * @param {Ajax} ajax\n     */\n    send(ajax) {\n        return this._addRequest(ajax)\n    }\n\n    /**\n     *\n     * @param method\n     * @param route\n     * @param params\n     * @param headers\n     * @param content\n     * @param responseType\n     * @param cancelToken\n     * @return {Promise<Ajax>}\n     * @private\n     */\n    _contentRequest(method, route, {params, headers, content, responseType, cancelToken}) {\n        if (!startsWith(route, '/') && route.length > 1) {\n            route = '/' + route;\n        }\n        return this._addRequest(\n            method(this.host + route, params || {})\n                .headers(headers || {})\n                .withContent(content || {type: '', data: ''})\n            , {responseType, cancelToken})\n    }\n\n    /**\n     * Enqueue http GET request\n     *\n     * @param {String} route - request route - appends to host address\n     * @param {Object} [params] - request params(args)\n     * @param {Object} [headers] - request headers\n     * @param {String} [responseType] - \"text\"|\"json\"|\"xml\"|\"document\"|\"arraybuffer\"|\"blob\"|\"ms-stream\"|\"\"\n     * @param {String} [cancelToken] - A token used to cancel a group of requests\n     * @return {Promise<Ajax>}\n     */\n    get(route, {params, headers, responseType, cancelToken} = {}) {\n        if (!startsWith(route, '/') && route.length > 1) {\n            route = '/' + route;\n        }\n        return this._addRequest(http.Get(this.host + route, params).headers(headers), {responseType, cancelToken});\n    }\n\n    /**\n     * Enqueue http POST request\n     *\n     * @param {String} route - request route - appends to host address\n     * @param {Object} [params] - request params(args)\n     * @param {Object} [headers] - request headers\n     * @param {http.HttpContent|Object} [content] - request content. example: {type:'json', data={count: 13}}\n     * @param {String} [responseType] - \"text\"|\"json\"|\"xml\"|\"document\"|\"arraybuffer\"|\"blob\"|\"ms-stream\"|\"\"\n     * @param {String} [cancelToken] - A token used to cancel a group of requests\n     * @return {Promise<Ajax>}\n     */\n    post(route, {params, headers, content, responseType, cancelToken} = {}) {\n        return this._contentRequest(http.Post, route, {params, headers, content, responseType, cancelToken});\n    }\n\n    /**\n     * Enqueue http PUT request\n     *\n     * @param {String} route - request route - appends to host address\n     * @param {Object} [params] - request params(args)\n     * @param {Object} [headers] - request headers\n     * @param {http.HttpContent} [content] - request content. example: {type:'json', data={count: 13}}\n     * @param {String} [responseType] - \"text\"|\"json\"|\"xml\"|\"document\"|\"arraybuffer\"|\"blob\"|\"ms-stream\"|\"\"\n     * @param {String} [cancelToken] - A token used to cancel a group of requests\n     * @return {Promise<Ajax>}\n     */\n    put(route, {params, headers, content, responseType, cancelToken} = {}) {\n        return this._contentRequest(http.Put, route, {params, headers, content, responseType, cancelToken});\n    }\n\n    /**\n     * Enqueue http PATCH request\n     *\n     * @param {String} route - request route - appends to host address\n     * @param {Object} [params] - request params(args)\n     * @param {Object} [headers] - request headers\n     * @param {http.HttpContent} [content] - request content. example: {type:'json', data={count: 13}}\n     * @param {String} [responseType] - \"text\"|\"json\"|\"xml\"|\"document\"|\"arraybuffer\"|\"blob\"|\"ms-stream\"|\"\"\n     * @param {String} [cancelToken] - A token used to cancel a group of requests\n     * @return {Promise<Ajax>}\n     */\n    patch(route, {params, headers, content, responseType, cancelToken} = {}) {\n        return this._contentRequest(http.Patch, route, {params, headers, content, responseType, cancelToken});\n    }\n\n    /**\n     * Enqueue http DELETE request\n     *\n     * @param {String} route - request route - appends to host address\n     * @param {Object} [params] - request params(args)\n     * @param {Object} [headers] - request headers\n     * @param {http.HttpContent} [content] - request content. example: {type:'json', data={count: 13}}\n     * @param {String} [responseType] - \"text\"|\"json\"|\"xml\"|\"document\"|\"arraybuffer\"|\"blob\"|\"ms-stream\"|\"\"\n     * @param {String} [cancelToken] - A token used to cancel a group of requests\n     * @return {Promise<Ajax>}\n     */\n    delete(route, {params, headers, content, responseType, cancelToken} = {}) {\n        return this._contentRequest(http.Delete, route, {params, headers, content, responseType, cancelToken});\n    }\n\n    /**\n     * Cancel all requests(sending or enqueued) with given token\n     * @param {String} token\n     */\n    cancel(token) {\n        this.__queue = filter(this.__queue, (a) => a.cancelToken !== token);\n        let sending = filter(this.__sending, (a) => a.cancelToken === token);\n        forEach(sending, (ajax) => {\n            try {\n                ajax.xhr.abort();\n            } catch (e) {\n                console.error(e)\n            }\n        });\n\n        this.__sending = filter(this.__sending, (a) => a.cancelToken !== token);\n    }\n\n    cancelAll() {\n        if (this.__interval >= 0) clearInterval(this.__interval);\n        setTimeout(()=>{\n            forEach(this.__sending, function (a) {\n                try {\n                    a.xhr.abort()\n                } catch (e) {\n                }\n            });\n            this.__queue = []\n        }, 1)\n    }\n}\n\nmodule.exports = {XHttpClient}","/**\n * @namespace http\n */\n\nconst request = require('./request');\nconst response = require('./response');\nconst ajax = require('./ajax');\nconst methods = require('./methods');\nconst client = require('./client');\n\nmodule.exports = {\n    ...request,\n    ...response,\n    ...ajax,\n    ...methods,\n    ...client\n}\n\n/**\n * @typedef {\"GET\"|\"POST\"|\"PUT\"|\"DELETE\"|\"PATCH\"|\"OPTIONS\"} HttpMethod\n */\n\n/**\n * @typedef {Object} HttpRequestOptions - Http request arguments\n * @property {HttpMethod} [method]\n * @property {String} [url]\n * @property {Object} [params]\n * @property {Object} [headers]\n * @property {string} [type] - request type \"json\"|\"xml\"|\"array-buffer\"|\"blob\"|undefined\n * @property {any} [data] - request content data\n * @property {Function} [finish] - finish callback, called after all other callbacks\n * @property {Function} [success] - success callback\n * @property {Function} [fail] - fail callback\n * @property {Function} [progress] - progress callback\n * @property {Function} [prepare] - prepare callback, called before send\n * @property {Function} [uploadProgress] - upload progress callback\n * @property {Function} [uploadFinish] - upload finish callback\n */","require(\"../core/scope\")\nconst TYPE = require(\"./type\");\nconst {error} = require(\"../core/logging\");\nconst {randomId} = require(\"./utils\");\nconst {createNode} = require(\"./vnode\");\nconst {patchView} = require(\"./patch\");\n// const {flatMap} = require(\"../core/collections\");\nconst {warn} = require(\"../core/logging\");\n// const {debounce} = require(\"../core/functions\");\nconst {deepClone, concat} = require(\"../core/collections\");\nconst {normalize} = require(\"./utils\");\nconst {createText} = require(\"./vnode\");\nconst {dispatchTask} = require(\"./scheduler\");\n\n/**\n * @param {Object} args.state\n * @param {String} [args.name]\n * @param {Function} args.render\n * @param {Function} args.beforeUpdate\n * @param {Function} args.Updated\n * @param {Function} args.beforeMount\n * @param {Function} args.Mounted\n * @param {Function} args.beforeCreate\n * @param {Function} args.Created\n * @constructor\n */\nfunction View(args = {}) {\n    this.$t = TYPE.VIEW;\n    args.name = 'View' + '::' + randomId();\n    this.$name = args.name;\n    this.$proto = Object.freeze(args);\n    let props = Object.getOwnPropertyNames(args);\n    for (let i = 0; i < props.length; i++) {\n        const prop = props[i];\n        if (args[prop] instanceof Function) {\n            this[prop] = args[prop].bind(this);\n        } else {\n            this[prop] = deepClone(args[prop]);\n        }\n    }\n\n    this.$instanceId = Symbol('view')\n    this.props = this.props || {};\n    this.state = this.state || {};\n    // this.$children = [];\n    if (!this.render) {\n        warn(\"View has no render!\");\n        this.render = () => \"\";\n    }\n\n    Object.defineProperty(this, '$elements', {\n        get() {\n            return this.$nodes.flatMap((n) => {\n                if (n === undefined || n === null) return [];\n                if (n.$isView) return n.$elements;\n                return n.element\n            });\n        }\n    });\n}\n\nObject.defineProperty(View.prototype, '$parent', {\n    value: undefined,\n    configurable: false,\n    writable: true,\n    enumerable: false\n})\nView.prototype.$isView = true\n\nView.prototype.$clone = function () {\n    return new View({...this.$proto});\n}\n\nView.prototype.$updateWith = function (props, children) {\n\n}\n\nView.prototype.$renderNodes = function (prop = this.props) {\n    return normalize(this.render({props: concat(this.props, prop, true), state: this.state}),\n        {createText, parent: this, empty: [createNode('slot', {style: 'display: none'})]})\n}\n\nView.prototype.$renderAndSetNodes = function () {\n    if (this.beforeCreate)\n        try {\n            this.beforeCreate();\n        } catch (e) {\n            setTimeout(error('(' + this.$name + ').beforeCreate()', e))\n        }\n    this.$nodes = this.$renderNodes();\n    if (this.Created)\n        try {\n            this.Created();\n        } catch (e) {\n            setTimeout(error('(' + this.$name + ').Created()', e))\n        }\n    return this\n}\n\nView.prototype.$destroy = function (getAnchor) {\n    if (this.beforeDestroy) {\n        try {\n            this.beforeDestroy();\n        } catch (e) {\n            setTimeout(error('(' + this.$name + ').beforeDestroy()', e));\n        }\n    }\n    // first real dom element\n    let firstEl = undefined;\n    for (let i = 0; i < this.$nodes.length; i++) {\n        let n = this.$nodes[i];\n        if (n.element) {\n            if (!firstEl) firstEl = n.element\n            else n.element.remove();\n        } else {\n            firstEl = firstEl || n.$destroy();\n        }\n    }\n    if (getAnchor) return firstEl\n    else (firstEl && firstEl.remove())\n}\n\nView.prototype.$clean = function () {\n    this.$nodes = undefined;\n    this.state = undefined;\n    this.props = undefined;\n}\n\nView.prototype.$update = function () {\n    // console.log('$update', this.$children)\n    dispatchTask(() => patchView(this, this.props, this.$children), this.$instanceId)\n}\n\nfunction isViewClass(cls) {\n    return Object.prototype.isPrototypeOf.call(View, cls)\n}\n\nfunction getViewInstance(view, newArgs) {\n    if (isViewClass(view)) {\n        return new view(newArgs)\n    }\n    if (view instanceof View) {\n        return view;\n    }\n    if (view === View) {\n        return new View(newArgs)\n    }\n    throw TypeError(\"Cannot get view instance of \" + view)\n}\n\nfunction renderView(view, props, children) {\n    // if (!view.props) view.props = {};\n    if (props) {\n        concat(view.props, props, true);\n    }\n\n    // if (children) {\n    children = normalize(children || [], {createText});\n    view.$children = children;\n    // }\n\n    view.$renderAndSetNodes();\n\n    return view;\n}\n\n/**\n * @typedef View\n * @class\n * @member {Function} beforeCreate\n * @member {Function} Created\n * @member {Function} beforeMount\n * @member {Function} Mounted\n * @member {Function} beforeUpdate\n * @member {Function} Updated\n * @member {Function} beforeDestroy\n */\nmodule.exports = {\n    View, isViewClass, getViewInstance, createView: function (args) {\n        return new View(args)\n    }, renderView\n}","const {error} = require(\"../core/logging\");\nconst {flatMap} = require(\"../core/collections\");\nconst {createNode} = require(\"./vnode\");\nconst {normalize, setElementProps} = require(\"./utils\");\nconst {createText} = require(\"./vnode\");\n\nfunction createElement(tag, attrs, events, parentView) {\n    let el = document.createElement(tag);\n    setElementProps(el, attrs, events, parentView);\n    return el;\n}\n\nfunction createTextDom(text) {\n    return document.createTextNode(text);\n}\n\nfunction createViewDom(view, rootElement) {\n    if (view.beforeMount) {\n        try {\n            view.beforeMount.call(view);\n        } catch (e) {\n            setTimeout(error('(' + view.$name + ').beforeMount', e));\n        }\n    }\n    if (!view.$nodes) {\n        view.$renderAndSetNodes();\n    }\n    view.$rootElement = rootElement;\n    let elements = view.$nodes.map(ch => ch.$isView ? createViewDom(ch, rootElement) : createNodeDom(ch, view));\n    if (view.Mounted) {\n        setTimeout(function () {\n            try {\n                view.Mounted.call(view);\n            } catch (e) {\n                error('(' + view.$name + ').Mounted', e)\n            }\n        }, 0);\n    }\n    return elements\n}\n\nfunction createNodeDom(node, parentView) {\n    if (node.isText) {\n        node.element = createTextDom(node.text);\n        node.element.__node = node;\n        return node.element;\n    }\n\n    node.element = createElement(node.tag, node.attrs, node.events, parentView);\n\n    node.element.__node = node;\n\n    if (!node.isEmpty) {\n        let el = node.children.map(c => createDom(c, parentView, node.element));\n        HTMLElement.prototype.append.apply(node.element, normalize(el, {createText, parent: this}))\n    }\n\n    return node.element;\n}\n\nfunction createDom(node, parentView, rootElement) {\n    return node.$isView ? createViewDom(node, rootElement) : createNodeDom(node, parentView)\n}\n\nfunction render(view, rootElement) {\n    if (!rootElement) throw Error('render(): rootElement is undefined');\n    let current = rootElement.__view;\n    if (current) {\n        console.error('already rendered');\n        return;\n    }\n    view.$rootElement = rootElement\n    rootElement.innerHTML = \"\";\n    let els = createDom(view, view, rootElement);\n    if (!(els instanceof Array)) els = [els];\n    els = flatMap(els)\n    for (let i = 0; i < els.length; i++) {\n        Node.prototype.appendChild.call(rootElement, els[i])\n    }\n    rootElement.__view = view\n}\n\nmodule.exports = {render, createDom, createNodeDom, createViewDom, createTextDom, createElement}","/**\n * @name TYPE\n */\nmodule.exports = {\n    FRAG: -1,\n    TEXT: 0,\n    NODE: 1,\n    VIEW: 2\n}\n","const TYPE = require(\"./type\");\nconst {deepClone} = require(\"../core/collections\");\nconst {flatMap} = require(\"../core/collections\");\nconst {setElementProps, compileProps, normalize} = require(\"./utils\");\n\n/**\n *\n * @param {String|null} tag\n * @param {Object|String} prop\n * @param {any[]} [children]\n * @constructor\n */\nfunction VNode(tag = \"#text\", prop, children) {\n    tag = tag.toLowerCase();\n    this.tag = tag;\n    this.element = undefined;\n\n    if (tag === '#text') {\n        this.$t = TYPE.TEXT;\n        this.isText = true;\n        this.text = prop;\n        Object.defineProperty(this, '$clone', {\n            value: function () {\n                return createText(this.text)\n            },\n            configurable: false,\n            writable: false,\n            enumerable: false\n        })\n        return;\n    }\n\n    this.$t = TYPE.NODE;\n    this.isNode = true;\n    let cp = compileProps(prop || {});\n    this.attrs = cp.attrs;\n    this.events = cp.events;\n    this.props = cp.props;\n    this.children = normalize(children || [], {createText, parent: this});\n\n    this.isEmpty = () => this.children.length === 0;\n\n    Object.defineProperty(this, '$clone', {\n        value: function () {\n            return new VNode(this.tag, deepClone(this.props || {}), (children || []).map(c => c.$clone()))\n        }\n    })\n}\nObject.defineProperty(VNode.prototype, '$parent', {\n    value: undefined,\n    configurable: false,\n    writable: true,\n    enumerable: false\n})\nObject.defineProperty(VNode.prototype, 'isEmpty', {\n    get() {\n        return this.children.length === 0\n    }\n})\nVNode.prototype.$destroy = function () {\n    this.element.remove();\n}\nfunction createNode(tag, props, children) {\n    return new VNode(tag, props, children)\n}\n\nfunction createText(text) {\n    return new VNode(\"#text\", text)\n}\n\nmodule.exports = {VNode, TYPE, createNode, createText}","const {kebab} = require(\"../core/cases\")\nconst {forEach} = require(\"../core/collections\")\n\nfunction generateStyles(jss) {\n    let styles = []\n    forEach(jss, (val, prop)=>{\n        styles.push(`${kebab(prop)}: ${val};`)\n    })\n    return styles\n}\n\nfunction generateCss(jss, joinWith='\\n') {\n    return generateStyles(jss).sort((a, b)=>a[0].localeCompare(b[0])).join(joinWith);\n}\n\nmodule.exports = {generateStyles, generateCss}","const JSS = require(\"./jss\");\nconst {isArr} = require(\"../core/types\");\nconst {isStr} = require(\"../core/types\");\nconst {isVal} = require(\"../core/types\");\nconst {setEvent} = require(\"../dom/event\");\nconst {forEach} = require(\"../core/collections\");\nconst {isPrim} = require(\"../core/types\");\n\nfunction randomId() {\n    return (Date.now().toString(24).slice(2)+ Math.random().toString(24).slice(6))\n}\n\nfunction normalize(children, {createText, parent, empty}) {\n    if (!(children instanceof Array)) {\n        if (children === null || children === undefined)\n            return empty || []\n        else children = [children]\n    }\n    let norm = [];\n    const len = children.length;\n    for (let i = 0; i < len; i++) {\n        let child = children[i];\n        if (child === null || child === undefined || isPrim(child)) {\n            if (typeof child === 'symbol') child = child.toString();\n            child = createText(\"\" + child);\n            child.$parent = parent;\n            norm.push(child);\n            continue;\n        }\n        // fragment\n        if (child.isNode && child.tag === null) {\n            child = child.children || [];\n        }\n        if (child instanceof Array) {\n            child = normalize(child, {createText});\n            for (let j = 0; j < child.length; j++) {\n                child[j].$parent = parent;\n                norm.push(child[j])\n            }\n            continue;\n        }\n        child.$parent = parent;\n        norm.push(child)\n    }\n    if (norm.length === 0) norm = empty||[];\n    return norm\n}\n\n\nfunction isEventPropKey(key) {\n    return /on[A-Z]+/.test(key)\n}\n\nfunction normalizeEventName(eventName) {\n    return eventName.slice(2).toLowerCase()\n}\n\nfunction compileProps(props) {\n    const cats = {\n        events: {},\n        attrs: {}\n    }\n    forEach(props, (v, k)=>{\n        if (isEventPropKey(k))\n            cats.events[normalizeEventName(k)] = v\n        else\n            cats.attrs[k] = v\n    })\n    return cats\n}\n\nfunction compileStyles(styles, joinWith) {\n    if (!isVal(styles)) return ''\n    else if (isStr(styles)) return styles\n    else if (isArr(styles)) return styles.join(joinWith)\n    return JSS.generateCss(styles, joinWith)\n}\n\nfunction setElementProps(element, attrs, events, view) {\n    if (attrs) {\n        forEach(attrs, (val, key) => {\n            if (key === 'style') {\n                val = compileStyles(val, ' ')\n            } else if (key === 'className') {\n                key = 'class'\n            }\n            element.setAttribute(key, val)\n        })\n    }\n\n    if (events) {\n        forEach(events, (v, k) => {\n            if (view) v = v.bind(view)\n            setEvent(element, k, v)\n        })\n    }\n}\n\nmodule.exports = {randomId, normalize, setElementProps, compileProps, compileStyles}","const {createDom} = require(\"./render\");\nconst {createNodeDom} = require(\"./render\");\nconst {error} = require(\"../core/logging\");\nconst {patchAttrs, patchEvents} = require(\"./patch-element\");\nconst {concat} = require(\"../core/collections\");\nconst {createText} = require(\"./vnode\");\nconst {normalize} = require(\"./utils\");\n\nfunction patchView(view, props, children) {\n    if (view.shouldUpdate) {\n        try {\n            if (!view.shouldUpdate.call(view, {oldProps: view.props, newProps: props})) return;\n        } catch (e) {\n            setTimeout(error('('+view.$name+').shouldUpdate', e),0);\n        }\n    }\n    if (view.beforeUpdate) {\n        try {\n            view.beforeUpdate.call(view, props);\n        } catch (e) {\n            setTimeout(error('('+view.$name+').Updated', e));\n        }\n    }\n    view.$children = normalize(children, {createText})\n    concat(view.props, props || {});\n    const newNodes = view.$renderNodes();\n    view.$nodes = patchNodes(newNodes, view.$nodes, view, view.$rootElement);\n    if (view.Updated) {\n        setTimeout(function () {\n            try {\n                view.Updated.call(view);\n            } catch (e) {\n                error('(' + view.$name + ').Updated', e)\n            }\n        }, 0);\n    }\n}\n\nfunction patchNode(_new, _cur, view) {\n    if (_new.tag === _cur.tag) {\n        _new.element = _cur.element;\n        // _cur.element = undefined;\n        _new.element.__node = _new;\n        patchAttrs(_new.attrs, _cur.attrs, _cur.element);\n        patchEvents(_new.events, _cur.events, _new.element);\n        if (!_new.element) {\n            error('Fatal: current node has no element', _cur, _new);\n        }\n        // VNode children\n        patchNodes(_new.children, _cur.children, view, _new.element);\n    } else {\n        _new.element = createNodeDom(_new, view);\n        _cur.element.replaceWith(_new.element);\n        _new.element.__node = _new;\n    }\n\n}\n\nfunction patchText(_new, _cur) {\n    if (_new.text !== _cur.text) {\n        _cur.element.textContent = _new.text;\n    }\n    _new.element = _cur.element;\n    _new.element.__node = _new;\n}\n\nfunction patchNodes(newNodes, currentNodes, parentView, rootElement) {\n    if (!rootElement) throw Error('patchNodes: rootElement is not defined');\n    let newLen = newNodes.length;\n    let curLen = currentNodes.length;\n    let added = newLen >= curLen;\n    let len = added ? curLen : newLen;\n    let idx = 0;\n    for (; idx < len; idx++) {\n        const _cur = currentNodes[idx];\n        const _new = newNodes[idx];\n        if (_cur.$t === _new.$t) {\n            if (_cur.isNode) {\n                patchNode(_new, _cur, parentView);\n                continue;\n            }\n            if (_cur.isText) {\n                patchText(_new, _cur);\n                continue;\n            }\n            if (_cur.$name === _new.$name) {\n                patchView(_cur, _new.props, _new.$children);\n                _cur.$parent = _new.$parent;\n                _new.$parent = undefined;\n                newNodes[idx] = _cur;\n            } else {\n                const el = createDom(_new, parentView, rootElement);\n                let anchor = undefined;\n                anchor = _cur.$destroy(true);\n                Element.prototype.replaceWith.apply(anchor, el);\n                _new.element = el;\n            }\n        } else {\n            const el = createDom(_new, parentView, rootElement);\n            let anchor = undefined;\n            if (_cur.isNode || _cur.isText) {\n                anchor = _cur.element;\n            } else {\n                anchor = _cur.$destroy(true);\n            }\n            if (anchor) {\n                Element.prototype.replaceWith.apply(anchor, el);\n                _new.element = el;\n            } else {\n                console.error('Empty anchor', _cur);\n            }\n        }\n    }\n    if (added) {\n        for (let i = idx; i < newLen; i++) {\n            let render = createDom(newNodes[i], parentView, rootElement);\n            rootElement.append(render);\n        }\n    } else if (curLen > newLen) {\n        for (let i = idx; i < curLen; i++) {\n            currentNodes[i].$destroy();\n        }\n    }\n    return newNodes;\n}\n\nmodule.exports = {patchView}","const {clearEvent, setEvent} = require(\"../dom/event\");\nconst {forEach} = require(\"../core/collections\");\nconst {compileStyles} = require(\"./utils\");\n\nfunction patchAttrs(newAttrs, oldAttrs, element) {\n    const newKeys = Object.keys(newAttrs)\n    const currentKeys = Object.keys(oldAttrs)\n\n    const keys = Object.keys(newAttrs)\n    // const len = keys.length\n    // console.log(newAttrs, oldAttrs)\n    for (let key of keys) {\n        const newVal = newAttrs[key]\n        // if (currentKeys.indexOf(key) < 0) {\n        //     element.setAttribute(key, newVal)\n        // } else {\n        const curVal = oldAttrs[key]\n        if (key === 'style') {\n            const newStyle = compileStyles(newVal, ' ')\n            const currentStyle = compileStyles(curVal, ' ')\n            if (newStyle !== currentStyle) {\n                //     console.log()\n                element.setAttribute('style', newStyle)\n            }\n        } else if (key === 'className') {\n            element.setAttribute('class', newVal)\n        } else {\n            element.setAttribute(key, newVal)\n        }\n        // }\n    }\n    for (let key of currentKeys) {\n        if (newKeys.indexOf(key) < 0) {\n            element.removeAttribute(key)\n        }\n    }\n}\n\nfunction patchEvents(newEvents={}, oldEvents={}, element) {\n    forEach(oldEvents, function (listener, event) {\n        if (newEvents[event] !== listener) {\n            clearEvent(element, event)\n        }\n    })\n    forEach(newEvents, function (listener, event) {\n        // console.log(event, listener)\n        setEvent(element, event, listener)\n    })\n}\n\nmodule.exports = {\n    patchAttrs,\n    patchEvents\n}","const scheduler = Object.seal({\n    queue: [],\n    busy: false,\n    interval: null\n})\n\nfunction runner() {\n    if (scheduler.queue.length === 0) {\n        clearInterval(scheduler.interval);\n        scheduler.interval = null\n        return;\n    }\n    if (!scheduler.busy) {\n        let [id, task] = scheduler.queue.shift();\n        if (scheduler.queue.some(s=>s[0] === id)){\n            return;\n        }\n        task();\n        scheduler.busy = false;\n    }\n}\n\nfunction start() {\n    if (scheduler.interval === null) {\n        scheduler.interval = setInterval(runner, 20)\n    }\n}\n\nfunction dispatchTask(task, id) {\n    if (scheduler.queue.some(s=>s[0] === id)){\n        return;\n    }\n    scheduler.queue.push([id, task]);\n    start()\n}\n\nmodule.exports = {dispatchTask}","const {View, createView} = require(\"./view\");\nconst h = require(\"./h\");\nconst {render} = require(\"./render\");\n\n/**\n * @type {View.create}\n */\nconst createComponent = createView;\n/**\n * @type {function(*, *=): [VNode]}\n */\nconst jsx = h;\n\n/**\n *\n * @type {{createComponent: View.create, View: View, mount: function(*=, *=): void, jsx: (function(*, *=): VNode[])}}\n */\nmodule.exports = {\n    View, createComponent, jsx, mount: render\n}","const {normalize} = require(\"./utils\");\nconst {renderView} = require(\"./view\");\nconst {createNode, createText} = require(\"./vnode\");\n\n\nfunction h(type, prop, ...children) {\n    if (type === null) {\n        return children || [];\n    }\n    if (prop === null || prop === undefined) {\n        prop = {};\n    }\n    if (type.$isView) {\n        return renderView(type.$clone(), prop, children);\n    }\n\n    return createNode(type, prop, normalize(children, {createText}));\n}\n\nfunction t(text) {\n    return createText(text)\n}\n\nmodule.exports = {h, t}","const Core = require('./core');\nconst Dom = require('./dom');\nconst Http = require('./http');\n// const VM = {\n//\n// };\nmodule.exports = {\n    Core,\n    Dom,\n    Http,\n    UI: require('./ui')\n}","const {h} = require('./h');\nfunction a(args, ...children) {return h('a', args, ...children)}\nfunction abbr(args, ...children) {return h('abbr', args, ...children)}\nfunction acronym(args, ...children) {return h('acronym', args, ...children)}\nfunction address(args, ...children) {return h('address', args, ...children)}\nfunction applet(args, ...children) {return h('applet', args, ...children)}\nfunction area(args, ...children) {return h('area', args, ...children)}\nfunction article(args, ...children) {return h('article', args, ...children)}\nfunction aside(args, ...children) {return h('aside', args, ...children)}\nfunction audio(args, ...children) {return h('audio', args, ...children)}\nfunction b(args, ...children) {return h('b', args, ...children)}\nfunction base(args, ...children) {return h('base', args, ...children)}\nfunction basefont(args, ...children) {return h('basefont', args, ...children)}\nfunction bdi(args, ...children) {return h('bdi', args, ...children)}\nfunction bdo(args, ...children) {return h('bdo', args, ...children)}\nfunction bgsound(args, ...children) {return h('bgsound', args, ...children)}\nfunction big(args, ...children) {return h('big', args, ...children)}\nfunction blink(args, ...children) {return h('blink', args, ...children)}\nfunction blockquote(args, ...children) {return h('blockquote', args, ...children)}\nfunction body(args, ...children) {return h('body', args, ...children)}\nfunction br(args, ...children) {return h('br', args, ...children)}\nfunction button(args, ...children) {return h('button', args, ...children)}\nfunction canvas(args, ...children) {return h('canvas', args, ...children)}\nfunction caption(args, ...children) {return h('caption', args, ...children)}\nfunction center(args, ...children) {return h('center', args, ...children)}\nfunction cite(args, ...children) {return h('cite', args, ...children)}\nfunction code(args, ...children) {return h('code', args, ...children)}\nfunction col(args, ...children) {return h('col', args, ...children)}\nfunction colgroup(args, ...children) {return h('colgroup', args, ...children)}\nfunction content(args, ...children) {return h('content', args, ...children)}\nfunction data(args, ...children) {return h('data', args, ...children)}\nfunction datalist(args, ...children) {return h('datalist', args, ...children)}\nfunction dd(args, ...children) {return h('dd', args, ...children)}\nfunction decorator(args, ...children) {return h('decorator', args, ...children)}\nfunction del(args, ...children) {return h('del', args, ...children)}\nfunction details(args, ...children) {return h('details', args, ...children)}\nfunction dfn(args, ...children) {return h('dfn', args, ...children)}\nfunction dir(args, ...children) {return h('dir', args, ...children)}\nfunction div(args, ...children) {return h('div', args, ...children)}\nfunction dl(args, ...children) {return h('dl', args, ...children)}\nfunction dt(args, ...children) {return h('dt', args, ...children)}\nfunction element(args, ...children) {return h('element', args, ...children)}\nfunction em(args, ...children) {return h('em', args, ...children)}\nfunction embed(args, ...children) {return h('embed', args, ...children)}\nfunction fieldset(args, ...children) {return h('fieldset', args, ...children)}\nfunction figcaption(args, ...children) {return h('figcaption', args, ...children)}\nfunction figure(args, ...children) {return h('figure', args, ...children)}\nfunction font(args, ...children) {return h('font', args, ...children)}\nfunction footer(args, ...children) {return h('footer', args, ...children)}\nfunction form(args, ...children) {return h('form', args, ...children)}\nfunction frame(args, ...children) {return h('frame', args, ...children)}\nfunction frameset(args, ...children) {return h('frameset', args, ...children)}\nfunction h1(args, ...children) {return h('h1', args, ...children)}\nfunction h2(args, ...children) {return h('h2', args, ...children)}\nfunction h3(args, ...children) {return h('h3', args, ...children)}\nfunction h4(args, ...children) {return h('h4', args, ...children)}\nfunction h5(args, ...children) {return h('h5', args, ...children)}\nfunction h6(args, ...children) {return h('h6', args, ...children)}\nfunction head(args, ...children) {return h('head', args, ...children)}\nfunction header(args, ...children) {return h('header', args, ...children)}\nfunction hgroup(args, ...children) {return h('hgroup', args, ...children)}\nfunction hr(args, ...children) {return h('hr', args, ...children)}\nfunction html(args, ...children) {return h('html', args, ...children)}\nfunction i(args, ...children) {return h('i', args, ...children)}\nfunction iframe(args, ...children) {return h('iframe', args, ...children)}\nfunction img(args, ...children) {return h('img', args, ...children)}\nfunction input(args, ...children) {return h('input', args, ...children)}\nfunction ins(args, ...children) {return h('ins', args, ...children)}\nfunction isindex(args, ...children) {return h('isindex', args, ...children)}\nfunction kbd(args, ...children) {return h('kbd', args, ...children)}\nfunction keygen(args, ...children) {return h('keygen', args, ...children)}\nfunction label(args, ...children) {return h('label', args, ...children)}\nfunction legend(args, ...children) {return h('legend', args, ...children)}\nfunction li(args, ...children) {return h('li', args, ...children)}\nfunction link(args, ...children) {return h('link', args, ...children)}\nfunction listing(args, ...children) {return h('listing', args, ...children)}\nfunction main(args, ...children) {return h('main', args, ...children)}\nfunction map(args, ...children) {return h('map', args, ...children)}\nfunction mark(args, ...children) {return h('mark', args, ...children)}\nfunction marquee(args, ...children) {return h('marquee', args, ...children)}\nfunction menu(args, ...children) {return h('menu', args, ...children)}\nfunction menuitem(args, ...children) {return h('menuitem', args, ...children)}\nfunction meta(args, ...children) {return h('meta', args, ...children)}\nfunction meter(args, ...children) {return h('meter', args, ...children)}\nfunction nav(args, ...children) {return h('nav', args, ...children)}\nfunction nobr(args, ...children) {return h('nobr', args, ...children)}\nfunction noframes(args, ...children) {return h('noframes', args, ...children)}\nfunction noscript(args, ...children) {return h('noscript', args, ...children)}\nfunction object(args, ...children) {return h('object', args, ...children)}\nfunction ol(args, ...children) {return h('ol', args, ...children)}\nfunction optgroup(args, ...children) {return h('optgroup', args, ...children)}\nfunction option(args, ...children) {return h('option', args, ...children)}\nfunction output(args, ...children) {return h('output', args, ...children)}\nfunction p(args, ...children) {return h('p', args, ...children)}\nfunction param(args, ...children) {return h('param', args, ...children)}\nfunction plaintext(args, ...children) {return h('plaintext', args, ...children)}\nfunction pre(args, ...children) {return h('pre', args, ...children)}\nfunction progress(args, ...children) {return h('progress', args, ...children)}\nfunction q(args, ...children) {return h('q', args, ...children)}\nfunction rp(args, ...children) {return h('rp', args, ...children)}\nfunction rt(args, ...children) {return h('rt', args, ...children)}\nfunction ruby(args, ...children) {return h('ruby', args, ...children)}\nfunction s(args, ...children) {return h('s', args, ...children)}\nfunction samp(args, ...children) {return h('samp', args, ...children)}\nfunction script(args, ...children) {return h('script', args, ...children)}\nfunction section(args, ...children) {return h('section', args, ...children)}\nfunction select(args, ...children) {return h('select', args, ...children)}\nfunction shadow(args, ...children) {return h('shadow', args, ...children)}\nfunction small(args, ...children) {return h('small', args, ...children)}\nfunction source(args, ...children) {return h('source', args, ...children)}\nfunction spacer(args, ...children) {return h('spacer', args, ...children)}\nfunction span(args, ...children) {return h('span', args, ...children)}\nfunction strike(args, ...children) {return h('strike', args, ...children)}\nfunction strong(args, ...children) {return h('strong', args, ...children)}\nfunction style(args, ...children) {return h('style', args, ...children)}\nfunction sub(args, ...children) {return h('sub', args, ...children)}\nfunction summary(args, ...children) {return h('summary', args, ...children)}\nfunction sup(args, ...children) {return h('sup', args, ...children)}\nfunction table(args, ...children) {return h('table', args, ...children)}\nfunction tbody(args, ...children) {return h('tbody', args, ...children)}\nfunction td(args, ...children) {return h('td', args, ...children)}\nfunction template(args, ...children) {return h('template', args, ...children)}\nfunction textarea(args, ...children) {return h('textarea', args, ...children)}\nfunction tfoot(args, ...children) {return h('tfoot', args, ...children)}\nfunction th(args, ...children) {return h('th', args, ...children)}\nfunction thead(args, ...children) {return h('thead', args, ...children)}\nfunction time(args, ...children) {return h('time', args, ...children)}\nfunction title(args, ...children) {return h('title', args, ...children)}\nfunction tr(args, ...children) {return h('tr', args, ...children)}\nfunction track(args, ...children) {return h('track', args, ...children)}\nfunction tt(args, ...children) {return h('tt', args, ...children)}\nfunction u(args, ...children) {return h('u', args, ...children)}\nfunction ul(args, ...children) {return h('ul', args, ...children)}\nfunction var_(args, ...children) {return h('var', args, ...children)}\nfunction video(args, ...children) {return h('video', args, ...children)}\nfunction wbr(args, ...children) {return h('wbr', args, ...children)}\nfunction xmp(args, ...children) {return h('xmp', args, ...children)}\n\nmodule.exports = {\n    a,\n\tabbr,\n\tacronym,\n\taddress,\n\tapplet,\n\tarea,\n\tarticle,\n\taside,\n\taudio,\n\tb,\n\tbase,\n\tbasefont,\n\tbdi,\n\tbdo,\n\tbgsound,\n\tbig,\n\tblink,\n\tblockquote,\n\tbody,\n\tbr,\n\tbutton,\n\tcanvas,\n\tcaption,\n\tcenter,\n\tcite,\n\tcode,\n\tcol,\n\tcolgroup,\n\tcontent,\n\tdata,\n\tdatalist,\n\tdd,\n\tdecorator,\n\tdel,\n\tdetails,\n\tdfn,\n\tdir,\n\tdiv,\n\tdl,\n\tdt,\n\telement,\n\tem,\n\tembed,\n\tfieldset,\n\tfigcaption,\n\tfigure,\n\tfont,\n\tfooter,\n\tform,\n\tframe,\n\tframeset,\n\th1,\n\th2,\n\th3,\n\th4,\n\th5,\n\th6,\n\thead,\n\theader,\n\thgroup,\n\thr,\n\thtml,\n\ti,\n\tiframe,\n\timg,\n\tinput,\n\tins,\n\tisindex,\n\tkbd,\n\tkeygen,\n\tlabel,\n\tlegend,\n\tli,\n\tlink,\n\tlisting,\n\tmain,\n\tmap,\n\tmark,\n\tmarquee,\n\tmenu,\n\tmenuitem,\n\tmeta,\n\tmeter,\n\tnav,\n\tnobr,\n\tnoframes,\n\tnoscript,\n\tobject,\n\tol,\n\toptgroup,\n\toption,\n\toutput,\n\tp,\n\tparam,\n\tplaintext,\n\tpre,\n\tprogress,\n\tq,\n\trp,\n\trt,\n\truby,\n\ts,\n\tsamp,\n\tscript,\n\tsection,\n\tselect,\n\tshadow,\n\tsmall,\n\tsource,\n\tspacer,\n\tspan,\n\tstrike,\n\tstrong,\n\tstyle,\n\tsub,\n\tsummary,\n\tsup,\n\ttable,\n\ttbody,\n\ttd,\n\ttemplate,\n\ttextarea,\n\ttfoot,\n\tth,\n\tthead,\n\ttime,\n\ttitle,\n\ttr,\n\ttrack,\n\ttt,\n\tu,\n\tul,\n\tvar_,\n\tvideo,\n\twbr,\n\txmp, h}\n","// const scope = require(\"./core/scope\")\n\nconst index = require(\"./index\")\nconst hscript = require(\"./ui/hscript\")\n\n// scope.setGlobal({\n//     X: {\n//         ...index.Core,\n//         ...index.Dom,\n//         ...index.Http,\n//     },\n//     // ...index.VM,\n//     // H: hscript\n// })\nglobal.X = {\n    ...index.Core,\n    ...index.Dom,\n    ...index.Http,\n}\nglobal.H = hscript\nglobal.Exir = index.UI\nglobal.jsx = index.UI.jsx\n\nrequire(\"./ext/collections.ext\")\nrequire(\"./ext/dom.ext\")"],"names":["$parcel$global","globalThis","self","window","global","isUnd","x","undefined","isNull","isVal","isFun","isObj","hasField","obj","field","pred","hasOwnProperty","$956817f9eb989583f3d557610d35f782$exports","typeName","constructor","name","isNum","isStr","String","isArr","Array","isPrim","isList","length","item","isMutableList","add","isSet","Set","isMap","Map","isError","Error","isEl","Element","HTMLElement","Node","isEls","HTMLCollection","NodeList","isEmpty","Object","keys","Enum","src","c","MAP","i","dict","args","o","_X_LOOP_BREAK_","Symbol","_X_ANY_","_X_ALL_","BREAK","ANY","ALL","UNSAFE_PROPS","s","contains","value","key","indexOf","v","forEach","vi","push","remove","it","flatMap","any","idx","splice","objMatchOne","match","m","k","objMatchAll","predicate","f","def","inc","RegExp","test","toString","funOrKey","emptyOf","nodeType","document","createTextNode","textContent","createElement","tagName","__proto__","create","concat","target","source","override","func","len","forEachRight","range","firstIndex","r","first","lastIndex","last","fn","all","filterStr","right","omit","res","filterObj","a","assign","filterArr","filter","maxIndex","list","mx","index","ix","minIndex","mn","map","transform","mapArr","mapObj","reduce","acc","rs","deepMerge","excludeKeys","maxDepth","allowUnsafeProps","depth","_keyGen","fnName","keyGen","$b3e90d02ae6085cfa7bba36178abc35d$exports","toggle","cl","deepClone","forN","init","finish","step","forEachRange","start","end","startsWith","endsWith","reverse","rev","filterRight","reduceRight","keyValuePairs","object","entries","max","min","shuffle","arrayLike","prototype","sort","call","Math","random","sortAsc","fieldFn","locale","compare","b","localeCompare","sortDesc","translateObject","join","lists","joined","joinKey","presentValue","groupBy","group","objectValues","values","_logTitle","flag","t","Date","getHours","getMinutes","getSeconds","getMilliseconds","_logTime","_prepareLog","lt","LogLevels","TRACE","INFO","WARN","ERROR","SILENT","Config","LogLevel","lvl","l","$14302ec5433d98a57c29a5181b895380$exports","showTrace","showInfo","showWarn","showError","silent","trace","console","apply","this","info","log","warn","error","$c74482fd85930aeac9b4aff031401d4e$exports","kebab","kb","pres","charAt","toLowerCase","camel","cml","toUpperCase","pascal","psc","snake","snk","decimalRegex","hexRegex","octRegex","binRegex","emailRegex","$c6489d9ed413a4641bc75ff3342cc037$exports","isDecimal","str","isHex","isOctal","isBinary","isEmail","seq","Queryable","__src__","count","[object Object]","slice","loop","vs","asObject","asArray","nk","arr","$4da02c9107cfabb5fb30e8d8d364d0a4$exports","bodyOf","$4ab335ba2accd57c163c06b57ae8efd5$exports","funcBodyEquals","f1","f2","throttle","intervalMs","___last___","getTime","debounce","afterMs","___timeout___","debounced","clearTimeout","setTimeout","_this","flush","bindArgs","once","called","arguments","$69af8cb1f6d2db466d1996cddba94a53$exports","Classes","className","trim","replace","split","e","element","defineProperty","get","classes","set","upd","DOMTokenList","from","__update__","items","getAttribute","setAttribute","ci","seal","$2d43eba238237349ec238ae78971968d$exports","cls","of","addClass","hasClass","removeClass","toggleClass","$","q","root","querySelectorAll","$124f16fd29394e02a7af344fdc0043e7$exports","$$","querySelector","queryOf","maxParent","body","gen","id","parentElement","children","findIndex","isBrowser","navigator","$7da1ad89aaf61149ba08e8c97f647d4a$exports","setGlobal","Extension","types","pcode","define","namedFunc","err","code","p","polyfill","$558c3c82edc540a375f8e5dd4f805167$exports","setEvent","event","listener","options","__EVENTS__","ev","fl","removeEventListener","addEventListener","clearEvent","hasEvent","type","getAttributes","atr","getAttributeNames","n","hasAttr","hasAttribute","getAttr","setAttr","Attributes","has","$492662b828c2931cadc52a16e112a6a6$exports","attrs","relLeft","offsetLeft","absLeft","clientLeft","relWidth","offsetWidth","absWidth","clientWidth","$c1f08f41eae7edb6e57fd7fa36f76a3f$exports","left","leftWin","rightWin","width","widthWin","$1a2556834c015495615fec661ae90e7e$exports","append","parent","elements","dispatchEvent","CustomEvent","detail","ATR","EVT","$b0a3d45cf8516db337616305e22ca91e$exports","patch","node","emptyStyle","style","cs","getComputedStyle","$0ecb8618d8957157db4bc7e1a77a23eb$exports","hasStyle","$98cbdf7d9357fe9eaa4140db78df7168$exports","HttpContent","data","$6be97ffc43f4d78efbd8406d9b2387c3$exports","HttpRq","setMethod","method","setUrl","u","url","encodeURI","setArg","buildUrlEncoded","ue","argNames","encodeURIComponent","setHeader","headers","getHeader","setContent","contentType","content","jsonContent","JSON","stringify","xmlContent","outerHTML","formContent","form","formElement","frm","FormData","formMultiPartContent","formUrlEncodedContent","$930251b9f7671c9e45935a763a618781$exports","HttpRs","xhr","status","text","statusText","getAllResponseHeaders","contentLength","response","json","xml","responseType","responseText","responseJSON","parse","responseXML","responseXml","parser","DOMParser","parseFromString","$ef7ff82c4aeff66cce5c1912f9b051de$exports","Ajax","params","rq","readyState","XMLHttpRequest","preparedCallback","ajax","progressCallback","uploadProgressCallback","successCallback","uploadFinishCallback","failCallback","timeoutCallback","abortCallback","enumerable","header","hdrs","onSuccess","callback","onUploadSuccess","onFail","onTimeout","onAbort","onProgress","onUploadProgress","withContent","xmlData","formData","jsonData","urlEncodedData","prepare","reset","isPrepared","open","val","setRequestHeader","onreadystatechange","onerror","onprogress","upload","onloadend","ontimeout","onabort","send","resend","promise","Promise","rej","makeHttpRequest","callbacks","Rq","success","fail","progress","uploadProgress","uploadFinish","makeRequest","opts","makePromise","extra","resolve","reject","async","default","sendRequest","$c06d6c323d8d8f2b4fc909a701f86362$exports","Get","Post","Delete","Put","Patch","sendGet","opt","sendDelete","sendPost","sendPut","sendPatch","InterceptorStore","use","interceptor","$1c8759a4c007fe474cdcb87d590e9921$exports","XHttpClient","host","ratePerMinute","defaultParams","defaultHeaders","timeout","retries","interceptors","request","__queue","__sending","__interval","__ratePerMinute","__timeBetween","__lastRequestTime","_intervalSend","client","clearInterval","now","shift","_sendImmediately","intercept","then","catch","_removeSendingRequest","rqi","_addRequest","cancelToken","setInterval","RETRIES","_promise_","_contentRequest","route","post","put","delete","cancel","token","sending","abort","cancelAll","$94a445a011a34f0ec7e1cec6180a38ec$exports","randomId","$dd187996a483a4508041d40f79c05c14$exports","createNode","$810243358a9f0f495b28d97e4ac0f02b$exports","$47f26579b98101bcbbeaa83e9d923099$exports","FRAG","TEXT","NODE","VIEW","generateStyles","jss","styles","prop","$07f3dacc5023516ad3ff8d373a433ae9$exports","generateCss","joinWith","compileStyles","normalize","createText","empty","norm","child","$parent","isNode","tag","j","setElementProps","events","view","bind","compileProps","props","cats","eventName","VNode","$t","isText","configurable","writable","cp","$clone","$destroy","TYPE","parentView","el","createTextDom","createViewDom","rootElement","beforeMount","$name","$nodes","$renderAndSetNodes","$rootElement","ch","$isView","createNodeDom","Mounted","__node","createDom","$b2a29aa5c9f40dfbde67c144941f1e71$exports","render","__view","innerHTML","els","appendChild","$498881f19c3df44cb21235e1a0255319$exports","patchAttrs","newAttrs","oldAttrs","newKeys","currentKeys","newVal","curVal","newStyle","removeAttribute","patchEvents","newEvents","oldEvents","patchView","shouldUpdate","oldProps","newProps","beforeUpdate","$children","newNodes","$renderNodes","patchNodes","Updated","patchNode","_new","_cur","replaceWith","patchText","currentNodes","newLen","curLen","added","anchor","$3b980c29ca6fa61b07ba4cc402f20a07$exports","scheduler","queue","busy","interval","runner","task","some","$1e03119a2b48d76fc65e97d7fd6eb548$exports","dispatchTask","View","$proto","freeze","getOwnPropertyNames","Function","$instanceId","state","$elements","isViewClass","isPrototypeOf","$updateWith","beforeCreate","Created","getAnchor","beforeDestroy","firstEl","$clean","$update","$2caab0af36bf6f980dd6745b9ae8eff5$exports","getViewInstance","newArgs","TypeError","createView","renderView","$4b0dc4db1bd58a562bf004b393d25d3d$exports","h","$75263850b7b3ba02cefbe4d29b2de773$exports","Core","Dom","Http","UI","createComponent","jsx","mount","$3cb445bf36977165390c02385ef798bc$exports","abbr","acronym","address","applet","area","article","aside","audio","base","basefont","bdi","bdo","bgsound","big","blink","blockquote","br","button","canvas","caption","center","cite","col","colgroup","datalist","dd","decorator","del","details","dfn","dir","div","dl","dt","em","embed","fieldset","figcaption","figure","font","footer","frame","frameset","h1","h2","h3","h4","h5","h6","head","hgroup","hr","html","iframe","img","input","ins","isindex","kbd","keygen","label","legend","li","link","listing","main","mark","marquee","menu","menuitem","meta","meter","nav","nobr","noframes","noscript","ol","optgroup","option","output","param","plaintext","pre","rp","rt","ruby","samp","script","section","select","shadow","small","spacer","span","strike","strong","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","time","title","tr","track","tt","ul","var_","video","wbr","xmp","X","H","Exir"],"version":3,"file":"exir-bundle-ext.js.map"}